import{S as Cv,i as Mv,s as kv,k as Wt,l as Yt,m as wn,h as Et,n as tt,b as Is,C as Dt,D as Ss,E as nw,o as iw,Q as ws,w as Av,a as Sv,q as ch,c as wv,r as hh,H as rw,d as dh,f as ow,g as fh,u as uw,F as sw,v as aw,y as lw,z as cw,A as hw,B as dw}from"../chunks/index.c7fa5583.js";import{p as fw}from"../chunks/stores.1249a1df.js";var pw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Sn={};/*
 @license
 Shaka Player
 Copyright 2016 Google LLC
 SPDX-License-Identifier: Apache-2.0
*/(function(Ee){(function(){var j=typeof window<"u"?window:pw,F={};(function(M,z,de){/*
 @license
 Shaka Player
 Copyright 2016 Google LLC
 SPDX-License-Identifier: Apache-2.0
*/var d;function We(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}var st=typeof Object.defineProperties=="function"?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};function Pt(e){e=[typeof globalThis=="object"&&globalThis,e,typeof M=="object"&&M,typeof self=="object"&&self,typeof z=="object"&&z];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}var je=Pt(this);function Y(e,t){if(t)e:{var n=je;e=e.split(".");for(var i=0;i<e.length-1;i++){var r=e[i];if(!(r in n))break e;n=n[r]}e=e[e.length-1],i=n[e],t=t(i),t!=i&&t!=null&&st(n,e,{configurable:!0,writable:!0,value:t})}}Y("Symbol",function(e){function t(o){if(this instanceof t)throw new TypeError("Symbol is not a constructor");return new n(i+(o||"")+"_"+r++,o)}function n(o,u){this.g=o,st(this,"description",{configurable:!0,writable:!0,value:u})}if(e)return e;n.prototype.toString=function(){return this.g};var i="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",r=0;return t}),Y("Symbol.iterator",function(e){if(e)return e;e=Symbol("Symbol.iterator");for(var t="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),n=0;n<t.length;n++){var i=je[t[n]];typeof i=="function"&&typeof i.prototype[e]!="function"&&st(i.prototype,e,{configurable:!0,writable:!0,value:function(){return fi(We(this))}})}return e});function fi(e){return e={next:e},e[Symbol.iterator]=function(){return this},e}function p(e){var t=typeof Symbol<"u"&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:We(e)}}function se(e){if(!(e instanceof Array)){e=p(e);for(var t,n=[];!(t=e.next()).done;)n.push(t.value);e=n}return e}var nr=typeof Object.create=="function"?Object.create:function(e){function t(){}return t.prototype=e,new t},pi;if(typeof Object.setPrototypeOf=="function")pi=Object.setPrototypeOf;else{var gi;e:{var Jt={a:!0},ir={};try{ir.__proto__=Jt,gi=ir.a;break e}catch{}gi=!1}pi=gi?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null}var He=pi;function K(e,t){if(e.prototype=nr(t.prototype),e.prototype.constructor=e,He)He(e,t);else for(var n in t)if(n!="prototype")if(Object.defineProperties){var i=Object.getOwnPropertyDescriptor(t,n);i&&Object.defineProperty(e,n,i)}else e[n]=t[n];e.uj=t.prototype}function dt(){this.s=!1,this.l=null,this.h=void 0,this.g=1,this.j=this.m=0,this.C=this.i=null}function mi(e){if(e.s)throw new TypeError("Generator is already running");e.s=!0}dt.prototype.B=function(e){this.h=e};function Un(e,t){e.i={Ef:t,Nf:!0},e.g=e.m||e.j}dt.prototype.return=function(e){this.i={return:e},this.g=this.j};function m(e,t,n){return e.g=n,{value:t}}dt.prototype.D=function(e){this.g=e};function P(e){e.g=0}function ee(e,t,n){e.m=t,n!=null&&(e.j=n)}function vi(e){e.m=0,e.j=2}function le(e,t,n){e.g=t,e.m=n||0}function te(e,t){return e.m=t||0,t=e.i.Ef,e.i=null,t}function In(e){e.C=[e.i],e.m=0,e.j=0}function xn(e,t){var n=e.C.splice(0)[0];(n=e.i=e.i||n)?n.Nf?e.g=e.m||e.j:n.D!=null&&e.j<n.D?(e.g=n.D,e.i=null):e.g=e.j:e.g=t}function Lv(e){this.g=new dt,this.h=e}function Nv(e,t){mi(e.g);var n=e.g.l;return n?xs(e,"return"in n?n.return:function(i){return{value:i,done:!0}},t,e.g.return):(e.g.return(t),rr(e))}function xs(e,t,n,i){try{var r=t.call(e.g.l,n);if(!(r instanceof Object))throw new TypeError("Iterator result "+r+" is not an object");if(!r.done)return e.g.s=!1,r;var o=r.value}catch(u){return e.g.l=null,Un(e.g,u),rr(e)}return e.g.l=null,i.call(e.g,o),rr(e)}function rr(e){for(;e.g.g;)try{var t=e.h(e.g);if(t)return e.g.s=!1,{value:t.value,done:!1}}catch(n){e.g.h=void 0,Un(e.g,n)}if(e.g.s=!1,e.g.i){if(t=e.g.i,e.g.i=null,t.Nf)throw t.Ef;return{value:t.return,done:!0}}return{value:void 0,done:!0}}function Rv(e){this.next=function(t){return mi(e.g),e.g.l?t=xs(e,e.g.l.next,t,e.g.B):(e.g.B(t),t=rr(e)),t},this.throw=function(t){return mi(e.g),e.g.l?t=xs(e,e.g.l.throw,t,e.g.B):(Un(e.g,t),t=rr(e)),t},this.return=function(t){return Nv(e,t)},this[Symbol.iterator]=function(){return this}}function _v(e){function t(i){return e.next(i)}function n(i){return e.throw(i)}return new Promise(function(i,r){function o(u){u.done?i(u.value):Promise.resolve(u.value).then(t,n).then(o,r)}o(e.next())})}function I(e){return _v(new Rv(new Lv(e)))}function Ot(){for(var e=Number(this),t=[],n=e;n<arguments.length;n++)t[n-e]=arguments[n];return t}Y("Promise",function(e){function t(u){this.h=0,this.i=void 0,this.g=[],this.s=!1;var s=this.j();try{u(s.resolve,s.reject)}catch(a){s.reject(a)}}function n(){this.g=null}function i(u){return u instanceof t?u:new t(function(s){s(u)})}if(e)return e;n.prototype.h=function(u){if(this.g==null){this.g=[];var s=this;this.i(function(){s.l()})}this.g.push(u)};var r=je.setTimeout;n.prototype.i=function(u){r(u,0)},n.prototype.l=function(){for(;this.g&&this.g.length;){var u=this.g;this.g=[];for(var s=0;s<u.length;++s){var a=u[s];u[s]=null;try{a()}catch(l){this.j(l)}}}this.g=null},n.prototype.j=function(u){this.i(function(){throw u})},t.prototype.j=function(){function u(l){return function(c){a||(a=!0,l.call(s,c))}}var s=this,a=!1;return{resolve:u(this.H),reject:u(this.l)}},t.prototype.H=function(u){if(u===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(u instanceof t)this.J(u);else{e:switch(typeof u){case"object":var s=u!=null;break e;case"function":s=!0;break e;default:s=!1}s?this.G(u):this.m(u)}},t.prototype.G=function(u){var s=void 0;try{s=u.then}catch(a){this.l(a);return}typeof s=="function"?this.K(s,u):this.m(u)},t.prototype.l=function(u){this.B(2,u)},t.prototype.m=function(u){this.B(1,u)},t.prototype.B=function(u,s){if(this.h!=0)throw Error("Cannot settle("+u+", "+s+"): Promise already settled in state"+this.h);this.h=u,this.i=s,this.h===2&&this.I(),this.C()},t.prototype.I=function(){var u=this;r(function(){if(u.F()){var s=je.console;typeof s<"u"&&s.error(u.i)}},1)},t.prototype.F=function(){if(this.s)return!1;var u=je.CustomEvent,s=je.Event,a=je.dispatchEvent;return typeof a>"u"?!0:(typeof u=="function"?u=new u("unhandledrejection",{cancelable:!0}):typeof s=="function"?u=new s("unhandledrejection",{cancelable:!0}):(u=je.document.createEvent("CustomEvent"),u.initCustomEvent("unhandledrejection",!1,!0,u)),u.promise=this,u.reason=this.i,a(u))},t.prototype.C=function(){if(this.g!=null){for(var u=0;u<this.g.length;++u)o.h(this.g[u]);this.g=null}};var o=new n;return t.prototype.J=function(u){var s=this.j();u.od(s.resolve,s.reject)},t.prototype.K=function(u,s){var a=this.j();try{u.call(s,a.resolve,a.reject)}catch(l){a.reject(l)}},t.prototype.then=function(u,s){function a(h,g){return typeof h=="function"?function(v){try{l(h(v))}catch(T){c(T)}}:g}var l,c,f=new t(function(h,g){l=h,c=g});return this.od(a(u,l),a(s,c)),f},t.prototype.catch=function(u){return this.then(void 0,u)},t.prototype.od=function(u,s){function a(){switch(l.h){case 1:u(l.i);break;case 2:s(l.i);break;default:throw Error("Unexpected state: "+l.h)}}var l=this;this.g==null?o.h(a):this.g.push(a),this.s=!0},t.resolve=i,t.reject=function(u){return new t(function(s,a){a(u)})},t.race=function(u){return new t(function(s,a){for(var l=p(u),c=l.next();!c.done;c=l.next())i(c.value).od(s,a)})},t.all=function(u){var s=p(u),a=s.next();return a.done?i([]):new t(function(l,c){function f(v){return function(T){h[v]=T,g--,g==0&&l(h)}}var h=[],g=0;do h.push(void 0),g++,i(a.value).od(f(h.length-1),c),a=s.next();while(!a.done)})},t});function Ut(e,t){return Object.prototype.hasOwnProperty.call(e,t)}Y("WeakMap",function(e){function t(a){if(this.g=(s+=Math.random()+1).toString(),a){a=p(a);for(var l;!(l=a.next()).done;)l=l.value,this.set(l[0],l[1])}}function n(){}function i(a){var l=typeof a;return l==="object"&&a!==null||l==="function"}function r(a){if(!Ut(a,u)){var l=new n;st(a,u,{value:l})}}function o(a){var l=Object[a];l&&(Object[a]=function(c){return c instanceof n?c:(Object.isExtensible(c)&&r(c),l(c))})}if(function(){if(!e||!Object.seal)return!1;try{var a=Object.seal({}),l=Object.seal({}),c=new e([[a,2],[l,3]]);return c.get(a)!=2||c.get(l)!=3?!1:(c.delete(a),c.set(l,4),!c.has(a)&&c.get(l)==4)}catch{return!1}}())return e;var u="$jscomp_hidden_"+Math.random();o("freeze"),o("preventExtensions"),o("seal");var s=0;return t.prototype.set=function(a,l){if(!i(a))throw Error("Invalid WeakMap key");if(r(a),!Ut(a,u))throw Error("WeakMap key fail: "+a);return a[u][this.g]=l,this},t.prototype.get=function(a){return i(a)&&Ut(a,u)?a[u][this.g]:void 0},t.prototype.has=function(a){return i(a)&&Ut(a,u)&&Ut(a[u],this.g)},t.prototype.delete=function(a){return i(a)&&Ut(a,u)&&Ut(a[u],this.g)?delete a[u][this.g]:!1},t}),Y("Map",function(e){function t(){var s={};return s.mb=s.next=s.head=s}function n(s,a){var l=s.g;return fi(function(){if(l){for(;l.head!=s.g;)l=l.mb;for(;l.next!=l.head;)return l=l.next,{done:!1,value:a(l)};l=null}return{done:!0,value:void 0}})}function i(s,a){var l=a&&typeof a;l=="object"||l=="function"?o.has(a)?l=o.get(a):(l=""+ ++u,o.set(a,l)):l="p_"+a;var c=s.h[l];if(c&&Ut(s.h,l))for(s=0;s<c.length;s++){var f=c[s];if(a!==a&&f.key!==f.key||a===f.key)return{id:l,list:c,index:s,wa:f}}return{id:l,list:c,index:-1,wa:void 0}}function r(s){if(this.h={},this.g=t(),this.size=0,s){s=p(s);for(var a;!(a=s.next()).done;)a=a.value,this.set(a[0],a[1])}}if(function(){if(!e||typeof e!="function"||!e.prototype.entries||typeof Object.seal!="function")return!1;try{var s=Object.seal({x:4}),a=new e(p([[s,"s"]]));if(a.get(s)!="s"||a.size!=1||a.get({x:4})||a.set({x:4},"t")!=a||a.size!=2)return!1;var l=a.entries(),c=l.next();return c.done||c.value[0]!=s||c.value[1]!="s"?!1:(c=l.next(),!(c.done||c.value[0].x!=4||c.value[1]!="t"||!l.next().done))}catch{return!1}}())return e;var o=new WeakMap;r.prototype.set=function(s,a){s=s===0?0:s;var l=i(this,s);return l.list||(l.list=this.h[l.id]=[]),l.wa?l.wa.value=a:(l.wa={next:this.g,mb:this.g.mb,head:this.g,key:s,value:a},l.list.push(l.wa),this.g.mb.next=l.wa,this.g.mb=l.wa,this.size++),this},r.prototype.delete=function(s){return s=i(this,s),s.wa&&s.list?(s.list.splice(s.index,1),s.list.length||delete this.h[s.id],s.wa.mb.next=s.wa.next,s.wa.next.mb=s.wa.mb,s.wa.head=null,this.size--,!0):!1},r.prototype.clear=function(){this.h={},this.g=this.g.mb=t(),this.size=0},r.prototype.has=function(s){return!!i(this,s).wa},r.prototype.get=function(s){return(s=i(this,s).wa)&&s.value},r.prototype.entries=function(){return n(this,function(s){return[s.key,s.value]})},r.prototype.keys=function(){return n(this,function(s){return s.key})},r.prototype.values=function(){return n(this,function(s){return s.value})},r.prototype.forEach=function(s,a){for(var l=this.entries(),c;!(c=l.next()).done;)c=c.value,s.call(a,c[1],c[0],this)},r.prototype[Symbol.iterator]=r.prototype.entries;var u=0;return r});function Cs(e,t){e instanceof String&&(e+="");var n=0,i=!1,r={next:function(){if(!i&&n<e.length){var o=n++;return{value:t(o,e[o]),done:!1}}return i=!0,{done:!0,value:void 0}}};return r[Symbol.iterator]=function(){return r},r}Y("Array.prototype.keys",function(e){return e||function(){return Cs(this,function(t){return t})}}),Y("Set",function(e){function t(n){if(this.g=new Map,n){n=p(n);for(var i;!(i=n.next()).done;)this.add(i.value)}this.size=this.g.size}return function(){if(!e||typeof e!="function"||!e.prototype.entries||typeof Object.seal!="function")return!1;try{var n=Object.seal({x:4}),i=new e(p([n]));if(!i.has(n)||i.size!=1||i.add(n)!=i||i.size!=1||i.add({x:4})!=i||i.size!=2)return!1;var r=i.entries(),o=r.next();return o.done||o.value[0]!=n||o.value[1]!=n?!1:(o=r.next(),o.done||o.value[0]==n||o.value[0].x!=4||o.value[1]!=o.value[0]?!1:r.next().done)}catch{return!1}}()?e:(t.prototype.add=function(n){return n=n===0?0:n,this.g.set(n,n),this.size=this.g.size,this},t.prototype.delete=function(n){return n=this.g.delete(n),this.size=this.g.size,n},t.prototype.clear=function(){this.g.clear(),this.size=0},t.prototype.has=function(n){return this.g.has(n)},t.prototype.entries=function(){return this.g.entries()},t.prototype.values=function(){return this.g.values()},t.prototype.keys=t.prototype.values,t.prototype[Symbol.iterator]=t.prototype.values,t.prototype.forEach=function(n,i){var r=this;this.g.forEach(function(o){return n.call(i,o,o,r)})},t)}),Y("Array.from",function(e){return e||function(t,n,i){n=n??function(s){return s};var r=[],o=typeof Symbol<"u"&&Symbol.iterator&&t[Symbol.iterator];if(typeof o=="function"){t=o.call(t);for(var u=0;!(o=t.next()).done;)r.push(n.call(i,o.value,u++))}else for(o=t.length,u=0;u<o;u++)r.push(n.call(i,t[u],u));return r}});function ph(e,t,n){e instanceof String&&(e=String(e));for(var i=e.length,r=0;r<i;r++){var o=e[r];if(t.call(n,o,r,e))return{Lf:r,v:o}}return{Lf:-1,v:void 0}}Y("Array.prototype.findIndex",function(e){return e||function(t,n){return ph(this,t,n).Lf}}),Y("Object.is",function(e){return e||function(t,n){return t===n?t!==0||1/t===1/n:t!==t&&n!==n}}),Y("Array.prototype.includes",function(e){return e||function(t,n){var i=this;i instanceof String&&(i=String(i));var r=i.length;for(n=n||0,0>n&&(n=Math.max(n+r,0));n<r;n++){var o=i[n];if(o===t||Object.is(o,t))return!0}return!1}});function Ms(e,t,n){if(e==null)throw new TypeError("The 'this' value for String.prototype."+n+" must not be null or undefined");if(t instanceof RegExp)throw new TypeError("First argument to String.prototype."+n+" must not be a regular expression");return e+""}Y("String.prototype.includes",function(e){return e||function(t,n){return Ms(this,t,"includes").indexOf(t,n||0)!==-1}}),Y("Array.prototype.find",function(e){return e||function(t,n){return ph(this,t,n).v}}),Y("String.prototype.startsWith",function(e){return e||function(t,n){var i=Ms(this,t,"startsWith"),r=i.length,o=t.length;n=Math.max(0,Math.min(n|0,i.length));for(var u=0;u<o&&n<r;)if(i[n++]!=t[u++])return!1;return u>=o}});var Dv=typeof Object.assign=="function"?Object.assign:function(e,t){for(var n=1;n<arguments.length;n++){var i=arguments[n];if(i)for(var r in i)Ut(i,r)&&(e[r]=i[r])}return e};Y("Object.assign",function(e){return e||Dv}),Y("Array.prototype.values",function(e){return e||function(){return Cs(this,function(t,n){return n})}}),Y("Promise.prototype.finally",function(e){return e||function(t){return this.then(function(n){return Promise.resolve(t()).then(function(){return n})},function(n){return Promise.resolve(t()).then(function(){throw n})})}}),Y("Array.prototype.entries",function(e){return e||function(){return Cs(this,function(t,n){return[t,n]})}}),Y("String.prototype.repeat",function(e){return e||function(t){var n=Ms(this,null,"repeat");if(0>t||1342177279<t)throw new RangeError("Invalid count value");t|=0;for(var i="";t;)t&1&&(i+=n),(t>>>=1)&&(n+=n);return i}}),Y("Number.isNaN",function(e){return e||function(t){return typeof t=="number"&&isNaN(t)}}),Y("Object.values",function(e){return e||function(t){var n=[],i;for(i in t)Ut(t,i)&&n.push(t[i]);return n}}),Y("Math.log2",function(e){return e||function(t){return Math.log(t)/Math.LN2}}),Y("Math.trunc",function(e){return e||function(t){if(t=Number(t),isNaN(t)||t===1/0||t===-1/0||t===0)return t;var n=Math.floor(Math.abs(t));return 0>t?-n:n}}),Y("Object.entries",function(e){return e||function(t){var n=[],i;for(i in t)Ut(t,i)&&n.push([i,t[i]]);return n}});var Pv=this||self;function R(e,t){e=e.split(".");var n=Pv;e[0]in n||typeof n.execScript>"u"||n.execScript("var "+e[0]);for(var i;e.length&&(i=e.shift());)e.length||t===void 0?n[i]&&n[i]!==Object.prototype[i]?n=n[i]:n=n[i]={}:n[i]=t}function U(e,t){if(t)if(t instanceof Map)for(var n=p(t.keys()),i=n.next();!i.done;i=n.next())i=i.value,Object.defineProperty(this,i,{value:t.get(i),writable:!0,enumerable:!0});else for(n in t)Object.defineProperty(this,n,{value:t[n],writable:!0,enumerable:!0});this.defaultPrevented=this.cancelable=this.bubbles=!1,this.timeStamp=M.performance&&M.performance.now?M.performance.now():Date.now(),this.type=e,this.isTrusted=!1,this.target=this.currentTarget=null,this.g=!1}function gh(e){var t=new U(e.type),n;for(n in e)Object.defineProperty(t,n,{value:e[n],writable:!0,enumerable:!0});return t}U.prototype.preventDefault=function(){this.cancelable&&(this.defaultPrevented=!0)},U.prototype.stopImmediatePropagation=function(){this.g=!0},U.prototype.stopPropagation=function(){},R("shaka.util.FakeEvent",U);var yo={Vh:"abrstatuschanged",Wh:"adaptation",Xh:"buffering",$h:"downloadfailed",ai:"downloadheadersreceived",bi:"drmsessionupdate",ki:"emsg",Ni:"prft",Error:"error",li:"expirationupdated",oi:"gapjumped",si:"loaded",ti:"loading",Bi:"manifestparsed",Ci:"mediaqualitychanged",Metadata:"metadata",Hi:"onstatechange",Ii:"onstateidle",Si:"ratechange",Yi:"segmentappended",Zi:"sessiondata",$i:"stalldetected",aj:"streaming",bj:"textchanged",cj:"texttrackvisibility",dj:"timelineregionadded",ej:"timelineregionenter",fj:"timelineregionexit",gj:"trackschanged",lj:"unloading",nj:"variantchanged"};function Ov(){}function bn(){}function pe(){}function jn(e){var t=Ot.apply(1,arguments);mh.has(e)||(mh.add(e),pe.apply(Ov,se(t)))}function Uv(){}function Sw(){}function ww(){}function Iw(){}var mh=new Set;M.console&&(pe=function(){return console.warn.apply(console,se(Ot.apply(0,arguments)))},bn=function(){console.error.apply(console,se(Ot.apply(0,arguments)))});function yi(){this.g={}}d=yi.prototype,d.push=function(e,t){this.g.hasOwnProperty(e)?this.g[e].push(t):this.g[e]=[t]},d.get=function(e){return(e=this.g[e])?e.slice():null},d.remove=function(e,t){e in this.g&&(this.g[e]=this.g[e].filter(function(n){return n!=t}),this.g[e].length==0&&delete this.g[e])},d.forEach=function(e){for(var t in this.g)e(t,this.g[t])},d.size=function(){return Object.keys(this.g).length},d.keys=function(){return Object.keys(this.g)};function oe(){this.ra=new yi,this.Hd=this}oe.prototype.addEventListener=function(e,t){this.ra&&this.ra.push(e,t)},oe.prototype.removeEventListener=function(e,t){this.ra&&this.ra.remove(e,t)},oe.prototype.dispatchEvent=function(e){if(!this.ra)return!0;var t=this.ra.get(e.type)||[],n=this.ra.get("All");for(n&&(t=t.concat(n)),t=p(t),n=t.next();!n.done;n=t.next()){n=n.value,e.target=this.Hd,e.currentTarget=this.Hd;try{n.handleEvent?n.handleEvent(e):n.call(this,e)}catch{}if(e.g)break}return e.defaultPrevented},oe.prototype.release=function(){this.ra=null};function vh(e,t){var n=[];e=p(e);for(var i=e.next();!i.done;i=e.next())n.push(t(i.value));return n}function bv(e,t){e=p(e);for(var n=e.next();!n.done;n=e.next())if(!t(n.value))return!1;return!0}function yh(e,t){e=p(e);for(var n=e.next();!n.done;n=e.next())if(t(n.value))return!0;return!1}function Ei(e,t){var n=[];e=p(e);for(var i=e.next();!i.done;i=e.next())i=i.value,t(i)&&n.push(i);return n}var jv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");/*
 @license
 Copyright 2006 The Closure Library Authors
 SPDX-License-Identifier: Apache-2.0
*/function ft(e){var t;e instanceof ft?(Eo(this,e.Wa),this.Tb=e.Tb,this.ab=e.ab,ks(this,e.nc),this.Ha=e.Ha,To(this,e.g.clone()),this.Hb=e.Hb):e&&(t=String(e).match(jv))?(Eo(this,t[1]||"",!0),this.Tb=or(t[2]||""),this.ab=or(t[3]||"",!0),ks(this,t[4]),this.Ha=or(t[5]||"",!0),To(this,t[6]||"",!0),this.Hb=or(t[7]||"")):this.g=new Ti(null)}d=ft.prototype,d.Wa="",d.Tb="",d.ab="",d.nc=null,d.Ha="",d.Hb="",d.toString=function(){var e=[],t=this.Wa;if(t&&e.push(ur(t,Eh,!0),":"),t=this.ab){e.push("//");var n=this.Tb;n&&e.push(ur(n,Eh,!0),"@"),e.push(encodeURIComponent(t).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t=this.nc,t!=null&&e.push(":",String(t))}return(t=this.Ha)&&(this.ab&&t.charAt(0)!="/"&&e.push("/"),e.push(ur(t,t.charAt(0)=="/"?Gv:Bv,!0))),(t=this.g.toString())&&e.push("?",t),(t=this.Hb)&&e.push("#",ur(t,Kv)),e.join("")},d.resolve=function(e){var t=this.clone();t.Wa==="data"&&(t=new ft);var n=!!e.Wa;n?Eo(t,e.Wa):n=!!e.Tb,n?t.Tb=e.Tb:n=!!e.ab,n?t.ab=e.ab:n=e.nc!=null;var i=e.Ha;if(n)ks(t,e.nc);else if(n=!!e.Ha){if(i.charAt(0)!="/")if(this.ab&&!this.Ha)i="/"+i;else{var r=t.Ha.lastIndexOf("/");r!=-1&&(i=t.Ha.substr(0,r+1)+i)}if(i==".."||i==".")i="";else if(i.indexOf("./")!=-1||i.indexOf("/.")!=-1){r=i.lastIndexOf("/",0)==0,i=i.split("/");for(var o=[],u=0;u<i.length;){var s=i[u++];s=="."?r&&u==i.length&&o.push(""):s==".."?((1<o.length||o.length==1&&o[0]!="")&&o.pop(),r&&u==i.length&&o.push("")):(o.push(s),r=!0)}i=o.join("/")}}return n?t.Ha=i:n=e.g.toString()!=="",n?To(t,e.g.clone()):n=!!e.Hb,n&&(t.Hb=e.Hb),t},d.clone=function(){return new ft(this)};function Eo(e,t,n){e.Wa=n?or(t,!0):t,e.Wa&&(e.Wa=e.Wa.replace(/:$/,""))}function ks(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.nc=t}else e.nc=null}function To(e,t,n){t instanceof Ti?e.g=t:(n||(t=ur(t,Vv)),e.g=new Ti(t))}function or(e,t){return e?t?decodeURI(e):decodeURIComponent(e):""}function ur(e,t,n){return e!=null?(e=encodeURI(e).replace(t,Fv),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Fv(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var Eh=/[#\/\?@]/g,Bv=/[#\?:]/g,Gv=/[#\?]/g,Vv=/[#\?@]/g,Kv=/#/g;function Ti(e){this.g=e||null}function Th(e){if(!e.Da&&(e.Da={},e.rd=0,e.g))for(var t=e.g.split("&"),n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var o=t[n].substring(0,i);r=t[n].substring(i+1)}else o=t[n];o=decodeURIComponent(o.replace(/\+/g," ")),r=r||"",e.add(o,decodeURIComponent(r.replace(/\+/g," ")))}}d=Ti.prototype,d.Da=null,d.rd=null,d.add=function(e,t){Th(this),this.g=null;var n=this.Da.hasOwnProperty(e)?this.Da[e]:null;return n||(this.Da[e]=n=[]),n.push(t),this.rd++,this},d.set=function(e,t){return Th(this),this.g=null,this.Da.hasOwnProperty(e)?this.Da[e]=[t]:this.add(e,t),this},d.toString=function(){if(this.g)return this.g;if(!this.Da)return"";var e=[],t;for(t in this.Da)for(var n=encodeURIComponent(t),i=this.Da[t],r=0;r<i.length;r++){var o=n;i[r]!==""&&(o+="="+encodeURIComponent(i[r])),e.push(o)}return this.g=e.join("&")},d.clone=function(){var e=new Ti;if(e.g=this.g,this.Da){var t={},n;for(n in this.Da)t[n]=this.Da[n].concat();e.Da=t,e.rd=this.rd}return e};function S(e,t,n){var i=Ot.apply(3,arguments);this.severity=e,this.category=t,this.code=n,this.data=i,this.handled=!1}S.prototype.toString=function(){return"shaka.util.Error "+JSON.stringify(this,null,"  ")},R("shaka.util.Error",S),S.Severity={RECOVERABLE:1,CRITICAL:2},S.Category={NETWORK:1,TEXT:2,MEDIA:3,MANIFEST:4,STREAMING:5,DRM:6,PLAYER:7,CAST:8,STORAGE:9,ADS:10},S.Code={UNSUPPORTED_SCHEME:1e3,BAD_HTTP_STATUS:1001,HTTP_ERROR:1002,TIMEOUT:1003,MALFORMED_DATA_URI:1004,REQUEST_FILTER_ERROR:1006,RESPONSE_FILTER_ERROR:1007,MALFORMED_TEST_URI:1008,UNEXPECTED_TEST_REQUEST:1009,ATTEMPTS_EXHAUSTED:1010,SEGMENT_MISSING:1011,INVALID_TEXT_HEADER:2e3,INVALID_TEXT_CUE:2001,UNABLE_TO_DETECT_ENCODING:2003,BAD_ENCODING:2004,INVALID_XML:2005,INVALID_MP4_TTML:2007,INVALID_MP4_VTT:2008,UNABLE_TO_EXTRACT_CUE_START_TIME:2009,INVALID_MP4_CEA:2010,TEXT_COULD_NOT_GUESS_MIME_TYPE:2011,CANNOT_ADD_EXTERNAL_TEXT_TO_SRC_EQUALS:2012,TEXT_ONLY_WEBVTT_SRC_EQUALS:2013,MISSING_TEXT_PLUGIN:2014,CHAPTERS_TRACK_FAILED:2015,CANNOT_ADD_EXTERNAL_THUMBNAILS_TO_SRC_EQUALS:2016,UNSUPPORTED_EXTERNAL_THUMBNAILS_URI:2017,BUFFER_READ_OUT_OF_BOUNDS:3e3,JS_INTEGER_OVERFLOW:3001,EBML_OVERFLOW:3002,EBML_BAD_FLOATING_POINT_SIZE:3003,MP4_SIDX_WRONG_BOX_TYPE:3004,MP4_SIDX_INVALID_TIMESCALE:3005,MP4_SIDX_TYPE_NOT_SUPPORTED:3006,WEBM_CUES_ELEMENT_MISSING:3007,WEBM_EBML_HEADER_ELEMENT_MISSING:3008,WEBM_SEGMENT_ELEMENT_MISSING:3009,WEBM_INFO_ELEMENT_MISSING:3010,WEBM_DURATION_ELEMENT_MISSING:3011,WEBM_CUE_TRACK_POSITIONS_ELEMENT_MISSING:3012,WEBM_CUE_TIME_ELEMENT_MISSING:3013,MEDIA_SOURCE_OPERATION_FAILED:3014,MEDIA_SOURCE_OPERATION_THREW:3015,VIDEO_ERROR:3016,QUOTA_EXCEEDED_ERROR:3017,TRANSMUXING_FAILED:3018,CONTENT_TRANSFORMATION_FAILED:3019,UNABLE_TO_GUESS_MANIFEST_TYPE:4e3,DASH_INVALID_XML:4001,DASH_NO_SEGMENT_INFO:4002,DASH_EMPTY_ADAPTATION_SET:4003,DASH_EMPTY_PERIOD:4004,DASH_WEBM_MISSING_INIT:4005,DASH_UNSUPPORTED_CONTAINER:4006,DASH_PSSH_BAD_ENCODING:4007,DASH_NO_COMMON_KEY_SYSTEM:4008,DASH_MULTIPLE_KEY_IDS_NOT_SUPPORTED:4009,DASH_CONFLICTING_KEY_IDS:4010,RESTRICTIONS_CANNOT_BE_MET:4012,HLS_PLAYLIST_HEADER_MISSING:4015,INVALID_HLS_TAG:4016,HLS_INVALID_PLAYLIST_HIERARCHY:4017,DASH_DUPLICATE_REPRESENTATION_ID:4018,HLS_MULTIPLE_MEDIA_INIT_SECTIONS_FOUND:4020,HLS_REQUIRED_ATTRIBUTE_MISSING:4023,HLS_REQUIRED_TAG_MISSING:4024,HLS_COULD_NOT_GUESS_CODECS:4025,HLS_KEYFORMATS_NOT_SUPPORTED:4026,DASH_UNSUPPORTED_XLINK_ACTUATE:4027,DASH_XLINK_DEPTH_LIMIT:4028,CONTENT_UNSUPPORTED_BY_BROWSER:4032,CANNOT_ADD_EXTERNAL_TEXT_TO_LIVE_STREAM:4033,NO_VARIANTS:4036,PERIOD_FLATTENING_FAILED:4037,INCONSISTENT_DRM_ACROSS_PERIODS:4038,HLS_VARIABLE_NOT_FOUND:4039,HLS_MSE_ENCRYPTED_MP2T_NOT_SUPPORTED:4040,HLS_MSE_ENCRYPTED_LEGACY_APPLE_MEDIA_KEYS_NOT_SUPPORTED:4041,NO_WEB_CRYPTO_API:4042,HLS_AES_128_INVALID_IV_LENGTH:4043,HLS_AES_128_INVALID_KEY_LENGTH:4044,CANNOT_ADD_EXTERNAL_THUMBNAILS_TO_LIVE_STREAM:4045,STREAMING_ENGINE_STARTUP_INVALID_STATE:5006,NO_RECOGNIZED_KEY_SYSTEMS:6e3,REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE:6001,FAILED_TO_CREATE_CDM:6002,FAILED_TO_ATTACH_TO_VIDEO:6003,INVALID_SERVER_CERTIFICATE:6004,FAILED_TO_CREATE_SESSION:6005,FAILED_TO_GENERATE_LICENSE_REQUEST:6006,LICENSE_REQUEST_FAILED:6007,LICENSE_RESPONSE_REJECTED:6008,ENCRYPTED_CONTENT_WITHOUT_DRM_INFO:6010,NO_LICENSE_SERVER_GIVEN:6012,OFFLINE_SESSION_REMOVED:6013,EXPIRED:6014,SERVER_CERTIFICATE_REQUIRED:6015,INIT_DATA_TRANSFORM_ERROR:6016,SERVER_CERTIFICATE_REQUEST_FAILED:6017,LOAD_INTERRUPTED:7e3,OPERATION_ABORTED:7001,NO_VIDEO_ELEMENT:7002,OBJECT_DESTROYED:7003,CONTENT_NOT_LOADED:7004,CAST_API_UNAVAILABLE:8e3,NO_CAST_RECEIVERS:8001,ALREADY_CASTING:8002,UNEXPECTED_CAST_ERROR:8003,CAST_CANCELED_BY_USER:8004,CAST_CONNECTION_TIMED_OUT:8005,CAST_RECEIVER_APP_UNAVAILABLE:8006,STORAGE_NOT_SUPPORTED:9e3,INDEXED_DB_ERROR:9001,DEPRECATED_OPERATION_ABORTED:9002,REQUESTED_ITEM_NOT_FOUND:9003,MALFORMED_OFFLINE_URI:9004,CANNOT_STORE_LIVE_OFFLINE:9005,NO_INIT_DATA_FOR_OFFLINE:9007,LOCAL_PLAYER_INSTANCE_REQUIRED:9008,NEW_KEY_OPERATION_NOT_SUPPORTED:9011,KEY_NOT_FOUND:9012,MISSING_STORAGE_CELL:9013,STORAGE_LIMIT_REACHED:9014,DOWNLOAD_SIZE_CALLBACK_ERROR:9015,MODIFY_OPERATION_NOT_SUPPORTED:9016,INDEXED_DB_INIT_TIMED_OUT:9017,CS_IMA_SDK_MISSING:1e4,CS_AD_MANAGER_NOT_INITIALIZED:10001,SS_IMA_SDK_MISSING:10002,SS_AD_MANAGER_NOT_INITIALIZED:10003,CURRENT_DAI_REQUEST_NOT_FINISHED:10004};function Ls(e,t){return e.concat(t)}function zv(){}function Cn(e){return e!=null}function at(e,t){if(t.length==0)return e;var n=t.map(function(i){return new ft(i)});return e.map(function(i){return new ft(i)}).map(function(i){return n.map(function(r){return i.resolve(r)})}).reduce(Ls,[]).map(function(i){return i.toString()})}function Fn(e,t){return{keySystem:e,licenseServerUri:"",distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,serverCertificateUri:"",sessionType:"",initData:t||[],keyIds:new Set}}function sr(e,t){if(t.length==1)return t[0];if(e=Ai(e,t),e!=null)return e;throw new S(2,4,4025,t)}function Ai(e,t){for(var n=p(qv[e]),i=n.next();!i.done;i=n.next()){i=i.value;for(var r=p(t),o=r.next();!o.done;o=r.next())if(o=o.value,i.test(o.trim()))return o.trim()}return e==fe?"":null}var fe="text",Ze={Ma:"video",jd:"audio",ba:fe,Ac:"image",Sh:"application"},qv={audio:[/^vorbis$/,/^opus$/,/^flac$/,/^mp4a/,/^[ae]c-3$/,/^ac-4$/,/^dts[cex]$/],video:[/^avc/,/^hev/,/^hvc/,/^vp0?[89]/,/^av01/,/^dvhe/],text:[/^vtt$/,/^wvtt/,/^stpp/]};function Tt(){}function Ao(e,t){return e=ce(e),t=ce(t),e.split("-")[0]==t.split("-")[0]}function ar(e,t){return e=ce(e),t=ce(t),e=e.split("-"),t=t.split("-"),e[0]==t[0]&&e.length==1&&t.length==2}function Ns(e,t){return e=ce(e),t=ce(t),e=e.split("-"),t=t.split("-"),e.length==2&&t.length==2&&e[0]==t[0]}function ce(e){var t=e.split("-");return e=t[0]||"",t=t[1]||"",e=e.toLowerCase(),e=Sh.get(e)||e,(t=t.toUpperCase())?e+"-"+t:e}function Ah(e,t){var n=Si(e),i=Si(t);return e!=n&&t!=i&&n==i}function Bn(e,t){return e=ce(e),t=ce(t),t==e?4:ar(t,e)?3:Ns(t,e)?2:ar(e,t)?1:0}function Si(e){var t=e.indexOf("-");return e=0<=t?e.substring(0,t):e,e=e.toLowerCase(),e=Sh.get(e)||e}function Rs(e){return e.language?ce(e.language):e.audio&&e.audio.language?ce(e.audio.language):e.video&&e.video.language?ce(e.video.language):"und"}function So(e,t){e=ce(e);var n=new Set,i=p(t);for(t=i.next();!t.done;t=i.next())n.add(ce(t.value));for(i=p(n),t=i.next();!t.done;t=i.next())if(t=t.value,t==e)return t;for(i=p(n),t=i.next();!t.done;t=i.next())if(t=t.value,ar(t,e))return t;for(i=p(n),t=i.next();!t.done;t=i.next())if(t=t.value,Ns(t,e))return t;for(n=p(n),t=n.next();!t.done;t=n.next())if(t=t.value,ar(e,t))return t;return null}R("shaka.util.LanguageUtils",Tt),Tt.findClosestLocale=So,Tt.getLocaleForVariant=Rs,Tt.getLocaleForText=function(e){return ce(e.language||"und")},Tt.getBase=Si,Tt.relatedness=Bn,Tt.areSiblings=Ah,Tt.normalize=ce,Tt.isSiblingOf=Ns,Tt.isParentOf=ar,Tt.areLanguageCompatible=Ao,Tt.areLocaleCompatible=function(e,t){return e=ce(e),t=ce(t),e==t};var Sh=new Map([["aar","aa"],["abk","ab"],["afr","af"],["aka","ak"],["alb","sq"],["amh","am"],["ara","ar"],["arg","an"],["arm","hy"],["asm","as"],["ava","av"],["ave","ae"],["aym","ay"],["aze","az"],["bak","ba"],["bam","bm"],["baq","eu"],["bel","be"],["ben","bn"],["bih","bh"],["bis","bi"],["bod","bo"],["bos","bs"],["bre","br"],["bul","bg"],["bur","my"],["cat","ca"],["ces","cs"],["cha","ch"],["che","ce"],["chi","zh"],["chu","cu"],["chv","cv"],["cor","kw"],["cos","co"],["cre","cr"],["cym","cy"],["cze","cs"],["dan","da"],["deu","de"],["div","dv"],["dut","nl"],["dzo","dz"],["ell","el"],["eng","en"],["epo","eo"],["est","et"],["eus","eu"],["ewe","ee"],["fao","fo"],["fas","fa"],["fij","fj"],["fin","fi"],["fra","fr"],["fre","fr"],["fry","fy"],["ful","ff"],["geo","ka"],["ger","de"],["gla","gd"],["gle","ga"],["glg","gl"],["glv","gv"],["gre","el"],["grn","gn"],["guj","gu"],["hat","ht"],["hau","ha"],["heb","he"],["her","hz"],["hin","hi"],["hmo","ho"],["hrv","hr"],["hun","hu"],["hye","hy"],["ibo","ig"],["ice","is"],["ido","io"],["iii","ii"],["iku","iu"],["ile","ie"],["ina","ia"],["ind","id"],["ipk","ik"],["isl","is"],["ita","it"],["jav","jv"],["jpn","ja"],["kal","kl"],["kan","kn"],["kas","ks"],["kat","ka"],["kau","kr"],["kaz","kk"],["khm","km"],["kik","ki"],["kin","rw"],["kir","ky"],["kom","kv"],["kon","kg"],["kor","ko"],["kua","kj"],["kur","ku"],["lao","lo"],["lat","la"],["lav","lv"],["lim","li"],["lin","ln"],["lit","lt"],["ltz","lb"],["lub","lu"],["lug","lg"],["mac","mk"],["mah","mh"],["mal","ml"],["mao","mi"],["mar","mr"],["may","ms"],["mkd","mk"],["mlg","mg"],["mlt","mt"],["mon","mn"],["mri","mi"],["msa","ms"],["mya","my"],["nau","na"],["nav","nv"],["nbl","nr"],["nde","nd"],["ndo","ng"],["nep","ne"],["nld","nl"],["nno","nn"],["nob","nb"],["nor","no"],["nya","ny"],["oci","oc"],["oji","oj"],["ori","or"],["orm","om"],["oss","os"],["pan","pa"],["per","fa"],["pli","pi"],["pol","pl"],["por","pt"],["pus","ps"],["que","qu"],["roh","rm"],["ron","ro"],["rum","ro"],["run","rn"],["rus","ru"],["sag","sg"],["san","sa"],["sin","si"],["slk","sk"],["slo","sk"],["slv","sl"],["sme","se"],["smo","sm"],["sna","sn"],["snd","sd"],["som","so"],["sot","st"],["spa","es"],["sqi","sq"],["srd","sc"],["srp","sr"],["ssw","ss"],["sun","su"],["swa","sw"],["swe","sv"],["tah","ty"],["tam","ta"],["tat","tt"],["tel","te"],["tgk","tg"],["tgl","tl"],["tha","th"],["tib","bo"],["tir","ti"],["ton","to"],["tsn","tn"],["tso","ts"],["tuk","tk"],["tur","tr"],["twi","tw"],["uig","ug"],["ukr","uk"],["urd","ur"],["uzb","uz"],["ven","ve"],["vie","vi"],["vol","vo"],["wel","cy"],["wln","wa"],["wol","wo"],["xho","xh"],["yid","yi"],["yor","yo"],["zha","za"],["zho","zh"],["zul","zu"]]);function Ve(e){oe.call(this),this.j=ce(e),this.i=new Map,this.g=new Set,this.h=new Map}K(Ve,oe),d=Ve.prototype,d.release=function(){oe.prototype.release.call(this)},d.xf=function(e){var t=this;this.g.clear(),e=p(e);for(var n=e.next();!n.done;n=e.next())this.g.add(ce(n.value));wh(this),e=Ei(this.g,function(i){return!t.h.has(i)}),e.length&&this.dispatchEvent(new U("unknown-locales",new Map().set("locales",e))),e=Ei(this.g,function(i){return t.h.has(i)}),e=new Map().set("locales",e.length?e:[this.j]),this.dispatchEvent(new U("locale-changed",e))},d.ea=function(e,t,n){e=ce(e),n===void 0&&(n=_s);var i=this.h.get(e)||new Map;return t.forEach(function(r,o){i.has(o)&&n!=_s||i.set(o,r)}),this.h.set(e,i),wh(this),this.dispatchEvent(new U("locale-updated")),this},d.Ch=function(e){for(var t=p(e.keys()),n=t.next();!n.done;n=t.next())n=n.value,e.set(n,this.resolve(n))},d.resolve=function(e){var t=this.i.get(e);return t||(e=new Map().set("locales",Array.from(this.g)).set("missing",e),this.dispatchEvent(new U("unknown-localization",e)),"")};function wh(e){for(var t=e.h,n=e.j,i=e.g,r=new Set,o={},u=p(i),s=u.next();!s.done;o={Xb:o.Xb},s=u.next()){o.Xb=s.value,r.add(o.Xb),r.add(Si(o.Xb)),s=Ei(t.keys(),function(l){return function(c){return Ah(c,l.Xb)}}(o)),s.sort();var a=p(s);for(s=a.next();!s.done;s=a.next())r.add(s.value);for(s=Ei(t.keys(),function(l){return function(c){return Si(c)==l.Xb}}(o)),s.sort(),a=p(s),s=a.next();!s.done;s=a.next())r.add(s.value)}for(r.add(n),n=[],r=p(r),s=r.next();!s.done;s=r.next())(s=t.get(s.value))&&n.push(s);for(n.reverse(),e.i.clear(),t=p(n),s=t.next();!s.done;s=t.next())s.value.forEach(function(l,c){e.i.set(c,l)});for(t=e.i.keys(),r=new Set,n=p(e.g),s=n.next();!s.done;s=n.next())s=e.h.get(s.value)||new Map,Hv(s,t,r);0<r.size&&(i=new Map().set("locales",Array.from(i)).set("missing",Array.from(r)),e.dispatchEvent(new U("missing-localizations",i)))}function Hv(e,t,n){t=p(t);for(var i=t.next();!i.done;i=t.next())i=i.value,e.get(i)||n.add(i)}R("shaka.ui.Localization",Ve),Ve.prototype.resolve=Ve.prototype.resolve,Ve.prototype.resolveDictionary=Ve.prototype.Ch,Ve.prototype.insert=Ve.prototype.ea,Ve.prototype.changeLocale=Ve.prototype.xf,Ve.prototype.release=Ve.prototype.release;var _s=1;Ve.ConflictResolution={USE_OLD:0,USE_NEW:_s},Ve.UNKNOWN_LOCALES="unknown-locales",Ve.UNKNOWN_LOCALIZATION="unknown-localization",Ve.MISSING_LOCALIZATIONS="missing-localizations",Ve.LOCALE_CHANGED="locale-changed",Ve.LOCALE_UPDATED="locale-updated";var Xv={mi:"FAST_FORWARD",Qh:"AD_TIME",Ri:"REWIND",kj:"UNRECOGNIZED_LANGUAGE",Di:"NOT_APPLICABLE",Xi:"STATISTICS",Ph:"AD_DURATION",ri:"LOOP",gi:"EXIT_FULL_SCREEN",Pi:"REPLAY",mj:"VOLUME",Zh:"CAST",gg:"LIVE",xi:"MORE_SETTINGS",di:"ENTER_PICTURE_IN_PICTURE",BACK:"BACK",Mi:"PLAYBACK_RATE",ji:"EXIT_PICTURE_IN_PICTURE",pi:"LANGUAGE",ci:"ENTER_LOOP_MODE",jj:"UNMUTE",Ai:"MUTE",Ji:"PAUSE",Qi:"RESOLUTION",Rh:"AIRPLAY",AD_PROGRESS:"AD_PROGRESS",Th:"AUTO_QUALITY",ij:"UNDETERMINED_LANGUAGE",Ui:"SKIP_AD",ii:"EXIT_LOOP_MODE",Li:"PLAY",ni:"FULL_SCREEN",zi:"MULTIPLE_LANGUAGES",Yh:"CAPTIONS",Ti:"SEEK",Vi:"SKIP_TO_LIVE",hg:"SUBTITLE_FORCED",Oi:"QUALITY",Ei:"OFF",Ki:"PICTURE_IN_PICTURE",Fi:"ON"};function wo(e){this.g=Math.exp(Math.log(.5)/e),this.i=this.h=0}wo.prototype.sample=function(e,t){var n=Math.pow(this.g,e);t=t*(1-n)+n*this.h,isNaN(t)||(this.h=t,this.i+=e)};function Ds(e){return e.h/(1-Math.pow(e.g,e.i))}function lr(){this.h=new wo(2),this.j=new wo(5),this.g=0,this.i=128e3,this.l=16e3}lr.prototype.configure=function(e){this.i=e.minTotalBytes,this.l=e.minBytes,this.h.g=Math.exp(Math.log(.5)/e.fastHalfLife),this.j.g=Math.exp(Math.log(.5)/e.slowHalfLife)},lr.prototype.sample=function(e,t){if(!(t<this.l)){var n=8e3*t/e;e/=1e3,this.g+=t,this.h.sample(e,n),this.j.sample(e,n)}},lr.prototype.getBandwidthEstimate=function(e){return this.g<this.i?e:Math.min(Ds(this.h),Ds(this.j))};function pt(e){if(Ps.has(e))return Ps.get(e);var t=MediaSource.isTypeSupported(e);return Ps.set(e,t),t}var Ps=new Map;function Ih(e,t){return typeof e=="number"&&typeof t=="number"&&isNaN(e)&&isNaN(t)?!0:e===t}function bt(e,t){t=e.indexOf(t),-1<t&&e.splice(t,1)}function cr(e,t,n){if(n||(n=Ih),e.length!=t.length)return!1;t=t.slice();var i={};e=p(e);for(var r=e.next();!r.done;i={Td:i.Td},r=e.next()){if(i.Td=r.value,r=t.findIndex(function(o){return function(u){return n(o.Td,u)}}(i)),r==-1)return!1;t[r]=t[t.length-1],t.pop()}return t.length==0}function Os(e,t,n){if(n||(n=Ih),e.length!=t.length)return!1;for(var i=0;i<e.length;i++)if(!n(e[i],t[i]))return!1;return!0}function Se(e,t,n){this.startTime=e,this.direction=bs,this.endTime=t,this.payload=n,this.region=new wi,this.position=null,this.positionAlign=Ch,this.size=0,this.textAlign=an,this.writingMode=dr,this.lineInterpretation=js,this.line=null,this.lineHeight="",this.lineAlign=Gn,this.displayAlign=hr,this.fontSize=this.textStrokeWidth=this.textStrokeColor=this.textShadow=this.border=this.backgroundImage=this.backgroundColor=this.color="",this.fontWeight=Nh,this.fontStyle=Bs,this.linePadding=this.letterSpacing=this.fontFamily="",this.opacity=1,this.textDecoration=[],this.wrapLine=!0,this.id="",this.nestedCues=[],this.lineBreak=this.isContainer=!1,this.cellResolution={columns:32,rows:15}}Se.prototype.clone=function(){var e=new Se(0,0,""),t;for(t in this)e[t]=this[t],e[t]&&e[t].constructor==Array&&(e[t]=e[t].slice());return e};function xh(e,t){if(e.startTime!=t.startTime||e.endTime!=t.endTime||e.payload!=t.payload)return!1;for(var n in e)if(n!="startTime"&&n!="endTime"&&n!="payload"){if(n=="nestedCues"){if(!Os(e.nestedCues,t.nestedCues,xh))return!1}else if(n=="region"||n=="cellResolution"){for(var i in e[n])if(e[n][i]!=t[n][i])return!1}else if(Array.isArray(e[n])){if(!Os(e[n],t[n]))return!1}else if(e[n]!=t[n])return!1}return!0}R("shaka.text.Cue",Se);var Ch="auto";Se.positionAlign={LEFT:"line-left",RIGHT:"line-right",CENTER:"center",AUTO:Ch};var an="center",Us={LEFT:"left",RIGHT:"right",CENTER:an,START:"start",END:"end"};Se.textAlign=Us;var hr="after",Mh={BEFORE:"before",CENTER:"center",AFTER:hr};Se.displayAlign=Mh;var bs="ltr";Se.direction={HORIZONTAL_LEFT_TO_RIGHT:bs,HORIZONTAL_RIGHT_TO_LEFT:"rtl"};var dr="horizontal-tb";Se.writingMode={HORIZONTAL_TOP_TO_BOTTOM:dr,VERTICAL_LEFT_TO_RIGHT:"vertical-lr",VERTICAL_RIGHT_TO_LEFT:"vertical-rl"};var js=0;Se.lineInterpretation={LINE_NUMBER:js,PERCENTAGE:1};var Gn="start",Fs={CENTER:"center",START:Gn,END:"end"};Se.lineAlign=Fs;var kh={white:"#FFF",lime:"#0F0",cyan:"#0FF",red:"#F00",yellow:"#FF0",magenta:"#F0F",blue:"#00F",black:"#000"};Se.defaultTextColor=kh;var Lh={bg_white:"#FFF",bg_lime:"#0F0",bg_cyan:"#0FF",bg_red:"#F00",bg_yellow:"#FF0",bg_magenta:"#F0F",bg_blue:"#00F",bg_black:"#000"};Se.defaultTextBackgroundColor=Lh;var Nh=400;Se.fontWeight={NORMAL:Nh,BOLD:700};var Bs="normal",Rh={NORMAL:Bs,ITALIC:"italic",OBLIQUE:"oblique"};Se.fontStyle=Rh,Se.textDecoration={UNDERLINE:"underline",LINE_THROUGH:"lineThrough",OVERLINE:"overline"};function wi(){this.id="",this.regionAnchorY=this.regionAnchorX=this.viewportAnchorY=this.viewportAnchorX=0,this.height=this.width=100,this.viewportAnchorUnits=this.widthUnits=this.heightUnits=Zt,this.scroll=_h}R("shaka.text.CueRegion",wi);var Zt=1;wi.units={PX:0,PERCENTAGE:Zt,LINES:2};var _h="";wi.scrollMode={NONE:_h,UP:"up"};function fr(){}function Vn(e,t){if(!e&&!t)return!0;if(!e||!t||e.byteLength!=t.byteLength)return!1;if(Gs(e)==Gs(t)&&(e.byteOffset||0)==(t.byteOffset||0))return!0;var n=ue(e);t=ue(t);for(var i=0;i<e.byteLength;i++)if(n[i]!=t[i])return!1;return!0}function Gs(e){return e instanceof ArrayBuffer?e:e.buffer}function At(e){return e instanceof ArrayBuffer?e:e.byteOffset==0&&e.byteLength==e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer}function ue(e,t,n){return n=n===void 0?1/0:n,Dh(e,t===void 0?0:t,n,Uint8Array)}function lt(e,t,n){return n=n===void 0?1/0:n,Dh(e,t===void 0?0:t,n,DataView)}function Dh(e,t,n,i){var r=(e.byteOffset||0)+e.byteLength;return t=Math.max(0,Math.min((e.byteOffset||0)+t,r)),new i(Gs(e),t,Math.min(t+Math.max(n,0),r)-t)}R("shaka.util.BufferUtils",fr),fr.toDataView=lt,fr.toUint8=ue,fr.toArrayBuffer=At,fr.equal=Vn;function we(){var e,t,n=new Promise(function(i,r){e=i,t=r});return n.resolve=e,n.reject=t,n}we.prototype.resolve=function(){},we.prototype.reject=function(){};function Ii(e){this.h=e,this.g=void 0}Ii.prototype.value=function(){return this.g==null&&(this.g=this.h()),this.g};function pr(e){this.h=e,this.g=null}pr.prototype.R=function(e){var t=this;this.stop();var n=!0,i=null;return this.g=function(){M.clearTimeout(i),n=!1},i=M.setTimeout(function(){n&&t.h()},1e3*e),this},pr.prototype.stop=function(){this.g&&(this.g(),this.g=null)};function q(e){this.h=e,this.g=null}q.prototype.Aa=function(){return this.stop(),this.h(),this},q.prototype.R=function(e){var t=this;return this.stop(),this.g=new pr(function(){t.h()}).R(e),this},q.prototype.ha=function(e){var t=this;return this.stop(),this.g=new pr(function(){t.g.R(e),t.h()}).R(e),this},q.prototype.stop=function(){this.g&&(this.g.stop(),this.g=null)},R("shaka.util.Timer",q),q.prototype.stop=q.prototype.stop,q.prototype.tickEvery=q.prototype.ha,q.prototype.tickAfter=q.prototype.R,q.prototype.tickNow=q.prototype.Aa;function jt(){return!!(M.MediaSource&&MediaSource.isTypeSupported)}function xi(e){return Oh().canPlayType(e)!=""}function Vs(){return!!navigator.userAgent.match(/Edge?\//)}function gr(){return xe("Xbox One")}function Kn(){return xe("Tizen")}function Ph(){return xe("Web0S")&&xe("Chrome/38.0.2125.122 Safari/537.36")}function mr(){return!!navigator.vendor&&navigator.vendor.includes("Apple")&&!Kn()&&!xe("PC=EOS")&&!xe("VirginMedia")&&!vr()&&!xe("AFT")}function vr(){return xe("PlayStation 4")}function Ks(){if(!mr())return null;var e=navigator.userAgent.match(/Version\/(\d+)/);return e||(e=navigator.userAgent.match(/OS (\d+)(?:_\d+)?/))?parseInt(e[1],10):null}function xe(e){return(navigator.userAgent||"").includes(e)}function Oh(){return Ci||(zs||(zs=new q(function(){Ci=null})),(Ci=document.getElementsByTagName("video")[0]||document.getElementsByTagName("audio")[0])||(Ci=document.createElement("video")),zs.R(1),Ci)}var zs=null,Ci=null;function zn(){}function _e(e){if(!e)return"";if(e=ue(e),e[0]==239&&e[1]==187&&e[2]==191&&(e=e.subarray(3)),M.TextDecoder&&!vr())return e=new TextDecoder().decode(e),e.includes("�")&&bn('Decoded string contains an "unknown character" codepoint.  That probably means the UTF8 encoding was incorrect!'),e;for(var t="",n=0;n<e.length;++n){var i=65533;if(e[n]&128?e.length>=n+2&&(e[n]&224)==192&&(e[n+1]&192)==128?(i=(e[n]&31)<<6|e[n+1]&63,n+=1):e.length>=n+3&&(e[n]&240)==224&&(e[n+1]&192)==128&&(e[n+2]&192)==128?(i=(e[n]&15)<<12|(e[n+1]&63)<<6|e[n+2]&63,n+=2):e.length>=n+4&&(e[n]&241)==240&&(e[n+1]&192)==128&&(e[n+2]&192)==128&&(e[n+3]&192)==128&&(i=(e[n]&7)<<18|(e[n+1]&63)<<12|(e[n+2]&63)<<6|e[n+3]&63,n+=3):i=e[n],65535>=i)t+=String.fromCharCode(i);else{i-=65536;var r=i&1023;t+=String.fromCharCode(55296+(i>>10)),t+=String.fromCharCode(56320+r)}}return t}function Mn(e,t,n){if(!e)return"";if(!n&&e.byteLength%2!=0)throw new S(2,2,2004);n=Math.floor(e.byteLength/2);var i=new Uint16Array(n);e=lt(e);for(var r=0;r<n;r++)i[r]=e.getUint16(2*r,t);return Hs.value()(i)}function qn(e){function t(i){return n.byteLength<=i||32<=n[i]&&126>=n[i]}if(!e)return"";var n=ue(e);if(n[0]==239&&n[1]==187&&n[2]==191)return _e(n);if(n[0]==254&&n[1]==255)return Mn(n.subarray(2),!1);if(n[0]==255&&n[1]==254)return Mn(n.subarray(2),!0);if(n[0]==0&&n[2]==0)return Mn(e,!1);if(n[1]==0&&n[3]==0)return Mn(e,!0);if(t(0)&&t(1)&&t(2)&&t(3))return _e(e);throw new S(2,2,2003)}function kn(e){if(M.TextEncoder&&!vr()){var t=new TextEncoder;return At(t.encode(e))}e=encodeURIComponent(e),e=unescape(e),t=new Uint8Array(e.length);for(var n=0;n<e.length;n++)t[n]=e[n].charCodeAt(0);return At(t)}function qs(e,t){for(var n=new ArrayBuffer(2*e.length),i=new DataView(n),r=0;r<e.length;++r)i.setUint16(2*r,e.charCodeAt(r),t);return n}R("shaka.util.StringUtils",zn),zn.resetFromCharCode=function(){Hs.g=void 0},zn.toUTF16=qs,zn.toUTF8=kn,zn.fromBytesAutoDetect=qn,zn.fromUTF16=Mn,zn.fromUTF8=_e;var Hs=new Ii(function(){function e(n){try{var i=new Uint8Array(n);return 0<String.fromCharCode.apply(null,i).length}catch{return!1}}for(var t={rb:65536};0<t.rb;t={rb:t.rb},t.rb/=2)if(e(t.rb))return function(n){return function(i){for(var r="",o=0;o<i.length;o+=n.rb)r+=String.fromCharCode.apply(null,i.subarray(o,o+n.rb));return r}}(t);return null});function Ln(){}function Uh(e){return e=ue(e),e=Hs.value()(e),btoa(e)}function Hn(e,t){return t=t??!0,e=Uh(e).replace(/\+/g,"-").replace(/\//g,"_"),t?e:e.replace(/[=]*$/,"")}function ln(e){e=M.atob(e.replace(/-/g,"+").replace(/_/g,"/"));for(var t=new Uint8Array(e.length),n=0;n<e.length;++n)t[n]=e.charCodeAt(n);return t}function yr(e){for(var t=e.length/2,n=new Uint8Array(t),i=0;i<t;i++)n[i]=M.parseInt(e.substr(2*i,2),16);return n}function Er(e){var t=ue(e);e="",t=p(t);for(var n=t.next();!n.done;n=t.next())n=n.value,n=n.toString(16),n.length==1&&(n="0"+n),e+=n;return e}function Tr(){for(var e=Ot.apply(0,arguments),t=0,n=p(e),i=n.next();!i.done;i=n.next())t+=i.value.byteLength;for(t=new Uint8Array(t),n=0,e=p(e),i=e.next();!i.done;i=e.next())i=i.value,t.set(ue(i),n),n+=i.byteLength;return t}R("shaka.util.Uint8ArrayUtils",Ln),Ln.concat=Tr,Ln.toHex=Er,Ln.fromHex=yr,Ln.fromBase64=ln,Ln.toBase64=Hn,Ln.toStandardBase64=Uh;function Io(){}R("shaka.dependencies",Io),Io.has=function(e){return xo.has(e)},Io.add=function(e,t){if(!bh[e])throw Error(e+" is not supported");xo.set(e,function(){return t})};var bh={muxjs:"muxjs"};Io.Allowed=bh;var xo=new Map([["muxjs",function(){return M.muxjs}]]);function jh(e){var t=this;this.s=e,this.m=xo.get("muxjs")(),this.h=this.g=null,this.l=[],this.i=[],this.j=!1,this.m&&(this.g=new this.m.mp4.Transmuxer({keepOriginalTimestamps:!0}),this.g.on("data",function(n){t.i=n.captions,t.l.push(Tr(n.initSegment,n.data))}),this.g.on("done",function(){var n={data:Tr.apply(Ln,se(t.l)),captions:t.i};t.h.resolve(n),t.j=!1}))}jh.prototype.destroy=function(){return this.g&&this.g.dispose(),this.g=null,Promise.resolve()};function Xs(e,t){var n=Fh(e),i=e.toLowerCase().split(";")[0]=="audio/aac";return!xo.get("muxjs")()||!n&&!i?!1:i?pt('audio/mp4; codecs="mp4a.40.2"'):t?pt(Co(t,e)):(t=Co("audio",e),e=Co("video",e),pt(t)||pt(e))}function Fh(e){return e.toLowerCase().split(";")[0].split("/")[1]=="mp2t"}function Bh(e,t){return t.toLowerCase().split(";")[0]=="audio/aac"?'audio/mp4; codecs="mp4a.40.2"':Fh(t)?Co(e,t):t}function Co(e,t){if(t=t.replace(/mp2t/i,"mp4"),e=="audio"&&(t=t.replace("video","audio")),e=/avc1\.(66|77|100)\.(\d+)/.exec(t)){var n="avc1.",i=e[1],r=Number(e[2]);n=(i=="66"?n+"4200":i=="77"?n+"4d00":n+"6400")+(r>>4).toString(16),n+=(r&15).toString(16),t=t.replace(e[0],n)}return t}function Wv(e,t){return e.j=!0,e.h=new we,e.l=[],e.i=[],t=ue(t),e.g.push(t),e.g.flush(),e.j&&e.h.reject(new S(2,3,3018)),e.h}function Gh(){}function Qt(e,t){return t&&(e+='; codecs="'+t+'"'),e}function Mi(e,t,n){return t=Qt(e,t),Xs(t,n)?Bh(n,t):e!="video/mp2t"&&n=="audio"?t.replace("video","audio"):t}function Nn(e){var t=Ar(e);switch(e=t[0],t=t[1].toLowerCase(),!0){case(e==="mp4a"&&t==="69"):case(e==="mp4a"&&t==="6b"):return"mp3";case(e==="mp4a"&&t==="66"):case(e==="mp4a"&&t==="67"):case(e==="mp4a"&&t==="68"):case(e==="mp4a"&&t==="40.2"):case(e==="mp4a"&&t==="40.02"):case(e==="mp4a"&&t==="40.5"):case(e==="mp4a"&&t==="40.05"):case(e==="mp4a"&&t==="40.29"):case(e==="mp4a"&&t==="40.42"):return"aac";case(e==="mp4a"&&t==="a5"):return"ac-3";case(e==="mp4a"&&t==="a6"):return"ec-3";case(e==="mp4a"&&t==="b2"):return"dtsx";case(e==="mp4a"&&t==="a9"):return"dtsc";case e==="avc1":case e==="avc3":return"avc";case e==="hvc1":case e==="hev1":return"hevc";case e==="dvh1":case e==="dvhe":return"dovi"}return e}function Vh(e){return e=e.split(/ *; */),e.shift(),(e=e.find(function(t){return t.startsWith("codecs=")}))?e.split("=")[1].replace(/^"|"$/g,""):""}function Ar(e){e=e.split(".");var t=e[0];return e.shift(),[t,e.join(".")]}R("shaka.util.MimeUtils",Gh),Gh.getFullType=Qt,new Map().set("codecs","codecs").set("frameRate","framerate").set("bandwidth","bitrate").set("width","width").set("height","height").set("channelsCount","channels");function cn(e){this.i=null,this.j=e,this.C=!1,this.l=this.B=0,this.m=1/0,this.h=this.g=null,this.F="",this.s=new Map}function Mo(e){return!!(Ke[e]||e=="application/cea-608"||e=="application/cea-708")}cn.prototype.destroy=function(){return this.j=this.i=null,this.s.clear(),Promise.resolve()};function Yv(e,t,n,i){var r,o,u,s;return I(function(a){if(a.g==1)return m(a,Promise.resolve(),2);if(!e.i||!e.j)return a.return();if(n==null||i==null)return e.i.parseInit(ue(t)),a.return();r=e.C?n:e.B,o={periodStart:e.B,segmentStart:n,segmentEnd:i,vttOffset:r},u=e.i.parseMedia(ue(t),o),s=u.filter(function(l){return l.startTime>=e.l&&l.startTime<e.m}),e.j.append(s),e.g==null&&(e.g=Math.max(n,e.l)),e.h=Math.min(i,e.m),P(a)})}cn.prototype.remove=function(e,t){var n=this;return I(function(i){if(i.g==1)return m(i,Promise.resolve(),2);!n.j||!n.j.remove(e,t)||n.g==null||t<=n.g||e>=n.h||(e<=n.g&&t>=n.h?n.g=n.h=null:e<=n.g&&t<n.h?n.g=t:e>n.g&&t>=n.h&&(n.h=e)),P(i)})};function Jv(e,t,n){e.l=t,e.m=n}function Kh(e,t,n){if(e.F=t,t=e.s.get(t))for(var i=p(t.keys()),r=i.next();!r.done;r=i.next())(r=t.get(r.value).filter(function(o){return o.endTime<=n}))&&e.j.append(r)}function Zv(e){var t=[];e=p(e);for(var n=e.next();!n.done;n=e.next())n=n.value,t.push({stream:n.stream,cue:new Se(n.startTime,n.endTime,n.text)});return t}function zh(e,t,n){t.startTime+=n,t.endTime+=n,t=p(t.nestedCues);for(var i=t.next();!i.done;i=t.next())zh(e,i.value,n)}function qh(e,t,n,i,r){var o=n+" "+i,u=new Map;t=p(t);for(var s=t.next();!s.done;s=t.next()){var a=s.value;s=a.stream,a=a.cue,u.has(s)||u.set(s,new Map),u.get(s).has(o)||u.get(s).set(o,[]),zh(e,a,r),a.startTime>=e.l&&a.startTime<e.m&&(u.get(s).get(o).push(a),s==e.F&&e.j.append([a]))}for(r=p(u.keys()),o=r.next();!o.done;o=r.next())for(o=o.value,e.s.has(o)||e.s.set(o,new Map),t=p(u.get(o).keys()),s=t.next();!s.done;s=t.next())s=s.value,a=u.get(o).get(s),e.s.get(o).set(s,a);e.g=e.g==null?Math.max(n,e.l):Math.min(e.g,Math.max(n,e.l)),e.h=Math.max(e.h,Math.min(i,e.m))}R("shaka.text.TextEngine",cn),cn.prototype.destroy=cn.prototype.destroy,cn.findParser=function(e){return Ke[e]},cn.unregisterParser=function(e){delete Ke[e]},cn.registerParser=function(e,t){Ke[e]=t};var Ke={};function Hh(e,t,n,i,r){var o=e.variants;(t.length||n.length)&&(o=ey(o,t,n)),o=ed(o,i),t=Qv(o),t=$v(t);var u=ty(t,r);e.variants=e.variants.filter(function(s){return Xh(s)==u})}function Qv(e){var t=new yi;e=p(e);for(var n=e.next();!n.done;n=e.next()){n=n.value;var i=Xh(n);t.push(i,n)}return t}function $v(e){var t=0,n=new Map,i=e.size();return e.forEach(function(r,o){o=p(o);for(var u=o.next();!u.done;u=o.next()){u=u.value;var s=u.video;if(s&&s.width&&s.height){s=s.width*s.height*(s.frameRate||1),n.has(s)||n.set(s,new yi);var a=n.get(s);a.push(r,u),a.size()===i&&(t=Math.max(t,s))}}}),t?n.get(t):e}function ey(e,t,n){var i={};t=p(t);for(var r=t.next();!r.done;i={ee:i.ee},r=t.next())if(i.ee=r.value,r=e.filter(function(o){return function(u){return u.video&&u.video.codecs.startsWith(o.ee)}}(i)),r.length){e=r;break}for(i={},n=p(n),t=n.next();!t.done;i={Qd:i.Qd},t=n.next())if(i.Qd=t.value,t=e.filter(function(o){return function(u){return u.audio&&u.audio.codecs.startsWith(o.Qd)}}(i)),t.length){e=t;break}return e}function ty(e,t){t=p(t);for(var n=t.next();!n.done;n=t.next())if(n=n.value,n==dy||n==fy){if(e=ny(e,n),e.size()==1)return e.keys()[0]}else if(n==py)break;return iy(e)}function ny(e,t){var n=0,i=new yi;return e.forEach(function(r,o){for(var u=0,s=0,a=p(o),l=a.next();!l.done;l=a.next())l=l.value,l.decodingInfos.length&&(u+=l.decodingInfos[0][t]?1:0,s++);u/=s,u>n?(i.g={},i.push(r,o),n=u):u==n&&i.push(r,o)}),i}function iy(e){var t="",n=1/0;return e.forEach(function(i,r){var o=0,u=0;r=p(r);for(var s=r.next();!s.done;s=r.next())o+=s.value.bandwidth||0,++u;o/=u,o<n&&(t=i,n=o)}),t}function Xh(e){var t="";e.video&&(t=Nn(e.video.codecs));var n="";return e.audio&&(n=Nn(e.audio.codecs)),t+"-"+n}function ry(e,t,n){e.variants=e.variants.filter(function(i){return Ws(i,t,n)})}function Ws(e,t,n){function i(o,u,s){return o>=u&&o<=s}var r=e.video;if(e.disabledUntilTime!=0){if(e.disabledUntilTime>Date.now()/1e3)return!1;e.disabledUntilTime=0}return!(r&&r.width&&r.height&&(!i(r.width,t.minWidth,Math.min(t.maxWidth,n.width))||!i(r.height,t.minHeight,Math.min(t.maxHeight,n.height))||!i(r.width*r.height,t.minPixels,t.maxPixels))||e&&e.video&&e.video.frameRate&&!i(e.video.frameRate,t.minFrameRate,t.maxFrameRate)||!i(e.bandwidth,t.minBandwidth,t.maxBandwidth))}function Ys(e,t,n){var i=!1;e=p(e);for(var r=e.next();!r.done;r=e.next()){r=r.value;var o=r.allowedByApplication;r.allowedByApplication=Ws(r,t,n),o!=r.allowedByApplication&&(i=!0)}return i}function oy(e,t){return I(function(n){return n.g==1?m(n,Wh(t,0<t.offlineSessionIds.length),2):(Jh(e,t),sy(t),m(n,ay(t),0))})}function Wh(e,t){return I(function(n){if(n.g==1)return m(n,Yh(e.variants,t,!1),2);e.variants=e.variants.filter(function(i){var r=i.video;if(r){var o=ko(r.codecs);if(r.codecs.includes(",")){var u=r.codecs.split(",");o=sr("video",u),o=ko(o),u=sr("audio",u),u=Js(u);var s=Mi(r.mimeType,u,"audio");if(!pt(s))return!1;o=[o,u].join()}if(u=Mi(r.mimeType,o,"video"),!pt(u))return!1;r.codecs=o}if(o=i.audio){if(u=Js(o.codecs),s=Mi(o.mimeType,u,"audio"),!pt(s))return!1;o.codecs=u}return gr()&&r&&(r.width&&1920<r.width||r.height&&1080<r.height)&&(r.codecs.includes("avc1.")||r.codecs.includes("avc3."))?(nd(i),!1):((r=i.decodingInfos.some(function(a){return a.supported}))||(nd(i),void 0),r)}),P(n)})}function Yh(e,t,n){var i,r,o,u,s,a,l,c,f,h;return I(function(g){if(e.some(function(v){return v.decodingInfos.length}))return g.return();for(i=navigator.mediaCapabilities,r=[],o=function(v,T){var E;return I(function(y){if(y.g==1)return ee(y,2),m(y,i.decodingInfo(T),4);if(y.g!=2)return E=y.h,v.decodingInfos.push(E),le(y,0);te(y),JSON.stringify(T),P(y)})},u=p(e),s=u.next();!s.done;s=u.next())for(a=s.value,l=uy(a,t,n),c=p(l),f=c.next();!f.done;f=c.next())h=f.value,r.push(o(a,h));return m(g,Promise.all(r),0)})}function uy(e,t,n){var i=e.audio,r=e.video;if(n={type:n?"file":"media-source"},r){var o=r.codecs;if(r.codecs.includes(",")){var u=r.codecs.split(",");o=sr("video",u),o=ko(o),u=sr("audio",u),u=Mi(r.mimeType,u,"audio"),n.audio={contentType:u,channels:2,bitrate:e.bandwidth||1,samplerate:1,spatialRendering:!1}}if(o=ko(o),o=Mi(r.mimeType,o,"video"),n.video={contentType:o,width:r.width||64,height:r.height||64,bitrate:r.bandwidth||e.bandwidth||1,framerate:r.frameRate||1},r.hdr)switch(r.hdr){case"SDR":n.video.transferFunction="srgb";break;case"PQ":n.video.transferFunction="pq";break;case"HLG":n.video.transferFunction="hlg"}}if(i&&(o=Js(i.codecs),o=Mi(i.mimeType,o,"audio"),n.audio={contentType:o,channels:i.channelsCount||2,bitrate:i.bandwidth||e.bandwidth||1,samplerate:i.audioSamplingRate||1,spatialRendering:i.spatialAudio}),u=(e.video?e.video.drmInfos:[]).concat(e.audio?e.audio.drmInfos:[]),!u.length)return[n];e=[],o=new Map,u=p(u);for(var s=u.next();!s.done;s=u.next()){var a=s.value;o.get(a.keySystem)||o.set(a.keySystem,[]),o.get(a.keySystem).push(a)}u=t?"required":"optional",t=t?["persistent-license"]:["temporary"],a=p(o.keys());for(var l=a.next();!l.done;l=a.next()){var c=l.value;l=Object.assign({},n);var f=o.get(c);for(c={keySystem:c,initDataType:"cenc",persistentState:u,distinctiveIdentifier:"optional",sessionTypes:t},f=p(f),s=f.next();!s.done;s=f.next()){if(s=s.value,s.initData&&s.initData.length){for(var h=new Set,g=p(s.initData),v=g.next();!v.done;v=g.next())h.add(v.value.initDataType);c.initDataType=s.initData[0].initDataType}s.distinctiveIdentifierRequired&&(c.distinctiveIdentifier="required"),s.persistentStateRequired&&(c.persistentState="required"),s.sessionType&&(c.sessionTypes=[s.sessionType]),i&&(s.audioRobustness!=""?c.audio?c.audio.robustness=c.audio.robustness||s.audioRobustness:c.audio={robustness:s.audioRobustness}:c.audio||(c.audio={})),r&&(s.videoRobustness!=""?c.video?c.video.robustness=c.video.robustness||s.videoRobustness:c.video={robustness:s.videoRobustness}:c.video||(c.video={}))}l.keySystemConfiguration=c,e.push(l)}return e}function Js(e){return Kn()&&e.toLowerCase()=="ac-3"?"ec-3":e}function ko(e){if(e.includes("avc1")){var t=e.split(".");if(t.length==3)return e=t.shift()+".",e+=parseInt(t.shift(),10).toString(16),e+=("000"+parseInt(t.shift(),10).toString(16)).slice(-4)}else if(e=="vp9")return"vp09.00.41.08";return e}function Jh(e,t){t.variants=t.variants.filter(function(n){var i=n.audio;return n=n.video,!(i&&e&&e.audio&&!Zh(i,e.audio)||n&&e&&e.video&&!Zh(n,e.video))})}function sy(e){e.textStreams=e.textStreams.filter(function(t){return Mo(Qt(t.mimeType,t.codecs))})}function ay(e){var t,n,i,r,o,u,s;return I(function(a){switch(a.g){case 1:t=[],n=p(e.imageStreams),i=n.next();case 2:if(i.done){a.D(4);break}if(r=i.value,o=r.mimeType,Ro.has(o)){a.D(5);break}if(u=gy.get(o),!u){Ro.set(o,!1),a.D(5);break}return m(a,ly(u),7);case 7:s=a.h,Ro.set(o,s);case 5:Ro.get(o)&&t.push(r),i=n.next(),a.D(2);break;case 4:e.imageStreams=t,P(a)}})}function ly(e){return new Promise(function(t){var n=new Image;n.src=e,"decode"in n?n.decode().then(function(){t(!0)}).catch(function(){t(!1)}):n.onload=n.onerror=function(){t(n.height===2)}})}function Zh(e,t){return!(e.mimeType!=t.mimeType||e.codecs.split(".")[0]!=t.codecs.split(".")[0])}function Xn(e){var t=e.audio,n=e.video,i=t?t.mimeType:null,r=n?n.mimeType:null,o=t?t.codecs:null,u=n?n.codecs:null,s=[];u&&s.push(u),o&&s.push(o);var a=[];n&&a.push(n.mimeType),t&&a.push(t.mimeType),a=a[0]||null;var l=[];t&&l.push(t.kind),n&&l.push(n.kind),l=l[0]||null;var c=new Set;if(t)for(var f=p(t.roles),h=f.next();!h.done;h=f.next())c.add(h.value);if(n)for(f=p(n.roles),h=f.next();!h.done;h=f.next())c.add(h.value);return e={id:e.id,active:!1,type:"variant",bandwidth:e.bandwidth,language:e.language,label:null,kind:l,width:null,height:null,frameRate:null,pixelAspectRatio:null,hdr:null,mimeType:a,audioMimeType:i,videoMimeType:r,codecs:s.join(", "),audioCodec:o,videoCodec:u,primary:e.primary,roles:Array.from(c),audioRoles:null,forced:!1,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null,originalImageId:null},n&&(e.videoId=n.id,e.originalVideoId=n.originalId,e.width=n.width||null,e.height=n.height||null,e.frameRate=n.frameRate||null,e.pixelAspectRatio=n.pixelAspectRatio||null,e.videoBandwidth=n.bandwidth||null),t&&(e.audioId=t.id,e.originalAudioId=t.originalId,e.channelsCount=t.channelsCount,e.audioSamplingRate=t.audioSamplingRate,e.audioBandwidth=t.bandwidth||null,e.spatialAudio=t.spatialAudio,e.label=t.label,e.audioRoles=t.roles),e}function Lo(e){return{id:e.id,active:!1,type:fe,bandwidth:0,language:e.language,label:e.label,kind:e.kind||null,width:null,height:null,frameRate:null,pixelAspectRatio:null,hdr:null,mimeType:e.mimeType,audioMimeType:null,videoMimeType:null,codecs:e.codecs||null,audioCodec:null,videoCodec:null,primary:e.primary,roles:e.roles,audioRoles:null,forced:e.forced,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:e.originalId,originalImageId:null}}function Zs(e){var t=e.width||null,n=e.height||null,i=null;e.segmentIndex&&(i=e.segmentIndex.get(0));var r=e.tilesLayout;return i&&(r=i.tilesLayout||r),r&&t!=null&&(t/=Number(r.split("x")[0])),r&&n!=null&&(n/=Number(r.split("x")[1])),{id:e.id,active:!1,type:"image",bandwidth:e.bandwidth||0,language:"",label:null,kind:null,width:t,height:n,frameRate:null,pixelAspectRatio:null,hdr:null,mimeType:e.mimeType,audioMimeType:null,videoMimeType:null,codecs:null,audioCodec:null,videoCodec:null,primary:!1,roles:[],audioRoles:null,forced:!1,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:r||null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null,originalImageId:e.originalId}}function Qs(e){return e.__shaka_id||(e.__shaka_id=hy++),e.__shaka_id}function Qh(e){var t=$h(e);return t.active=e.mode!="disabled",t.type="text",t.originalTextId=e.id,e.kind=="captions"&&(t.mimeType="application/cea-608"),e.kind&&(t.roles=[e.kind]),e.kind=="forced"&&(t.forced=!0),t}function No(e){var t=$h(e);return t.active=e.enabled,t.type="variant",t.originalAudioId=e.id,e.kind=="main"&&(t.primary=!0),e.kind&&(t.roles=[e.kind],t.audioRoles=[e.kind],t.label=e.label),t}function $h(e){return{id:Qs(e),active:!1,type:"",bandwidth:0,language:ce(e.language),label:e.label,kind:e.kind,width:null,height:null,frameRate:null,pixelAspectRatio:null,hdr:null,mimeType:null,audioMimeType:null,videoMimeType:null,codecs:null,audioCodec:null,videoCodec:null,primary:!1,roles:[],forced:!1,audioRoles:null,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null,originalImageId:null}}function Sr(e){return e.allowedByApplication&&e.allowedByKeySystem}function cy(e){return e.filter(function(t){return Sr(t)})}function ed(e,t){var n=e.filter(function(u){return u.audio&&u.audio.channelsCount}),i=new Map;n=p(n);for(var r=n.next();!r.done;r=n.next()){r=r.value;var o=r.audio.channelsCount;i.has(o)||i.set(o,[]),i.get(o).push(r)}return n=Array.from(i.keys()),n.length==0?e:(e=n.filter(function(u){return u<=t}),e.length?i.get(Math.max.apply(Math,se(e))):i.get(Math.min.apply(Math,se(n))))}function $s(e,t,n,i){var r=e,o=e.filter(function(a){return a.primary});o.length&&(r=o);var u=r.length?r[0].language:"";if(r=r.filter(function(a){return a.language==u}),t){var s=So(ce(t),e.map(function(a){return a.language}));s&&(r=e.filter(function(a){return ce(a.language)==s}))}if(r=r.filter(function(a){return a.forced==i}),n){if(e=td(r,n),e.length)return e}else if(e=r.filter(function(a){return a.roles.length==0}),e.length)return e;return e=r.map(function(a){return a.roles}).reduce(Ls,[]),e.length?td(r,e[0]):r}function td(e,t){return e.filter(function(n){return n.roles.includes(t)})}function nd(e){var t=[];return e.audio&&t.push(id(e.audio)),e.video&&t.push(id(e.video)),t.join(", ")}function id(e){return e.type=="audio"?"type=audio codecs="+e.codecs+" bandwidth="+e.bandwidth+" channelsCount="+e.channelsCount+" audioSamplingRate="+e.audioSamplingRate:e.type=="video"?"type=video codecs="+e.codecs+" bandwidth="+e.bandwidth+" frameRate="+e.frameRate+" width="+e.width+" height="+e.height:"unexpected stream type"}var hy=0,dy="smooth",fy="powerEfficient",py="bandwidth",Ro=new Map().set("image/svg+xml",!0).set("image/png",!0).set("image/jpeg",!0).set("image/jpg",!0),gy=new Map().set("image/webp","data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA").set("image/avif","data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=");function ke(){var e=this;this.m=null,this.l=!1,this.i=new lr,navigator.connection&&navigator.connection.addEventListener&&(this.C=function(){if(e.g.useNetworkInformation&&e.l){e.i=new lr,e.g&&e.i.configure(e.g.advanced);var t=e.chooseVariant();t&&e.m(t)}},navigator.connection.addEventListener("change",this.C)),this.s=[],this.F=1,this.H=!1,this.C=this.h=this.j=this.g=this.B=null,this.G=new q(function(){if(e.g.restrictToElementSize){var t=e.chooseVariant();t&&e.m(t)}})}d=ke.prototype,d.stop=function(){this.m=null,this.l=!1,this.s=[],this.F=1,this.j=this.B=null,this.h&&(this.h.disconnect(),this.h=null),this.G.stop()},d.release=function(){navigator.connection&&navigator.connection.removeEventListener&&(navigator.connection.removeEventListener("change",this.C),this.C=null),this.G=null},d.init=function(e){this.m=e},d.chooseVariant=function(){var e=1/0,t=1/0;this.g.restrictToScreenSize&&(t=this.g.ignoreDevicePixelRatio?1:M.devicePixelRatio,e=M.screen.height*t,t*=M.screen.width),this.h&&this.g.restrictToElementSize&&(t=this.g.ignoreDevicePixelRatio?1:M.devicePixelRatio,e=this.j.clientWidth*t,t*=this.j.clientHeight),e=rd(this.g.restrictions,this.s,e,t),t=this.i.getBandwidthEstimate(ea(this)),this.s.length&&!e.length&&(e=rd(null,this.s,1/0,1/0),e=[e[0]]);for(var n=e[0]||null,i=0;i<e.length;i++){for(var r=e[i],o=isNaN(this.F)?1:Math.abs(this.F),u=o*r.bandwidth/this.g.bandwidthDowngradeTarget,s={bandwidth:1/0},a=i+1;a<e.length;a++)if(r.bandwidth!=e[a].bandwidth){s=e[a];break}o=o*s.bandwidth/this.g.bandwidthUpgradeTarget,t>=u&&t<=o&&n.bandwidth!=r.bandwidth&&(n=r)}return this.B=Date.now(),n},d.enable=function(){this.l=!0},d.disable=function(){this.l=!1},d.segmentDownloaded=function(e,t){if(this.i.sample(e,t),this.B!=null&&this.l)e:{if(this.H){if(Date.now()-this.B<1e3*this.g.switchInterval)break e}else{if(e=this.i,!(e.g>=e.i))break e;this.H=!0}e=this.chooseVariant(),this.i.getBandwidthEstimate(ea(this)),e&&this.m(e)}},d.getBandwidthEstimate=function(){return this.i.getBandwidthEstimate(ea(this))},d.setVariants=function(e){this.s=e},d.playbackRateChanged=function(e){this.F=e},d.setMediaElement=function(e){var t=this;this.j=e,this.h&&(this.h.disconnect(),this.h=null),this.j&&"ResizeObserver"in M&&(this.h=new ResizeObserver(function(){t.G.R(my)}),this.h.observe(this.j))},d.configure=function(e){this.g=e,this.i&&this.g&&this.i.configure(this.g.advanced)};function ea(e){var t=e.g.defaultBandwidthEstimate;return navigator.connection&&navigator.connection.downlink&&e.g.useNetworkInformation&&(t=1e6*navigator.connection.downlink),t}function rd(e,t,n,i){return e&&(t=t.filter(function(r){return Ws(r,e,{width:i,height:n})})),t.sort(function(r,o){return r.bandwidth-o.bandwidth})}R("shaka.abr.SimpleAbrManager",ke),ke.prototype.configure=ke.prototype.configure,ke.prototype.setMediaElement=ke.prototype.setMediaElement,ke.prototype.playbackRateChanged=ke.prototype.playbackRateChanged,ke.prototype.setVariants=ke.prototype.setVariants,ke.prototype.getBandwidthEstimate=ke.prototype.getBandwidthEstimate,ke.prototype.segmentDownloaded=ke.prototype.segmentDownloaded,ke.prototype.disable=ke.prototype.disable,ke.prototype.enable=ke.prototype.enable,ke.prototype.chooseVariant=ke.prototype.chooseVariant,ke.prototype.init=ke.prototype.init,ke.prototype.release=ke.prototype.release,ke.prototype.stop=ke.prototype.stop;var my=1;function ta(e,t){this.g=e,this.h=t}ta.prototype.toString=function(){return"v"+this.g+"."+this.h};function od(e,t){var n=new ta(5,0),i=ud,r=i.g,o=n.h-r.h;(0<(n.g-r.g||o)?i.i:i.h)(i.g,n,e,t)}function vy(e,t,n,i){pe([n,"has been deprecated and will be removed in",t,". We are currently at version",e,". Additional information:",i].join(" "))}function yy(e,t,n,i){bn([n,"has been deprecated and has been removed in",t,". We are now at version",e,". Additional information:",i].join(""))}var ud=null;R("shaka.config.AutoShowText",{NEVER:0,ALWAYS:1,IF_PREFERRED_TEXT_LANGUAGE:2,IF_SUBTITLES_MAY_BE_NEEDED:3});function _o(e,t){for(this.h=e,this.g=new Set([e]),t=t||[],e=p(t),t=e.next();!t.done;t=e.next())this.add(t.value)}_o.prototype.add=function(e){return na(this.h,e)?(this.g.add(e),!0):!1};function na(e,t){var n;if(!(n=!!e.audio!=!!t.audio||!!e.video!=!!t.video||e.language!=t.language)&&(n=e.audio&&t.audio)){n=e.audio;var i=t.audio;n=!((!(!n.channelsCount||!i.channelsCount||2<n.channelsCount||2<i.channelsCount)||n.channelsCount==i.channelsCount)&&sd(n,i)&&ad(n.roles,i.roles))}return!n&&(n=e.video&&t.video)&&(e=e.video,t=t.video,n=!(sd(e,t)&&ad(e.roles,t.roles))),!n}_o.prototype.values=function(){return this.g.values()};function sd(e,t){if(e.mimeType!=t.mimeType||(e=e.codecs.split(",").map(function(i){return Ar(i)[0]}),t=t.codecs.split(",").map(function(i){return Ar(i)[0]}),e.length!=t.length))return!1;e.sort(),t.sort();for(var n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0}function ad(e,t){if(e=new Set(e),t=new Set(t),e.delete("main"),t.delete("main"),e.size!=t.size)return!1;e=p(e);for(var n=e.next();!n.done;n=e.next())if(!t.has(n.value))return!1;return!0}function ld(e){this.g=e,this.h=new ki(e.language,"",e.audio&&e.audio.channelsCount?e.audio.channelsCount:0,"")}ld.prototype.create=function(e){var t=this,n=e.filter(function(i){return na(t.g,i)});return n.length?new _o(n[0],n):this.h.create(e)};function ki(e,t,n,i){this.i=e,this.j=t,this.g=n,this.h=i===void 0?"":i}ki.prototype.create=function(e){var t=[];t=Ey(e,this.i);var n=e.filter(function(i){return i.primary});for(t=t.length?t:n.length?n:e,e=Ty(t,this.j),e.length&&(t=e),this.g&&(e=ed(t,this.g),e.length&&(t=e)),this.h&&(e=Ay(t,this.h),e.length&&(t=e)),e=new _o(t[0]),t=p(t),n=t.next();!n.done;n=t.next())n=n.value,na(e.h,n)&&e.add(n);return e};function Ey(e,t){t=ce(t);var n=So(t,e.map(function(i){return Rs(i)}));return n?e.filter(function(i){return n==Rs(i)}):[]}function Ty(e,t){return e.filter(function(n){return n.audio?t?n.audio.roles.includes(t):n.audio.roles.length==0:!1})}function Ay(e,t){return e.filter(function(n){return n.audio?n.audio.label.toLowerCase()==t.toLowerCase():!1})}function Sy(){this.g=Do,this.h=new Map().set(Do,2).set(Li,1)}function cd(e,t,n){e.h.set(Do,n).set(Li,t)}var Li=0,Do=1;function hd(e,t){var n=Ni();this.l=e.maxAttempts==null?n.maxAttempts:e.maxAttempts,this.j=e.baseDelay==null?n.baseDelay:e.baseDelay,this.s=e.fuzzFactor==null?n.fuzzFactor:e.fuzzFactor,this.m=e.backoffFactor==null?n.backoffFactor:e.backoffFactor,this.g=0,this.h=this.j,(this.i=t===void 0?!1:t)&&(this.g=1)}function dd(e){var t,n;return I(function(i){if(i.g==1){if(e.g>=e.l)if(e.i)e.g=1,e.h=e.j;else throw new S(2,7,1010);return t=e.g,e.g++,t==0?i.return():(n=e.h*(1+(2*Math.random()-1)*e.s),m(i,new Promise(function(r){new q(r).R(n/1e3)}),2))}e.h*=e.m,P(i)})}function Ni(){return{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4}}function Ce(e,t){this.promise=e,this.i=t,this.g=!1}function Wn(e){return new Ce(Promise.reject(e),function(){return Promise.resolve()})}function ia(){var e=Promise.reject(new S(2,7,7001));return e.catch(function(){}),new Ce(e,function(){return Promise.resolve()})}function Ri(e){return new Ce(Promise.resolve(e),function(){return Promise.resolve()})}function $t(e){return new Ce(e,function(){return e.catch(function(){})})}Ce.prototype.abort=function(){return this.g=!0,this.i()};function fd(e){return new Ce(Promise.all(e.map(function(t){return t.promise})),function(){return Promise.all(e.map(function(t){return t.abort()}))})}Ce.prototype.finally=function(e){return this.promise.then(function(){return e(!0)},function(){return e(!1)}),this},Ce.prototype.ia=function(e,t){function n(s){return function(a){if(r.g&&s)o.reject(u);else{var l=s?e:t;l?i=wy(l,a,o):(s?o.resolve:o.reject)(a)}}}function i(){return o.reject(u),r.abort()}var r=this,o=new we,u=new S(2,7,7001);return this.promise.then(n(!0),n(!1)),new Ce(o,function(){return i()})};function wy(e,t,n){try{var i=e(t);return i&&i.promise&&i.abort?(n.resolve(i.promise),function(){return i.abort()}):(n.resolve(i),function(){return Promise.resolve(i).then(function(){},function(){})})}catch(r){return n.reject(r),function(){return Promise.resolve()}}}R("shaka.util.AbortableOperation",Ce),Ce.prototype.chain=Ce.prototype.ia,Ce.prototype.finally=Ce.prototype.finally,Ce.all=fd,Ce.prototype.abort=Ce.prototype.abort,Ce.notAbortable=$t,Ce.completed=Ri,Ce.aborted=ia,Ce.failed=Wn;function _i(e){function t(i){switch(typeof i){case"undefined":case"boolean":case"number":case"string":case"symbol":case"function":return i;default:if(!i||i.buffer&&i.buffer.constructor==ArrayBuffer)return i;if(n.has(i))return null;var r=i.constructor==Array;if(i.constructor!=Object&&!r)return null;n.add(i);var o=r?[]:{},u;for(u in i)o[u]=t(i[u]);return r&&(o.length=i.length),o}}var n=new Set;return t(e)}function pd(e){var t={},n;for(n in e)t[n]=e[n];return t}function Po(){this.g=[]}function Di(e,t){e.g.push(t.finally(function(){bt(e.g,t)}))}Po.prototype.destroy=function(){for(var e=[],t=p(this.g),n=t.next();!n.done;n=t.next())n=n.value,n.promise.catch(function(){}),e.push(n.abort());return this.g=[],Promise.all(e)};function Te(e,t,n){oe.call(this),this.i=!1,this.m=new Po,this.g=new Set,this.h=new Set,this.l=e||null,this.j=t||null,this.B=n||null,this.s=!1}K(Te,oe),d=Te.prototype,d.Ne=function(e){this.s=e};function hn(e,t,n,i){n=n||vd;var r=Uo[e];(!r||n>=r.priority)&&(Uo[e]={priority:n,rh:t,sh:i===void 0?!1:i})}d.uh=function(e){this.g.add(e)},d.Kh=function(e){this.g.delete(e)},d.pg=function(){this.g.clear()},d.vh=function(e){this.h.add(e)},d.Lh=function(e){this.h.delete(e)},d.qg=function(){this.h.clear()};function St(e,t,n){return{uris:e,method:"GET",body:null,headers:{},allowCrossSiteCredentials:!1,retryParameters:t,licenseRequestType:null,sessionId:null,drmInfo:null,initData:null,initDataType:null,streamDataCallback:n===void 0?null:n}}d.destroy=function(){return this.i=!0,this.g.clear(),this.h.clear(),oe.prototype.release.call(this),this.m.destroy()},d.request=function(e,t){var n=this,i=new md;if(this.i){var r=Promise.reject(new S(2,7,7001));return r.catch(function(){}),new Oo(r,function(){return Promise.resolve()},i)}t.method=t.method||"GET",t.headers=t.headers||{},t.retryParameters=t.retryParameters?_i(t.retryParameters):Ni(),t.uris=_i(t.uris),r=Iy(this,e,t);var o=r.ia(function(){return gd(n,e,t,new hd(t.retryParameters,!1),0,null,i)}),u=o.ia(function(f){return xy(n,e,f)}),s=Date.now(),a=0;r.promise.then(function(){a=Date.now()-s},function(){});var l=0;o.promise.then(function(){l=Date.now()},function(){});var c=u.ia(function(f){var h=Date.now()-l,g=f.response;return g.timeMs+=a,g.timeMs+=h,f.dh||!n.l||g.fromCache||t.method=="HEAD"||e!=Rn||n.l(g.timeMs,g.data.byteLength),g},function(f){throw f&&(f.severity=2),f});return r=new Oo(c.promise,function(){return c.abort()},i),Di(this.m,r),r};function Iy(e,t,n){var i=Ri(void 0),r={};e=p(e.g);for(var o=e.next();!o.done;r={Zd:r.Zd},o=e.next())r.Zd=o.value,i=i.ia(function(u){return function(){return n.body&&(n.body=At(n.body)),u.Zd(t,n)}}(r));return i.ia(void 0,function(u){throw u instanceof S&&u.code==7001?u:new S(2,1,1006,u)})}function gd(e,t,n,i,r,o,u){e.s&&(n.uris[r]=n.uris[r].replace("http://","https://"));var s=new ft(n.uris[r]),a=s.Wa,l=!1;a||(a=location.protocol,a=a.slice(0,-1),Eo(s,a),n.uris[r]=s.toString()),a=a.toLowerCase();var c=(a=Uo[a])?a.rh:null;if(!c)return Wn(new S(2,1,1e3,s));var f=a.sh,h=null,g=null,v=!1,T=!1,E;return $t(dd(i)).ia(function(){if(e.i)return ia();E=Date.now();var y=c(n.uris[r],n,t,function(w,C,k){h&&h.stop(),g&&g.R(A/1e3),e.l&&t==Rn&&(e.l(w,C),l=!0,u.g=k)},function(w){e.j&&e.j(w,n,t),T=!0});if(!f)return y;var x=n.retryParameters.connectionTimeout;x&&(h=new q(function(){v=!0,y.abort()}),h.R(x/1e3));var A=n.retryParameters.stallTimeout;return A&&(g=new q(function(){v=!0,y.abort()})),y}).ia(function(y){h&&h.stop(),g&&g.stop(),y.timeMs==null&&(y.timeMs=Date.now()-E);var x={response:y,dh:l};return!T&&e.j&&e.j(y.headers,n,t),x},function(y){if(h&&h.stop(),g&&g.stop(),e.B){var x=null,A=0;y instanceof S&&(x=y,y.code==1001&&(A=y.data[1])),e.B(n,x,A,v)}if(e.i)return ia();if(v&&(y=new S(1,1,1003,n.uris[r],t)),y instanceof S){if(y.code==7001)throw y;if(y.code==1010)throw o;if(y.severity==1)return x=new Map().set("error",y),x=new U("retry",x),e.dispatchEvent(x),r=(r+1)%n.uris.length,gd(e,t,n,i,r,y,u)}throw y})}function xy(e,t,n){var i=Ri(void 0),r={};e=p(e.h);for(var o=e.next();!o.done;r={$d:r.$d},o=e.next())r.$d=o.value,i=i.ia(function(u){return function(){var s=n.response;return s.data&&(s.data=At(s.data)),u.$d(t,s)}}(r));return i.ia(function(){return n},function(u){var s=2;if(u instanceof S){if(u.code==7001)throw u;s=u.severity}throw new S(s,1,1007,u)})}R("shaka.net.NetworkingEngine",Te),Te.prototype.request=Te.prototype.request,Te.prototype.destroy=Te.prototype.destroy,Te.makeRequest=St,Te.defaultRetryParameters=function(){return Ni()},Te.prototype.clearAllResponseFilters=Te.prototype.qg,Te.prototype.unregisterResponseFilter=Te.prototype.Lh,Te.prototype.registerResponseFilter=Te.prototype.vh,Te.prototype.clearAllRequestFilters=Te.prototype.pg,Te.prototype.unregisterRequestFilter=Te.prototype.Kh,Te.prototype.registerRequestFilter=Te.prototype.uh,Te.unregisterScheme=function(e){delete Uo[e]},Te.registerScheme=hn,Te.prototype.setForceHTTPS=Te.prototype.Ne;function md(){this.g=0}Te.NumBytesRemainingClass=md;function Oo(e,t,n){Ce.call(this,e,t),this.h=n}K(Oo,Ce),Te.PendingRequest=Oo;var Rn=1;Te.RequestType={MANIFEST:0,SEGMENT:Rn,LICENSE:2,APP:3,TIMING:4,SERVER_CERTIFICATE:5,KEY:6};var vd=3;Te.PluginPriority={FALLBACK:1,PREFERRED:2,APPLICATION:vd};var Uo={};function Yn(e){this.g=!1,this.h=new we,this.i=e}Yn.prototype.destroy=function(){var e=this;return this.g?this.h:(this.g=!0,this.i().then(function(){e.h.resolve()},function(){e.h.resolve()}))};function ve(e,t){if(e.g)throw t instanceof S&&t.code==7003?t:new S(2,7,7003,t)}function ye(){this.g=new yi}d=ye.prototype,d.release=function(){this.Rb(),this.g=null},d.o=function(e,t,n,i){this.g&&(e=new yd(e,t,n,i),this.g.push(t,e))},d.ya=function(e,t,n,i){function r(u){o.qc(e,t,r),n(u)}var o=this;this.o(e,t,r,i)},d.qc=function(e,t,n){if(this.g){var i=this.g.get(t)||[];i=p(i);for(var r=i.next();!r.done;r=i.next())r=r.value,r.target!=e||n!=r.listener&&n||(r.qc(),this.g.remove(t,r))}},d.Rb=function(){if(this.g){var e=this.g,t=[],n;for(n in e.g)t.push.apply(t,se(e.g[n]));for(e=p(t),t=e.next();!t.done;t=e.next())t.value.qc();this.g.g={}}},R("shaka.util.EventManager",ye),ye.prototype.removeAll=ye.prototype.Rb,ye.prototype.unlisten=ye.prototype.qc,ye.prototype.listenOnce=ye.prototype.ya,ye.prototype.listen=ye.prototype.o,ye.prototype.release=ye.prototype.release;function yd(e,t,n,i){this.target=e,this.type=t,this.listener=n,this.g=Cy(e,i),this.target.addEventListener(t,n,this.g)}yd.prototype.qc=function(){this.target.removeEventListener(this.type,this.listener,this.g),this.listener=this.target=null,this.g=!1};function Cy(e,t){if(t==null)return!1;if(typeof t=="boolean")return t;var n=new Set(["passive","capture"]);return Object.keys(t).filter(function(i){return!n.has(i)}),My(e)?t:t.capture||!1}function My(e){var t=Ed;if(t==null){t=!1;try{var n={},i={get:function(){return t=!0,!1}};Object.defineProperty(n,"passive",i),Object.defineProperty(n,"capture",i),i=function(){},e.addEventListener("test",i,n),e.removeEventListener("test",i,n)}catch{t=!1}Ed=t}return t||!1}var Ed=void 0;function wr(e){for(var t=new Map,n=p(Object.keys(e)),i=n.next();!i.done;i=n.next())i=i.value,t.set(i,e[i]);return t}function ra(e){var t={};return e.forEach(function(n,i){t[i]=n}),t}function ky(e,t){if(e||t){if(e&&!t||t&&!e)return!1}else return!0;if(e.size!=t.size)return!1;e=p(e);for(var n=e.next();!n.done;n=e.next()){var i=p(n.value);if(n=i.next().value,i=i.next().value,!t.has(n)||(n=t.get(n),n!=i||n==null))return!1}return!0}function ge(e,t){this.W=lt(e),this.h=t==Td,this.g=0}d=ge.prototype,d.xa=function(){return this.g<this.W.byteLength},d.ma=function(){return this.g},d.Jg=function(){return this.W.byteLength},d.ob=function(){try{var e=this.W.getUint8(this.g);return this.g+=1,e}catch{throw dn()}},d.De=function(){try{var e=this.W.getUint16(this.g,this.h);return this.g+=2,e}catch{throw dn()}},d.N=function(){try{var e=this.W.getUint32(this.g,this.h);return this.g+=4,e}catch{throw dn()}},d.Qf=function(){try{var e=this.W.getInt32(this.g,this.h);return this.g+=4,e}catch{throw dn()}},d.Cb=function(){try{if(this.h)var e=this.W.getUint32(this.g,!0),t=this.W.getUint32(this.g+4,!0);else t=this.W.getUint32(this.g,!1),e=this.W.getUint32(this.g+4,!1)}catch{throw dn()}if(2097151<t)throw new S(2,3,3001);return this.g+=8,t*Math.pow(2,32)+e},d.Bb=function(e){if(this.g+e>this.W.byteLength)throw dn();var t=ue(this.W,this.g,e);return this.g+=e,t},d.skip=function(e){if(this.g+e>this.W.byteLength)throw dn();this.g+=e},d.Dh=function(e){if(this.g<e)throw dn();this.g-=e},d.seek=function(e){if(0>e||e>this.W.byteLength)throw dn();this.g=e},d.Vc=function(){for(var e=this.g;this.xa()&&this.W.getUint8(this.g)!=0;)this.g+=1;return e=ue(this.W,e,this.g-e),this.g+=1,_e(e)};function dn(){return new S(2,3,3e3)}R("shaka.util.DataViewReader",ge),ge.prototype.readTerminatedString=ge.prototype.Vc,ge.prototype.seek=ge.prototype.seek,ge.prototype.rewind=ge.prototype.Dh,ge.prototype.skip=ge.prototype.skip,ge.prototype.readBytes=ge.prototype.Bb,ge.prototype.readUint64=ge.prototype.Cb,ge.prototype.readInt32=ge.prototype.Qf,ge.prototype.readUint32=ge.prototype.N,ge.prototype.readUint16=ge.prototype.De,ge.prototype.readUint8=ge.prototype.ob,ge.prototype.getLength=ge.prototype.Jg,ge.prototype.getPosition=ge.prototype.ma,ge.prototype.hasMoreData=ge.prototype.xa;var Td=1;ge.Endianness={BIG_ENDIAN:0,LITTLE_ENDIAN:Td};function Ae(){this.i=[],this.h=[],this.g=!1}d=Ae.prototype,d.box=function(e,t){return e=Sd(e),this.i[e]=Ly,this.h[e]=t,this},d.T=function(e,t){return e=Sd(e),this.i[e]=wd,this.h[e]=t,this},d.stop=function(){this.g=!0},d.parse=function(e,t,n){for(e=new ge(e,0),this.g=!1;e.xa()&&!this.g;)this.Tc(0,e,t,n)},d.Tc=function(e,t,n,i){var r=t.ma();if(i&&r+8>t.W.byteLength)this.g=!0;else{var o=t.N(),u=t.N(),s=bo(u),a=!1;switch(o){case 0:o=t.W.byteLength-r;break;case 1:if(i&&t.ma()+8>t.W.byteLength){this.g=!0;return}o=t.Cb(),a=!0}var l=this.h[u];if(l){var c=null,f=null;if(this.i[u]==wd){if(i&&t.ma()+4>t.W.byteLength){this.g=!0;return}f=t.N(),c=f>>>24,f&=16777215}u=r+o,n&&u>t.W.byteLength&&(u=t.W.byteLength),i&&u>t.W.byteLength?this.g=!0:(i=u-t.ma(),t=0<i?t.Bb(i):new Uint8Array(0),t=new ge(t,0),l({name:s,parser:this,partialOkay:n||!1,version:c,flags:f,reader:t,size:o,start:r+e,has64BitSize:a}))}else t.skip(Math.min(r+o-t.ma(),t.W.byteLength-t.ma()))}};function Me(e){for(var t=xr(e);e.reader.xa()&&!e.parser.g;)e.parser.Tc(e.start+t,e.reader,e.partialOkay)}function Ir(e){for(var t=xr(e),n=e.reader.N(),i=0;i<n&&(e.parser.Tc(e.start+t,e.reader,e.partialOkay),!e.parser.g);i++);}function Ad(e){var t=xr(e);for(e.reader.skip(78);e.reader.xa()&&!e.parser.g;)e.parser.Tc(e.start+t,e.reader,e.partialOkay)}function Pi(e){return function(t){e(t.reader.Bb(t.reader.W.byteLength-t.reader.ma()))}}function Sd(e){var t=0;e=p(e);for(var n=e.next();!n.done;n=e.next())t=t<<8|n.value.charCodeAt(0);return t}function bo(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,e&255)}function xr(e){return 8+(e.has64BitSize?8:0)+(e.flags!=null?4:0)}R("shaka.util.Mp4Parser",Ae),Ae.headerSize=xr,Ae.typeToString=bo,Ae.allData=Pi,Ae.visualSampleEntry=Ad,Ae.sampleDescription=Ir,Ae.children=Me,Ae.prototype.parseNext=Ae.prototype.Tc,Ae.prototype.parse=Ae.prototype.parse,Ae.prototype.stop=Ae.prototype.stop,Ae.prototype.fullBox=Ae.prototype.T,Ae.prototype.box=Ae.prototype.box;var Ly=0,wd=1;function Id(e){var t=this;this.g=[],this.h=[],this.data=[],new Ae().box("moov",Me).box("moof",Me).T("pssh",function(n){if(!(1<n.version)){var i=ue(n.reader.W,-12,n.size);if(t.data.push(i),t.g.push(Er(n.reader.Bb(16))),0<n.version){i=n.reader.N();for(var r=0;r<i;r++){var o=Er(n.reader.Bb(16));t.h.push(o)}}}}).parse(e)}function oa(e,t,n,i){var r=e.length,o=t.length+16+r;0<i&&(o+=4+16*n.size);var u=new Uint8Array(o),s=lt(u),a=0;if(s.setUint32(a,o),a+=4,s.setUint32(a,1886614376),a+=4,1>i?s.setUint32(a,0):s.setUint32(a,16777216),a+=4,u.set(t,a),a+=t.length,0<i)for(s.setUint32(a,n.size),a+=4,t=p(n),n=t.next();!n.done;n=t.next())n=yr(n.value),u.set(n,a),a+=n.length;return s.setUint32(a,r),u.set(e,a+4),u}function jo(e,t){return e=Le(e,t),e.length!=1?null:e[0]}function Fo(e,t,n){return e=xd(e,t,n),e.length!=1?null:e[0]}function Le(e,t){var n=[];e=p(e.childNodes);for(var i=e.next();!i.done;i=e.next())i=i.value,i instanceof Element&&i.tagName==t&&n.push(i);return n}function Ny(e){return Array.from(e.childNodes).filter(function(t){return t instanceof Element})}function xd(e,t,n){var i=[];e=p(e.childNodes);for(var r=e.next();!r.done;r=e.next())r=r.value,r instanceof Element&&r.localName==n&&r.namespaceURI==t&&i.push(r);return i}function Jn(e,t,n){return e.hasAttributeNS(t,n)?e.getAttributeNS(t,n):null}function fn(e,t,n){t=p(t);for(var i=t.next();!i.done;i=t.next())if(i=i.value,e.hasAttributeNS(i,n))return e.getAttributeNS(i,n);return null}function Bo(e){return Array.from(e.childNodes).every(Cd)?e.textContent.trim():null}function Cd(e){return e.nodeType==Node.TEXT_NODE||e.nodeType==Node.CDATA_SECTION_NODE}function Ie(e,t,n,i){i=i===void 0?null:i;var r=null;return e=e.getAttribute(t),e!=null&&(r=n(e)),r??i}function Md(e){return e?(/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(e)&&(e+="Z"),e=Date.parse(e),isNaN(e)?null:e/1e3):null}function pn(e){return!e||(e=RegExp("^P(?:([0-9]*)Y)?(?:([0-9]*)M)?(?:([0-9]*)D)?(?:T(?:([0-9]*)H)?(?:([0-9]*)M)?(?:([0-9.]*)S)?)?$").exec(e),!e)?null:(e=31536e3*Number(e[1]||null)+2592e3*Number(e[2]||null)+86400*Number(e[3]||null)+3600*Number(e[4]||null)+60*Number(e[5]||null)+Number(e[6]||null),isFinite(e)?e:null)}function Go(e){var t=/([0-9]+)-([0-9]+)/.exec(e);return!t||(e=Number(t[1]),!isFinite(e))?null:(t=Number(t[2]),isFinite(t)?{start:e,end:t}:null)}function Ry(e){return e=Number(e),e%1===0?e:null}function Vo(e){return e=Number(e),e%1===0&&0<e?e:null}function en(e){return e=Number(e),e%1===0&&0<=e?e:null}function Cr(e){return e=Number(e),isNaN(e)?null:e}function _y(e){var t,n=(t=e.match(/^(\d+)\/(\d+)$/))?Number(t[1])/Number(t[2]):Number(e);return isNaN(n)?null:n}function Mr(e,t){var n=new DOMParser,i=Dy.value()(e);e=null;try{e=n.parseFromString(i,"text/xml")}catch{return null}if(n=e.documentElement,!n||n.getElementsByTagName("parsererror").length||n.tagName!=t)return null;for(t=document.createNodeIterator(e,NodeFilter.SHOW_ALL);e=t.nextNode();)if(e instanceof HTMLElement||e instanceof SVGElement)return null;return n}function kd(e,t){try{var n=_e(e);return Mr(n,t)}catch{return null}}var Dy=new Ii(function(){if(typeof trustedTypes<"u"){var e=trustedTypes.createPolicy("shaka-player#xml",{createHTML:function(t){return t}});return function(t){return e.createHTML(t)}}return function(t){return t}});function Ko(e,t){var n=this;t=t===void 0?1:t,this.G=e,this.I=new Set,this.l=this.C=null,this.ra=this.X=!1,this.J=0,this.g=null,this.B=new ye,this.i=new Map,this.F=[],this.s=new we,this.h=null,this.m=function(i){n.s.reject(i),e.onError(i)},this.aa=new Map,this.Z=new Map,this.P=new q(function(){return zy(n)}),this.M=!1,this.K=[],this.O=!1,this.$=new q(function(){Xy(n)}).ha(t),this.s.catch(function(){}),this.j=new Yn(function(){return Py(n)}),this.V=!1,this.H=null}d=Ko.prototype,d.destroy=function(){return this.j.destroy()};function Py(e){return I(function(t){switch(t.g){case 1:return e.B.release(),e.B=null,e.s.reject(),e.$.stop(),e.$=null,e.P.stop(),e.P=null,m(t,jd(e),2);case 2:if(!e.l){t.D(3);break}return ee(t,4),m(t,e.l.setMediaKeys(null),6);case 6:le(t,5);break;case 4:te(t);case 5:e.l=null;case 3:e.g=null,e.I.clear(),e.C=null,e.F=[],e.h=null,e.m=function(){},e.G=null,e.V=!1,e.H=null,P(t)}})}d.configure=function(e){this.h=e};function Oy(e,t,n){return e.ra=!0,e.F=[],e.M=n,Nd(e,t)}function Ld(e,t,n){return e.F=n,e.M=0<n.length,Nd(e,t)}function Uy(e,t,n,i,r,o){var u=new Map;return r={audioCapabilities:r,videoCapabilities:o,distinctiveIdentifier:"optional",persistentState:"required",sessionTypes:["persistent-license"],label:t},r.drmInfos=[{keySystem:t,licenseServerUri:n,distinctiveIdentifierRequired:!1,persistentStateRequired:!0,audioRobustness:"",videoRobustness:"",serverCertificate:i,serverCertificateUri:"",initData:null,keyIds:null}],u.set(t,r),Od(e,u,[])}function Nd(e,t){var n,i,r,o,u,s,a,l,c,f,h,g,v,T;return I(function(E){if(E.g==1){if(n=Gy(e))for(i=p(t),r=i.next();!r.done;r=i.next())o=r.value,o.video&&(o.video.drmInfos=[n]),o.audio&&(o.audio.drmInfos=[n]);for(u=t.some(function(y){return!!(y.video&&y.video.drmInfos.length||y.audio&&y.audio.drmInfos.length)}),u||(s=wr(e.h.servers),Wy(t,s)),a=p(t),r=a.next();!r.done;r=a.next())for(l=r.value,c=Fd(l),f=p(c),h=f.next();!h.done;h=f.next())g=h.value,Yy(g,wr(e.h.servers),wr(e.h.advanced||{}),e.h.keySystemsMapping);return m(E,Yh(t,e.M,e.V),2)}return v=u||Object.keys(e.h.servers).length,v?(T=Od(e,void 0,t),E.return(u?T:T.catch(function(){}))):(e.X=!0,E.return(Promise.resolve()))})}function Rd(e){var t;return I(function(n){switch(n.g){case 1:if(e.l.mediaKeys)return n.return();if(!e.H){n.D(2);break}return m(n,e.H,3);case 3:return ve(e.j),n.return();case 2:return ee(n,4),e.H=e.l.setMediaKeys(e.C),m(n,e.H,6);case 6:le(n,5);break;case 4:t=te(n),e.m(new S(2,6,6003,t.message));case 5:ve(e.j),P(n)}})}function by(e,t){return I(function(n){if(n.g==1)return m(n,Rd(e),2);kr(e,t.initDataType,ue(t.initData)),P(n)})}d.Bc=function(e){var t=this,n;return I(function(i){if(i.g==1)return t.C?(t.l=e,t.B.ya(t.l,"play",function(){for(var r=p(t.K),o=r.next();!o.done;o=r.next())sa(t,o.value);t.O=!0,t.K=[]}),"webkitCurrentPlaybackTargetIsWireless"in t.l&&t.B.o(t.l,"webkitcurrentplaybacktargetiswirelesschanged",function(){return jd(t)}),(n=t.g?t.g.initData.find(function(r){return 0<r.initData.length}):null)||t.g.keySystem!=="com.apple.fps"||t.F.length?m(i,Rd(t),2):i.D(2)):(t.B.ya(e,"encrypted",function(){t.m(new S(2,6,6010))}),i.return());_d(t),n||t.F.length||t.h.parseInbandPsshEnabled||t.B.o(t.l,"encrypted",function(r){return by(t,r)}),P(i)})};function ua(e){var t,n,i,r,o;return I(function(u){switch(u.g){case 1:if(!e.C||!e.g)return u.return();if(!e.g.serverCertificateUri||e.g.serverCertificate&&e.g.serverCertificate.length){u.D(2);break}return t=St([e.g.serverCertificateUri],e.h.retryParameters),ee(u,3),n=e.G.Ob.request(5,t),m(u,n.promise,5);case 5:i=u.h,e.g.serverCertificate=ue(i.data),le(u,4);break;case 3:throw r=te(u),new S(2,6,6017,r);case 4:if(e.j.g)return u.return();case 2:return!e.g.serverCertificate||!e.g.serverCertificate.length?u.return():(ee(u,6),m(u,e.C.setServerCertificate(e.g.serverCertificate),8));case 8:le(u,0);break;case 6:throw o=te(u),new S(2,6,6004,o.message)}})}function jy(e,t){var n,i,r;return I(function(o){if(o.g==1)return m(o,Ud(e,t),2);if(o.g!=3)return n=o.h,n?(i=[],(r=e.i.get(n))&&(r.cb=new we,i.push(r.cb)),i.push(n.remove()),m(o,Promise.all(i),3)):o.return();e.i.delete(n),P(o)})}function _d(e){for(var t=(e.g?e.g.initData:[])||[],n=p(t),i=n.next();!i.done;i=n.next())i=i.value,kr(e,i.initDataType,i.initData);for(n=p(e.F),i=n.next();!i.done;i=n.next())Ud(e,i.value);return t.length||e.F.length||e.s.resolve(),e.s}function kr(e,t,n){if(n.length){var i=e.i.values();i=p(i);for(var r=i.next();!r.done;r=i.next())if(Vn(n,r.value.initData)&&!xe("Tizen 2"))return;0<e.i.size&&qo(e)&&(e.s.resolve(),e.s=new we,e.s.catch(function(){})),Vy(e,t,n,e.g.sessionType)}}function Dd(e){return e?!!e.match(/^com\.(microsoft|chromecast)\.playready/):!1}function Pd(e){return e=e.i.keys(),e=vh(e,function(t){return t.sessionId}),Array.from(e)}d.Gc=function(){var e=1/0,t=this.i.keys();t=p(t);for(var n=t.next();!n.done;n=t.next())n=n.value,isNaN(n.expiration)||(e=Math.min(e,n.expiration));return e},d.ud=function(){return ra(this.Z)};function Od(e,t,n){var i,r,o,u,s,a,l,c,f,h,g,v,T;return I(function(E){switch(E.g){case 1:if(i=new Map,n.length){r=Fy(e,n,i),E.D(2);break}return m(E,By(e,t),3);case 3:r=E.h;case 2:if(o=r,!o)throw new S(2,6,6001);for(ve(e.j),ee(E,4),e.I.clear(),u=o.getConfiguration(),s=u.audioCapabilities||[],a=u.videoCapabilities||[],l=p(s),c=l.next();!c.done;c=l.next())f=c.value,e.I.add(f.contentType.toLowerCase());for(h=p(a),c=h.next();!c.done;c=h.next())g=c.value,e.I.add(g.contentType.toLowerCase());if(n.length){var y=o.keySystem,x=i.get(o.keySystem),A=[],w=[],C=[],k=[],N=new Set;Bd(x,A,C,w,k,N);var _=e.M?"persistent-license":"temporary";for(y={keySystem:y,licenseServerUri:A[0],distinctiveIdentifierRequired:x[0].distinctiveIdentifierRequired,persistentStateRequired:x[0].persistentStateRequired,sessionType:x[0].sessionType||_,audioRobustness:x[0].audioRobustness||"",videoRobustness:x[0].videoRobustness||"",serverCertificate:C[0],serverCertificateUri:w[0],initData:k,keyIds:N},x=p(x),A=x.next();!A.done;A=x.next())A=A.value,A.distinctiveIdentifierRequired&&(y.distinctiveIdentifierRequired=A.distinctiveIdentifierRequired),A.persistentStateRequired&&(y.persistentStateRequired=A.persistentStateRequired);x=y}else x=o.keySystem,y=t.get(o.keySystem),A=[],w=[],C=[],k=[],N=new Set,Bd(y.drmInfos,A,C,w,k,N),x={keySystem:x,licenseServerUri:A[0],distinctiveIdentifierRequired:y.distinctiveIdentifier=="required",persistentStateRequired:y.persistentState=="required",sessionType:y.sessionTypes[0]||"temporary",audioRobustness:(y.audioCapabilities?y.audioCapabilities[0].robustness:"")||"",videoRobustness:(y.videoCapabilities?y.videoCapabilities[0].robustness:"")||"",serverCertificate:C[0],serverCertificateUri:w[0],initData:k,keyIds:N};if(e.g=x,!e.g.licenseServerUri)throw new S(2,6,6012,e.g.keySystem);return m(E,o.createMediaKeys(),6);case 6:return v=E.h,ve(e.j),e.C=v,e.X=!0,m(E,ua(e),7);case 7:ve(e.j),le(E,0);break;case 4:throw T=te(E),ve(e.j,T),e.g=null,e.I.clear(),T instanceof S?T:new S(2,6,6002,T.message)}})}function Fy(e,t,n){for(var i=p(t),r=i.next();!r.done;r=i.next()){var o=p(Fd(r.value));for(r=o.next();!r.done;r=o.next())r=r.value,n.has(r.keySystem)||n.set(r.keySystem,[]),n.get(r.keySystem).push(r)}if(n.size==1&&n.has(""))throw new S(2,6,6e3);for(i={},e=p(e.h.preferredKeySystems),r=e.next();!r.done;i={Xd:i.Xd},r=e.next())for(i.Xd=r.value,o=p(t),r=o.next();!r.done;r=o.next())if(r=r.value.decodingInfos.find(function(l){return function(c){return c.supported&&c.keySystemAccess!=null&&c.keySystemAccess.keySystem==l.Xd}}(i)))return r.keySystemAccess;for(e=p([!0,!1]),r=e.next();!r.done;r=e.next())for(i=r.value,o=p(t),r=o.next();!r.done;r=o.next()){var u=p(r.value.decodingInfos);for(r=u.next();!r.done;r=u.next()){var s=r.value;if(s.supported&&s.keySystemAccess){r=n.get(s.keySystemAccess.keySystem);var a=p(r);for(r=a.next();!r.done;r=a.next())if(!!r.value.licenseServerUri==i)return s.keySystemAccess}}}return null}function By(e,t){var n,i,r,o,u,s,a,l,c,f,h,g,v,T,E;return I(function(y){switch(y.g){case 1:if(t.size==1&&t.has(""))throw new S(2,6,6e3);for(i=p(t.values()),r=i.next();!r.done;r=i.next())o=r.value,o.audioCapabilities.length==0&&delete o.audioCapabilities,o.videoCapabilities.length==0&&delete o.videoCapabilities;u=p(e.h.preferredKeySystems),s=u.next();case 2:if(s.done){y.D(4);break}if(a=s.value,!t.has(a)){y.D(3);break}return l=t.get(a),ee(y,6),m(y,navigator.requestMediaKeySystemAccess(a,[l]),8);case 8:return n=y.h,y.return(n);case 6:te(y);case 7:ve(e.j);case 3:s=u.next(),y.D(2);break;case 4:c=p([!0,!1]),f=c.next();case 9:if(f.done){y.D(11);break}h=f.value,g=p(t.keys()),s=g.next();case 12:if(s.done){f=c.next(),y.D(9);break}if(v=s.value,T=t.get(v),E=T.drmInfos.some(function(x){return!!x.licenseServerUri}),E!=h){y.D(13);break}return ee(y,15),m(y,navigator.requestMediaKeySystemAccess(v,[T]),17);case 17:return n=y.h,y.return(n);case 15:te(y);case 16:ve(e.j);case 13:s=g.next(),y.D(12);break;case 11:return y.return(n)}})}function Gy(e){if(e=wr(e.h.clearKeys),e.size==0)return null;var t=[],n=[];e.forEach(function(r,o){var u=o;u.length!=22&&(u=Hn(yr(o),!1)),o=r,o.length!=22&&(o=Hn(yr(r),!1)),r={kty:"oct",kid:u,k:o},t.push(r),n.push(r.kid)}),e=JSON.stringify({keys:t});var i=JSON.stringify({kids:n});return i=[{initData:ue(kn(i)),initDataType:"keyids"}],{keySystem:"org.w3.clearkey",licenseServerUri:"data:application/json;base64,"+M.btoa(e),distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,serverCertificateUri:"",sessionType:"",initData:i,keyIds:new Set(n)}}function Ud(e,t){var n,i,r,o,u;return I(function(s){switch(s.g){case 1:try{n=e.C.createSession("persistent-license")}catch(a){return i=new S(2,6,6005,a.message),e.m(i),s.return(Promise.reject(i))}return e.B.o(n,"message",function(a){e.l&&e.h.delayLicenseRequestUntilPlayed&&e.l.paused&&!e.O?e.K.push(a):sa(e,a)}),e.B.o(n,"keystatuseschange",function(a){return bd(e,a)}),r={initData:null,initDataType:null,loaded:!1,Be:1/0,cb:null,type:"persistent-license"},e.i.set(n,r),ee(s,2),m(s,n.load(t),4);case 4:return o=s.h,ve(e.j),o?(r.loaded=!0,qo(e)&&e.s.resolve(),s.return(n)):(e.i.delete(n),e.m(new S(2,6,6013)),s.return(Promise.resolve()));case 2:u=te(s),ve(e.j,u),e.i.delete(n),e.m(new S(2,6,6005,u.message));case 3:return s.return(Promise.resolve())}})}function Vy(e,t,n,i){try{var r=e.C.createSession(i)}catch(o){e.m(new S(2,6,6005,o.message));return}e.B.o(r,"message",function(o){e.l&&e.h.delayLicenseRequestUntilPlayed&&e.l.paused&&!e.O?e.K.push(o):sa(e,o)}),e.B.o(r,"keystatuseschange",function(o){return bd(e,o)}),e.i.set(r,{initData:n,initDataType:t,loaded:!1,Be:1/0,cb:null,type:i});try{n=e.h.initDataTransform(n,t,e.g)}catch(o){t=o,o instanceof S||(t=new S(2,6,6016,o)),e.m(t);return}e.h.logLicenseExchange&&Hn(n),r.generateRequest(t,n).catch(function(o){if(!e.j.g){e.i.delete(r);var u=o.errorCode;if(u&&u.systemCode){var s=u.systemCode;0>s&&(s+=Math.pow(2,32)),s="0x"+s.toString(16)}e.m(new S(2,6,6006,o.message,o,s))}})}function sa(e,t){var n,i,r,o,u,s,a,l,c,f,h,g,v,T;I(function(E){switch(E.g){case 1:return n=t.target,e.h.logLicenseExchange&&Hn(t.message),i=e.i.get(n),r=e.g.licenseServerUri,o=e.h.advanced[e.g.keySystem],t.messageType=="individualization-request"&&o&&o.individualizationServer&&(r=o.individualizationServer),u=St([r],e.h.retryParameters),u.body=t.message,u.method="POST",u.licenseRequestType=t.messageType,u.sessionId=n.sessionId,u.drmInfo=e.g,i&&(u.initData=i.initData,u.initDataType=i.initDataType),Dd(e.g.keySystem)&&Ky(u),s=Date.now(),ee(E,2),l=e.G.Ob.request(2,u),m(E,l.promise,4);case 4:a=E.h,le(E,3);break;case 2:return c=te(E),f=new S(2,6,6007,c),e.m(f),i&&i.cb&&i.cb.reject(f),E.return();case 3:return e.j.g?E.return():(e.J+=(Date.now()-s)/1e3,e.h.logLicenseExchange&&Hn(a.data),ee(E,5),m(E,n.update(a.data),7));case 7:le(E,6);break;case 5:return h=te(E),g=new S(2,6,6008,h.message),e.m(g),i&&i.cb&&i.cb.reject(g),E.return();case 6:if(e.j.g)return E.return();v=new U("drmsessionupdate"),e.G.onEvent(v),i&&(i.cb&&i.cb.resolve(),T=new q(function(){i.loaded=!0,qo(e)&&e.s.resolve()}),T.R(Zy)),P(E)}})}function Ky(e){var t=Mn(e.body,!0,!0);if(t.includes("PlayReadyKeyMessage")){t=Mr(t,"PlayReadyKeyMessage");for(var n=p(t.getElementsByTagName("HttpHeader")),i=n.next();!i.done;i=n.next())i=i.value,e.headers[i.getElementsByTagName("name")[0].textContent]=i.getElementsByTagName("value")[0].textContent;e.body=ln(t.getElementsByTagName("Challenge")[0].textContent)}else e.headers["Content-Type"]="text/xml; charset=utf-8"}function bd(e,t){t=t.target;var n=e.i.get(t),i=!1;t.keyStatuses.forEach(function(o,u){if(typeof u=="string"){var s=u;u=o,o=s}if(Dd(e.g.keySystem)&&u.byteLength==16&&(Vs()||vr())){s=lt(u);var a=s.getUint32(0,!0),l=s.getUint16(4,!0),c=s.getUint16(6,!0);s.setUint32(0,a,!1),s.setUint16(4,l,!1),s.setUint16(6,c,!1)}o!="status-pending"&&(n.loaded=!0),o=="expired"&&(i=!0),u=Er(u).slice(0,32),e.aa.set(u,o)});var r=t.expiration-Date.now();(0>r||i&&1e3>r)&&n&&!n.cb&&(e.i.delete(t),t.close().catch(function(){})),qo(e)&&(e.s.resolve(),e.P.R(Qy))}function zy(e){var t=e.aa,n=e.Z;n.clear(),t.forEach(function(i,r){return n.set(r,i)}),t=Array.from(n.values()),t.length&&t.every(function(i){return i=="expired"})&&e.m(new S(2,6,6014)),e.G.Fd(ra(n))}function qy(){var e,t,n,i,r,o,u,s;return I(function(a){return a.g==1?(e="org.w3.clearkey com.widevine.alpha com.microsoft.playready com.microsoft.playready.recommendation com.apple.fps.1_0 com.apple.fps com.adobe.primetime".split(" "),t=[{contentType:'video/mp4; codecs="avc1.42E01E"'},{contentType:'video/webm; codecs="vp8"'}],n={initDataTypes:["cenc"],videoCapabilities:t},i={videoCapabilities:t,persistentState:"required",sessionTypes:["persistent-license"]},r=[i,n],o=new Map,u=function(l){var c,f,h;return I(function(g){switch(g.g){case 1:if(ee(g,2),l==="org.w3.clearkey"&&Ks())throw Error("Unsupported keySystem");return m(g,navigator.requestMediaKeySystemAccess(l,r),4);case 4:return c=g.h,h=(f=c.getConfiguration().sessionTypes)?f.includes("persistent-license"):!1,xe("Tizen 3")&&(h=!1),o.set(l,{persistentState:h}),m(g,c.createMediaKeys(),5);case 5:le(g,0);break;case 2:te(g),o.set(l,null),P(g)}})},s=e.map(function(l){return u(l)}),m(a,Promise.all(s),2)):a.return(ra(o))})}function Hy(e){var t;return I(function(n){if(n.g==1)return t=new Promise(function(i,r){new q(r).R(Jy)}),ee(n,2),m(n,Promise.race([Promise.all([e.close(),e.closed]),t]),4);if(n.g!=2)return le(n,0);te(n),P(n)})}function jd(e){var t;return I(function(n){return t=Array.from(e.i.entries()),e.i.clear(),m(n,Promise.all(t.map(function(i){i=p(i);var r=i.next().value,o=i.next().value;return I(function(u){if(u.g==1)return ee(u,2),e.ra||e.F.includes(r.sessionId)||o.type!=="persistent-license"?m(u,Hy(r),5):m(u,r.remove(),5);if(u.g!=2)return le(u,0);te(u),P(u)})})),0)})}function zo(e,t){if(!e.length)return t;if(!t.length)return e;var n=[];e=p(e);for(var i=e.next();!i.done;i=e.next()){i=i.value;for(var r={},o=p(t),u=o.next();!u.done;r={Ua:r.Ua},u=o.next())if(u=u.value,i.keySystem==u.keySystem){r.Ua=[],r.Ua=r.Ua.concat(i.initData||[]),r.Ua=r.Ua.concat(u.initData||[]),r.Ua=r.Ua.filter(function(s){return function(a,l){return a.keyId===void 0||l===s.Ua.findIndex(function(c){return c.keyId===a.keyId})}}(r)),o=i.keyIds&&u.keyIds?new Set([].concat(se(i.keyIds),se(u.keyIds))):i.keyIds||u.keyIds,n.push({keySystem:i.keySystem,licenseServerUri:i.licenseServerUri||u.licenseServerUri,distinctiveIdentifierRequired:i.distinctiveIdentifierRequired||u.distinctiveIdentifierRequired,persistentStateRequired:i.persistentStateRequired||u.persistentStateRequired,videoRobustness:i.videoRobustness||u.videoRobustness,audioRobustness:i.audioRobustness||u.audioRobustness,serverCertificate:i.serverCertificate||u.serverCertificate,serverCertificateUri:i.serverCertificateUri||u.serverCertificateUri,initData:r.Ua,keyIds:o});break}}return n}function Fd(e){return(e.video?e.video.drmInfos:[]).concat(e.audio?e.audio.drmInfos:[])}function Xy(e){e.i.forEach(function(t,n){var i=t.Be,r=n.expiration;isNaN(r)&&(r=1/0),r!=i&&(e.G.onExpirationUpdated(n.sessionId,r),t.Be=r)})}function qo(e){return e=e.i.values(),bv(e,function(t){return t.loaded})}function Wy(e,t){var n=[];for(t.forEach(function(i,r){n.push({keySystem:r,licenseServerUri:i,distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,serverCertificateUri:"",initData:[],keyIds:new Set})}),e=p(e),t=e.next();!t.done;t=e.next())t=t.value,t.video&&(t.video.drmInfos=n),t.audio&&(t.audio.drmInfos=n)}function Bd(e,t,n,i,r,o){var u={};e=p(e);for(var s=e.next();!s.done;u={Fa:u.Fa},s=e.next()){if(u.Fa=s.value,t.includes(u.Fa.licenseServerUri)||t.push(u.Fa.licenseServerUri),i.includes(u.Fa.serverCertificateUri)||i.push(u.Fa.serverCertificateUri),u.Fa.serverCertificate&&(n.some(function(c){return function(f){return Vn(f,c.Fa.serverCertificate)}}(u))||n.push(u.Fa.serverCertificate)),u.Fa.initData){s={};for(var a=p(u.Fa.initData),l=a.next();!l.done;s={ed:s.ed},l=a.next())s.ed=l.value,r.some(function(c){return function(f){var h=c.ed;return f.keyId&&f.keyId==h.keyId?!0:f.initDataType==h.initDataType&&Vn(f.initData,h.initData)}}(s))||r.push(s.ed)}if(u.Fa.keyIds)for(s=p(u.Fa.keyIds),a=s.next();!a.done;a=s.next())o.add(a.value)}}function Yy(e,t,n,i){var r=e.keySystem;r&&(r!="org.w3.clearkey"||!e.licenseServerUri)&&(t.size&&(t=t.get(r)||"",e.licenseServerUri=t),e.keyIds||(e.keyIds=new Set),(n=n.get(r))&&(e.distinctiveIdentifierRequired||(e.distinctiveIdentifierRequired=n.distinctiveIdentifierRequired),e.persistentStateRequired||(e.persistentStateRequired=n.persistentStateRequired),e.videoRobustness||(e.videoRobustness=n.videoRobustness),e.audioRobustness||(e.audioRobustness=n.audioRobustness),e.serverCertificate||(e.serverCertificate=n.serverCertificate),n.sessionType&&(e.sessionType=n.sessionType),e.serverCertificateUri||(e.serverCertificateUri=n.serverCertificateUri)),i[r]&&(e.keySystem=i[r]),M.cast&&M.cast.__platform__&&r=="com.microsoft.playready"&&(e.keySystem="com.chromecast.playready"))}var Jy=1,Zy=5,Qy=.5,Ho=new Ii(function(){return At(new Uint8Array([0]))});function Xo(){}function Gd(e,t,n,i){var r,o,u,s;return I(function(a){if(a.g==1)return i&&(r=wt[i.toLowerCase()])?a.return(r):(o=Oi(e))&&(u=Zn[o])?a.return(u):i?a.D(2):m(a,Vd(e,t,n),3);if(a.g!=2&&(i=a.h)&&(s=wt[i]))return a.return(s);throw new S(2,4,4e3,e)})}function Vd(e,t,n){var i,r,o;return I(function(u){return u.g==1?(i=St([e],n),i.method="HEAD",m(u,t.request(0,i).promise,2)):(r=u.h,o=r.headers["content-type"],u.return(o?o.toLowerCase().split(";").shift():""))})}function Oi(e){return e=new ft(e).Ha.split("/").pop().split("."),e.length==1?"":e.pop().toLowerCase()}R("shaka.media.ManifestParser",Xo),Xo.unregisterParserByMime=function(e){delete wt[e]},Xo.registerParserByMime=function(e,t){wt[e]=t},Xo.registerParserByExtension=function(e,t){Zn[e]=t};var wt={},Zn={};function $y(e){function t(){i=!0}function n(l){o.push(l),Me(l)}e=ue(e);var i=!1,r,o=[],u=[];if(new Ae().box("moov",n).box("trak",n).box("mdia",n).box("minf",n).box("stbl",n).T("stsd",function(l){r=l,o.push(l),Ir(l)}).T("encv",t).T("enca",t).T("hev1",function(l){u.push({box:l,Pb:1701733238})}).T("hvc1",function(l){u.push({box:l,Pb:1701733238})}).T("avc1",function(l){u.push({box:l,Pb:1701733238})}).T("avc3",function(l){u.push({box:l,Pb:1701733238})}).T("ac-3",function(l){u.push({box:l,Pb:1701733217})}).T("ec-3",function(l){u.push({box:l,Pb:1701733217})}).T("mp4a",function(l){u.push({box:l,Pb:1701733217})}).parse(e),i)return e;if(u.length==0||!r)throw Er(e),new S(2,3,3019);u.reverse();for(var s=p(u),a=s.next();!a.done;a=s.next())a=a.value,e=e1(e,r,a.box,o,a.Pb);return e}function e1(e,t,n,i,r){var o=t1.value(),u=e.subarray(n.start,n.start+n.size),s=lt(u),a=new Uint8Array(n.size+o.byteLength);for(a.set(u,0),u=lt(a),u.setUint32(4,r),a.set(o,n.size),r=s.getUint32(4),u.setUint32(n.size+16,r),Kd(a,0,a.byteLength),r=new Uint8Array(e.byteLength+a.byteLength),n=gr()?n.start:n.start+n.size,o=e.subarray(n),r.set(e.subarray(0,n)),r.set(a,n),r.set(o,n+a.byteLength),e=p(i),i=e.next();!i.done;i=e.next())i=i.value,Kd(r,i.start,i.size+a.byteLength);return a=lt(r,t.start),t=xr(t),e=a.getUint32(t),a.setUint32(t,e+1),r}function Kd(e,t,n){e=lt(e,t),t=e.getUint32(0),t!=0&&(t==1?(e.setUint32(8,n>>32),e.setUint32(12,n&4294967295)):e.setUint32(0,n))}var t1=new Ii(function(){return new Uint8Array([0,0,0,80,115,105,110,102,0,0,0,12,102,114,109,97,0,0,0,0,0,0,0,20,115,99,104,109,0,0,0,0,99,101,110,99,0,1,0,0,0,0,0,40,115,99,104,105,0,0,0,32,116,101,110,99,0,0,0,0,0,0,1,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])});function zd(e,t,n,i,r){if(i>=r)return null;for(var o=-1,u=-1,s=0;s<n.length;s++)if(n[s].some(function(w){return w!=null&&w.g.trim()!=""})){o=s;break}for(s=n.length-1;0<=s;s--)if(n[s].some(function(w){return w!=null&&w.g.trim()!=""})){u=s;break}if(o===-1||u===-1)return null;for(var a=s=!1,l="white",c="black",f=aa(i,r,s,a,l,c);o<=u;o++){for(var h=n[o],g=-1,v=-1,T=0;T<h.length;T++)if(h[T]!=null&&h[T].g.trim()!==""){g=T;break}for(T=h.length-1;0<=T;T--)if(h[T]!=null&&h[T].g.trim()!==""){v=T;break}if(g===-1||v===-1)h=qd(i,r),e.nestedCues.push(h);else{for(;g<=v;g++)if(T=h[g]){var E=T.l,y=T.i,x=T.j,A=T.h;(E!=s||y!=a||x!=l||A!=c)&&(f.payload&&e.nestedCues.push(f),f=aa(i,r,E,y,x,A),s=E,a=y,l=x,c=A),f.payload+=T.g}else f.payload+=" ";f.payload&&e.nestedCues.push(f),o!==u&&(f=qd(i,r),e.nestedCues.push(f)),f=aa(i,r,s,a,l,c)}}return e.nestedCues.length?{cue:e,stream:t}:null}function aa(e,t,n,i,r,o){return e=new Se(e,t,""),n&&e.textDecoration.push("underline"),i&&(e.fontStyle="italic"),e.color=r,e.backgroundColor=o,e}function qd(e,t){return e=new Se(e,t,""),e.lineBreak=!0,e}function Hd(e,t,n,i,r){this.g=e,this.l=t,this.i=n,this.h=i,this.j=r}function la(e,t){this.i=[],this.g=1,this.h=0,this.C=e,this.B=t,this.j=this.m=!1,this.l="white",this.s="black",Lr(this)}function Wo(e,t,n){return zd(new Se(t,n,""),"CC"+(e.C<<1|e.B+1),e.i,t,n)}function Lr(e){gn(e,0,15),e.g=1}function Ui(e,t,n){if(!(32>n||127<n)){var i="";switch(t){case Nr:i=Zd.has(n)?Zd.get(n):String.fromCharCode(n);break;case Wd:i=n1.get(n);break;case Yd:e.i[e.g].pop(),i=i1.get(n);break;case Jd:e.i[e.g].pop(),i=r1.get(n)}i&&e.i[e.g].push(new Hd(i,e.m,e.j,e.s,e.l))}}function Xd(e,t,n,i){if(!(0>n||0>t))if(t>=n)for(--i;0<=i;i--)e.i[t+i]=e.i[n+i].map(function(o){return o});else for(var r=0;r<i;r++)e.i[t+r]=e.i[n+r].map(function(o){return o})}function gn(e,t,n){for(var i=0;i<=n;i++)e.i[t+i]=[]}var Nr=0,Wd=1,Yd=2,Jd=3,Zd=new Map([[39,"’"],[42,"á"],[92,"é"],[92,"é"],[94,"í"],[95,"ó"],[96,"ú"],[123,"ç"],[124,"÷"],[125,"Ñ"],[126,"ñ"],[127,"█"]]),n1=new Map([[48,"®"],[49,"°"],[50,"½"],[51,"¿"],[52,"™"],[53,"¢"],[54,"£"],[55,"♪"],[56,"à"],[57,"⠀"],[58,"è"],[59,"â"],[60,"ê"],[61,"î"],[62,"ô"],[63,"û"]]),i1=new Map([[32,"Á"],[33,"É"],[34,"Ó"],[35,"Ú"],[36,"Ü"],[37,"ü"],[38,"‘"],[39,"¡"],[40,"*"],[41,"'"],[42,"─"],[43,"©"],[44,"℠"],[45,"·"],[46,"“"],[47,"”"],[48,"À"],[49,"Â"],[50,"Ç"],[51,"È"],[52,"Ê"],[53,"Ë"],[54,"ë"],[55,"Î"],[56,"Ï"],[57,"ï"],[58,"Ô"],[59,"Ù"],[60,"ù"],[61,"Û"],[62,"«"],[63,"»"]]),r1=new Map([[32,"Ã"],[33,"ã"],[34,"Í"],[35,"Ì"],[36,"ì"],[37,"Ò"],[38,"ò"],[39,"Õ"],[40,"õ"],[41,"{"],[42,"}"],[43,"\\"],[44,"^"],[45,"_"],[46,"|"],[47,"~"],[48,"Ä"],[49,"ä"],[50,"Ö"],[51,"ö"],[52,"ß"],[53,"¥"],[54,"¤"],[55,"│"],[56,"Å"],[57,"å"],[58,"Ø"],[59,"ø"],[60,"┌"],[61,"┐"],[62,"└"],[63,"┘"]]);function Yo(e,t){this.h=o1,this.s=new la(e,t),this.i=new la(e,t),this.l=new la(e,t),this.g=this.i,this.j=0,this.m=null}function ca(e,t,n){e.g=e.i;var i=e.g,r=null;return e.h!==Jo&&e.h!==Rr&&(r=Wo(i,e.j,n),n=e.i,n.g=0<n.h?n.h:0,gn(n,0,15),n=e.l,n.g=0<n.h?n.h:0,gn(n,0,15),i.g=15),e.h=Jo,i.h=t,r}function Qd(e){e.h=u1,e.g=e.l,e.g.h=0}function $d(e){jn("Cea608DataChannel","CEA-608 text mode entered, but is unsupported"),e.g=e.s,e.h=Rr}var o1=0,u1=1,Jo=3,Rr=4,s1="black green blue cyan red yellow magenta black".split(" "),ef="white green blue cyan red yellow magenta white_italics".split(" ");function tf(){this.l=!1,this.F=this.H=0,this.G=c1,this.i=[],this.g=this.h=this.j=0,this.C=this.s=!1,this.B="white",this.m="black",ha(this)}function ha(e){e.i=[];for(var t=0;16>t;t++)e.i.push(da())}function da(){for(var e=[],t=0;42>t;t++)e.push(null);return e}function Qn(e,t){nf(e)&&(e.i[e.h][e.g]=new Hd(t,e.C,e.s,e.m,e.B),e.g++)}function nf(e){var t=e.g<e.F&&0<=e.g;return e.h<e.H&&0<=e.h&&t}tf.prototype.isVisible=function(){return this.l};function $n(e,t,n){var i=new Se(e.j,t,"");return i.textAlign=e.G===a1?"left":e.G===l1?"right":an,(n=zd(i,"svc"+n,e.i,e.j,t))&&(e.j=t),n}var a1=0,l1=1,c1=2;function h1(){this.i=[],this.h=null,this.g=0}function d1(e,t){t.type===3?(e.g=2*(t.value&63)-1,e.h=[]):e.h&&(0<e.g&&(e.h.push(t),e.g--),e.g===0&&(e.i.push(new Zo(e.h)),e.h=null,e.g=0))}function Zo(e){this.g=0,this.h=e}Zo.prototype.xa=function(){return this.g<this.h.length},Zo.prototype.ma=function(){return this.g};function Fe(e){if(!e.xa())throw new S(2,2,3e3);return e.h[e.g++]}Zo.prototype.skip=function(e){if(this.g+e>this.h.length)throw new S(2,2,3e3);this.g+=e};function f1(e){this.i=e,this.h=[null,null,null,null,null,null,null,null],this.g=null}function p1(e,t,n,i){if(128<=n&&135>=n)i=n&7,e.h[i]&&(e.g=e.h[i]);else{if(n===136){n=Fe(t).value,t=null,n=p(_r(e,n));for(var r=n.next();!r.done;r=n.next())r=e.h[r.value],r.isVisible()&&(t=$n(r,i,e.i)),ha(r);return t}if(n===137)for(t=Fe(t).value,t=p(_r(e,t)),n=t.next();!n.done;n=t.next())n=e.h[n.value],n.isVisible()||(n.j=i),n.l=!0;else{if(n===138){for(n=Fe(t).value,t=null,n=p(_r(e,n)),r=n.next();!r.done;r=n.next())r=e.h[r.value],r.isVisible()&&(t=$n(r,i,e.i)),r.l=!1;return t}if(n===139){for(n=Fe(t).value,t=null,n=p(_r(e,n)),r=n.next();!r.done;r=n.next())r=e.h[r.value],r.isVisible()?t=$n(r,i,e.i):r.j=i,r.l=!r.l;return t}if(n===140)return t=Fe(t).value,rf(e,t,i);if(n===143)return i=rf(e,255,i),of(e),i;if(n===144)t.skip(1),i=Fe(t).value,e.g&&(e.g.s=0<(i&128),e.g.C=0<(i&64));else if(n===145)i=Fe(t).value,n=Fe(t).value,t.skip(1),e.g&&(t=uf((n&48)>>4,(n&12)>>2,n&3),e.g.B=uf((i&48)>>4,(i&12)>>2,i&3),e.g.m=t);else if(n===146)i=Fe(t).value,t=Fe(t).value,e.g&&(e=e.g,e.h=i&15,e.g=t&63);else if(n===151)t.skip(1),t.skip(1),i=Fe(t).value,t.skip(1),e.g&&(e.g.G=i&3);else if(152<=n&&159>=n){if(n=(n&15)-8,r=e.h[n]!==null,!r){var o=new tf;o.j=i,e.h[n]=o}i=Fe(t).value,Fe(t),Fe(t),o=Fe(t).value;var u=Fe(t).value;t=Fe(t).value,r&&!(t&7)||(t=e.h[n],t.h=0,t.g=0,t.C=!1,t.s=!1,t.B="white",t.m="black"),t=e.h[n],t.l=0<(i&32),t.H=(o&15)+1,t.F=(u&63)+1,e.g=e.h[n]}}}return null}function _r(e,t){for(var n=[],i=0;8>i;i++)(t&1)===1&&e.h[i]&&n.push(i),t>>=1;return n}function rf(e,t,n){var i=null;t=p(_r(e,t));for(var r=t.next();!r.done;r=t.next()){r=r.value;var o=e.h[r];o.isVisible()&&(i=$n(o,n,e.i)),e.h[r]=null}return i}function of(e){e.g=null,e.h=[null,null,null,null,null,null,null,null]}function uf(e,t,n){var i={0:0,1:0,2:1,3:1};return e=i[e],t=i[t],n=i[n],g1[e<<2|t<<1|n]}var sf=new Map([[32," "],[33," "],[37,"…"],[42,"Š"],[44,"Œ"],[48,"█"],[49,"‘"],[50,"’"],[51,"“"],[52,"”"],[53,"•"],[57,"™"],[58,"š"],[60,"œ"],[61,"℠"],[63,"Ÿ"],[118,"⅛"],[119,"⅜"],[120,"⅝"],[121,"⅞"],[122,"│"],[123,"┐"],[124,"└"],[125,"─"],[126,"┘"],[127,"┌"]]),g1="black blue green cyan red magenta yellow white".split(" ");function m1(){this.h=[],this.g=[],this.i=new h1,this.l=0,this.B=new Map([["CC1",new Yo(0,0)],["CC2",new Yo(0,1)],["CC3",new Yo(1,0)],["CC4",new Yo(1,1)]]),this.s=this.m=0,this.j=new Map,fa(this)}function fa(e){e.m=0,e.s=0,e=p(e.B.values());for(var t=e.next();!t.done;t=e.next())t=t.value,t.h=2,t.g=t.i,t.m=null,Lr(t.i),Lr(t.l),Lr(t.s)}function v1(e){function t(o,u){return o.pts-u.pts||o.order-u.order}var n=[];e.h.sort(t),e.g.sort(t);for(var i=p(e.h),r=i.next();!r.done;r=i.next())(r=y1(e,r.value))&&n.push(r);for(i=p(e.g),r=i.next();!r.done;r=i.next())d1(e.i,r.value);for(i=p(e.i.i),r=i.next();!r.done;r=i.next())r=E1(e,r.value),n.push.apply(n,se(r));return e.i.i=[],e.h=[],e.g=[],n}function y1(e,t){var n=t.type;if((t.Oa&112)===16){var i=t.Oa>>3&1;n===0?e.m=i:e.s=i}if(n=e.B.get("CC"+(n<<1|(n?e.s:e.m)+1)),t.Oa===255&&t.hb===255||!t.Oa&&!t.hb||!af(t.Oa)||!af(t.hb))return 45<=++e.l&&fa(e),null;if(e.l=0,t.Oa&=127,t.hb&=127,!t.Oa&&!t.hb)return null;if(e=null,(t.Oa&112)===16)e:{if(i=t.Oa,e=t.hb,n.m===(i<<8|e))n.m=null;else if(n.m=i<<8|e,(i&240)===16&&(e&192)===64){t=[11,11,1,2,3,4,12,13,14,15,5,6,7,8,9,10][(i&7)<<1|e>>5&1];var r=(e&30)>>1;i="white";var o=!1;if(7>r?i=ef[r]:r===7&&(o=!0),e=(e&1)===1,n.h!==Rr){if(r=n.g,n.h===Jo&&t!==r.g){var u=1+t-r.h;Xd(r,u,1+r.g-r.h,r.h),gn(r,0,u-1),gn(r,t+1,15-t)}r.g=t,n.g.m=e,n.g.j=o,n.g.l=i,n.g.s="black"}}else if((i&247)===17&&(e&240)===32)n.g.m=!1,n.g.j=!1,n.g.l="white",Ui(n.g,Nr,32),i=!1,t=ef[(e&14)>>1],t==="white_italics"&&(t="white",i=!0),n.g.m=(e&1)===1,n.g.j=i,n.g.l=t;else if((i&247)===16&&(e&240)===32||(i&247)===23&&(e&255)===45)t="black",!(i&7)&&(t=s1[(e&14)>>1]),n.g.s=t;else if((i&247)===17&&(e&240)===48)Ui(n.g,Wd,e);else if((i&246)===18&&(e&224)===32)Ui(n.g,i&1?Jd:Yd,e);else if((i&246)===20&&(e&240)===32){switch(e=t.pts,i=null,t.hb){case 32:Qd(n);break;case 33:n=n.g,n.i[n.g].pop();break;case 37:i=ca(n,2,e);break;case 38:i=ca(n,3,e);break;case 39:i=ca(n,4,e);break;case 40:Ui(n.g,Nr,32);break;case 41:n.h=2,n.g=n.i,n.g.h=0,n.j=e;break;case 42:Lr(n.s),$d(n);break;case 43:$d(n);break;case 44:t=n.i,i=null,n.h!==Rr&&(i=Wo(t,n.j,e)),gn(t,0,15);break;case 45:t=n.g,n.h!==Jo?i=null:(i=Wo(t,n.j,e),o=t.g-t.h+1,Xd(t,o-1,o,t.h),gn(t,0,o-1),gn(t,t.g,15-t.g),n.j=e);break;case 46:gn(n.l,0,15);break;case 47:t=null,n.h!==Rr&&(t=Wo(n.i,n.j,e)),i=n.l,n.l=n.i,n.i=i,Qd(n),n.j=e,i=t}e=i;break e}e=null}else i=t.hb,Ui(n.g,Nr,t.Oa),Ui(n.g,Nr,i);return e}function E1(e,t){var n=[];try{for(;t.xa();){var i=Fe(t).value,r=(i&224)>>5,o=i&31;if(r===7&&o!=0&&(r=Fe(t).value&63),r!=0){e.j.has(r)||e.j.set(r,new f1(r));for(var u=e.j.get(r),s=t.ma();t.ma()-s<o;){r=t;var a=Fe(r),l=a.value,c=a.pts;if(l===16){var f=Fe(r);l=l<<16|f.value}if(0<=l&&31>=l){var h=c;if(u.g){var g=u.g;switch(r=null,l){case 8:!nf(g)||0>=g.g&&0>=g.h||(0>=g.g?(g.g=g.F-1,g.h--):g.g--,g.i[g.h][g.g]=null);break;case 13:if(g.isVisible()&&(r=$n(g,h,u.i)),g.h+1>=g.H){h=g;for(var v=0,T=1;16>T;T++,v++)h.i[v]=h.i[T];for(T=0;1>T;T++,v++)h.i[v]=da()}else g.h++;g.g=0;break;case 14:g.isVisible()&&(r=$n(g,h,u.i)),g.i[g.h]=da(),g.g=0;break;case 12:g.isVisible()&&(r=$n(g,h,u.i)),ha(g),h=g,h.h=0,h.g=0}var E=r}else E=null}else if(128<=l&&159>=l)E=p1(u,r,l,c);else{if(4096<=l&&4127>=l)h=l&255,8<=h&&15>=h?r.skip(1):16<=h&&23>=h?r.skip(2):24<=h&&31>=h&&r.skip(3);else if(4224<=l&&4255>=l)h=l&255,128<=h&&135>=h?r.skip(4):136<=h&&143>=h&&r.skip(5);else if(32<=l&&127>=l)r=l,u.g&&(r===127?Qn(u.g,"♪"):Qn(u.g,String.fromCharCode(r)));else if(160<=l&&255>=l)u.g&&Qn(u.g,String.fromCharCode(l));else if(4128<=l&&4223>=l){if(r=l&255,u.g)if(sf.has(r)){var y=sf.get(r);Qn(u.g,y)}else Qn(u.g,"_")}else 4256<=l&&4351>=l&&u.g&&((l&255)!=160?Qn(u.g,"_"):Qn(u.g,"[CC]"));E=null}(r=E)&&n.push(r)}}}}catch(x){if(x instanceof S&&x.code===3e3)jn("CEA708_INVALID_DATA","Buffer read out of bounds / invalid CEA-708 Data.");else throw x}return n}function af(e){for(var t=0;e;)t^=e&1,e>>=1;return t===1}function pa(){}pa.prototype.init=function(){},pa.prototype.parse=function(){return[]};function lf(e,t){var n=null,i=null,r=null,o=e.N();return t&1&&(r=e.Cb()),t&2&&e.skip(4),t&8&&(n=e.N()),t&16&&(i=e.N()),{trackId:o,Cf:n,vg:i,oj:r}}function cf(e,t){return{rf:t==1?e.Cb():e.N()}}function ga(e,t){return t==1?(e.skip(8),e.skip(8)):(e.skip(4),e.skip(4)),{timescale:e.N()}}function hf(e,t,n){var i=e.N(),r=[],o=null;n&1&&(o=e.N()),n&4&&e.skip(4);for(var u=0;u<i;u++){var s={Ge:null,sampleSize:null,Ld:null};n&256&&(s.Ge=e.N()),n&512&&(s.sampleSize=e.N()),n&1024&&e.skip(4),n&2048&&(s.Ld=t==0?e.N():e.Qf()),r.push(s)}return{tj:i,Sf:r,ug:o}}function ma(){this.j=new Map,this.i=this.h=0,this.g=va}ma.prototype.init=function(e){function t(o){o=o.name,o in Qo&&(n.g=Qo[o])}var n=this,i=[],r=[];if(new Ae().box("moov",Me).box("mvex",Me).T("trex",function(o){var u=o.reader;u.skip(4),u.skip(4),o=u.N(),u=u.N(),n.h=o,n.i=u}).box("trak",Me).T("tkhd",function(o){var u=o.reader;o.version==1?(u.skip(8),u.skip(8)):(u.skip(4),u.skip(4)),o=u.N(),i.push(o)}).box("mdia",Me).T("mdhd",function(o){o=ga(o.reader,o.version),r.push(o.timescale)}).box("minf",Me).box("stbl",Me).T("stsd",Ir).box("avc1",t).box("avc3",t).box("hev1",t).box("hvc1",t).box("dvh1",t).box("dvhe",t).box("encv",Ad).box("sinf",Me).box("frma",function(o){o=o.reader.N(),o=bo(o),o in Qo&&(n.g=Qo[o])}).parse(e,!0),!i.length||!r.length||i.length!=r.length)throw new S(2,2,2010);this.g==va&&pe("Unable to determine bitstream format for CEA parsing!"),i.forEach(function(o,u){n.j.set(o,r[u])})},ma.prototype.parse=function(e){var t=this;if(this.g==va)return[];var n=[],i=this.h,r=this.i,o=[],u=null,s=null,a=null,l=9e4;return new Ae().box("moof",function(c){u=c.start,Me(c)}).box("traf",Me).T("trun",function(c){c=hf(c.reader,c.version,c.flags),o=c.Sf,s=c.ug}).T("tfhd",function(c){c=lf(c.reader,c.flags),i=c.Cf||t.h,r=c.vg||t.i,c=c.trackId,t.j.has(c)&&(l=t.j.get(c))}).T("tfdt",function(c){a=cf(c.reader,c.version).rf}).box("mdat",function(c){if(a===null)throw new S(2,2,2010);e:{var f=c.reader,h=a,g=l,v=i,T=r,E=o,y=0,x=T;for(E.length&&(x=E[0].sampleSize||T),f.skip((u||0)+(s||0)-c.start-8);f.xa();){c=f.N();var A=f.ob();switch(t.g){case ya:A&=31,A=A==6;break;case Dr:A=A>>1&63,A=A==39||A==40;break;default:break e}if(A){A=0,E.length>y&&(A=E[y].Ld||0),A=(h+A)/g;for(var w=[],C,k=f.Bb(c-1),N=C=0;N<k.length;)C==2&&k[N]==3?(C=0,k=[].concat(se(k)),k.splice(N,1),k=new Uint8Array(k)):k[N]==0?C++:C=0,N++;for(C=k,N=0;N<C.length;){for(k=0;C[N]==255;)k+=255,N++;k+=C[N++];for(var _=0;C[N]==255;)_+=255,N++;_+=C[N++],k==4&&w.push(C.subarray(N,N+_)),N+=_}for(w=p(w),C=w.next();!C.done;C=w.next())n.push({qh:C.value,pts:A})}else try{f.skip(c-1)}catch{break}x-=c+4,x==0&&(h=E.length>y?h+(E[y].Ge||v):h+v,y++,x=E.length>y&&E[y].sampleSize||T)}}}).parse(e,!1),n};var va=0,ya=1,Dr=2,Qo={avc1:ya,avc3:ya,hev1:Dr,hvc1:Dr,dvh1:Dr,dvhe:Dr};function df(e){this.h=new pa,e.includes("video/mp4")&&(this.h=new ma),this.g=new m1}df.prototype.init=function(e){this.h.init(e)};function T1(e,t){t=e.h.parse(t),t=p(t);for(var n=t.next();!n.done;n=t.next()){var i=n.value,r=ue(i.qh);if(0<r.length&&(n=e.g,i=i.pts,r=new ge(r,0),r.ob()===181&&r.De()===49&&r.N()===1195456820&&r.ob()===3)){var o=r.ob();if(o&64){o&=31,r.skip(1);for(var u=0;u<o;u++){var s=r.ob(),a=(s&4)>>2,l=r.ob(),c=r.ob();a&&(s&=3,s===0||s===1?n.h.push({pts:i,type:s,Oa:l,hb:c,order:n.h.length}):(n.g.push({pts:i,type:s,value:l,order:n.g.length}),n.g.push({pts:i,type:2,value:c,order:n.g.length})))}}}}return v1(e.g)}function It(e,t,n,i,r){this.Pa=e,this.Ta=t,this.Ca=n,this.we=i===void 0?null:i,this.timescale=r}It.prototype.Jc=function(){return this.Ta},It.prototype.Fc=function(){return this.Ca};function A1(e,t){return e&&t?e.Jc()==t.Jc()&&e.Fc()==t.Fc()&&Os(e.Pa(),t.Pa()):e==t}R("shaka.media.InitSegmentReference",It),It.prototype.getEndByte=It.prototype.Fc,It.prototype.getStartByte=It.prototype.Jc;function ae(e,t,n,i,r,o,u,s,a,l,c,f,h,g,v){l=l===void 0?[]:l,g=g===void 0?$o:g,this.startTime=e,this.l=this.endTime=t,this.C=n,this.Ta=i,this.Ca=r,this.h=o,this.timestampOffset=u,this.appendWindowStart=s,this.appendWindowEnd=a,this.i=l,this.tilesLayout=c===void 0?"":c,this.B=f===void 0?null:f,this.g=h===void 0?null:h,this.status=g,this.m=v===void 0?null:v,this.s=null,this.j=0}d=ae.prototype,d.Pa=function(){return this.C()},d.getStartTime=function(){return this.startTime},d.Hg=function(){return this.endTime},d.Jc=function(){return this.Ta},d.Fc=function(){return this.Ca},d.$g=function(){return this.tilesLayout},d.Zg=function(){return this.B},d.ec=function(){return this.status},d.jh=function(){this.status=ff},d.Zf=function(e){this.s=e},d.Xg=function(){return this.s},d.offset=function(e){this.startTime+=e,this.endTime+=e,this.l+=e;for(var t=p(this.i),n=t.next();!n.done;n=t.next())n=n.value,n.startTime+=e,n.endTime+=e,n.l+=e},d.Ve=function(e){this.g==null?bn("Sync attempted without sync time!"):(e=this.g-e-this.startTime,.001<=Math.abs(e)&&this.offset(e))},R("shaka.media.SegmentReference",ae),ae.prototype.syncAgainst=ae.prototype.Ve,ae.prototype.offset=ae.prototype.offset,ae.prototype.getThumbnailSprite=ae.prototype.Xg,ae.prototype.setThumbnailSprite=ae.prototype.Zf,ae.prototype.markAsUnavailable=ae.prototype.jh,ae.prototype.getStatus=ae.prototype.ec,ae.prototype.getTileDuration=ae.prototype.Zg,ae.prototype.getTilesLayout=ae.prototype.$g,ae.prototype.getEndByte=ae.prototype.Fc,ae.prototype.getStartByte=ae.prototype.Jc,ae.prototype.getEndTime=ae.prototype.Hg,ae.prototype.getStartTime=ae.prototype.getStartTime,ae.prototype.getUris=ae.prototype.Pa;var $o=0,ff=1;ae.Status={Uh:$o,hj:ff,wi:2};function pf(e){return!e||e.length==1&&1e-6>e.end(0)-e.start(0)?null:e.length==1&&0>e.start(0)?0:e.length?e.start(0):null}function Ea(e){return!e||e.length==1&&1e-6>e.end(0)-e.start(0)?null:e.length?e.end(e.length-1):null}function Ta(e,t){return!e||!e.length||e.length==1&&1e-6>e.end(0)-e.start(0)||t>e.end(e.length-1)?!1:t>=e.start(0)}function gf(e,t){if(!e||!e.length||e.length==1&&1e-6>e.end(0)-e.start(0))return 0;var n=0;e=p(_n(e));for(var i=e.next();!i.done;i=e.next()){var r=i.value;i=r.start,r=r.end,r>t&&(n+=r-Math.max(i,t))}return n}function S1(e,t,n){return!e||!e.length||e.length==1&&1e-6>e.end(0)-e.start(0)?null:(e=_n(e).findIndex(function(i,r,o){return i.start>t&&(r==0||o[r-1].end-t<=n)}),0<=e?e:null)}function _n(e){if(!e)return[];for(var t=[],n=0;n<e.length;n++)t.push({start:e.start(n),end:e.end(n)});return t}function mf(){}function vf(e,t){var n=(e[t]&127)<<21;return n|=(e[t+1]&127)<<14,n|=(e[t+2]&127)<<7,n|=e[t+3]&127}function w1(e){var t={key:e.type,description:"",data:""};if(e.type==="TXXX"){if(2>e.size||e.data[0]!==3)return null;var n=e.data.subarray(1).indexOf(0);if(n===-1)return null;var i=_e(ue(e.data,1,n));return e=_e(ue(e.data,2+n)).replace(/\0*$/,""),t.description=i,t.data=e,t}return e.type==="WXXX"?2>e.size||e.data[0]!==3||(n=e.data.subarray(1).indexOf(0),n===-1)?null:(i=_e(ue(e.data,1,n)),e=_e(ue(e.data,2+n)).replace(/\0*$/,""),t.description=i,t.data=e,t):e.type==="PRIV"?2>e.size||(i=e.data.indexOf(0),i===-1)?null:(i=_e(ue(e.data,0,i)),e=At(e.data.subarray(i.length+1)),t.description=i,t.data=e,t):e.type[0]==="T"?2>e.size||e.data[0]!==3?null:(e=_e(e.data.subarray(1)).replace(/\0*$/,""),t.data=e,t):e.type[0]==="W"?(e=_e(e.data).replace(/\0*$/,""),t.data=e,t):e.data?(t.data=At(e.data),t):null}function eu(e){for(var t=0,n=[];t+10<=e.length&&e[t]===73&&e[t+1]===68&&e[t+2]===51&&255>e[t+3]&&255>e[t+4]&&128>e[t+6]&&128>e[t+7]&&128>e[t+8]&&128>e[t+9];){var i=vf(e,t+6);for(e[t+5]>>6&1&&(t+=10),t+=10,i=t+i;t+10<i;){var r=e.subarray(t),o=vf(r,4);r={type:String.fromCharCode(r[0],r[1],r[2],r[3]),size:o,data:r.subarray(10,10+o)},(o=w1(r))&&n.push(o),t+=r.size+10}t+10<=e.length&&e[t]===51&&e[t+1]===68&&e[t+2]===73&&255>e[t+3]&&255>e[t+4]&&128>e[t+6]&&128>e[t+7]&&128>e[t+8]&&128>e[t+9]&&(t+=10)}return n}R("shaka.util.Id3Utils",mf),mf.getID3Frames=eu;function tu(){this.s=null,this.B=!1,this.l=this.m=null,this.F=[],this.g=this.h=null,this.C=[],this.j=null,this.i=[]}tu.prototype.parse=function(e){if(564>e.length)return this;for(var t=Math.max(0,yf(e)),n=e.length-(e.length+t)%188,i=!1,r=t;r<n;r+=188)if(e[r]===71){var o=!!(e[r+1]&64),u=((e[r+1]&31)<<8)+e[r+2];if(1<(e[r+3]&48)>>4){var s=r+5+e[r+4];if(s===r+188)continue}else s=r+4;switch(u){case 0:o&&(s+=e[s]+1),this.s=(e[s+10]&31)<<8|e[s+11];break;case 17:case 8191:break;case this.s:o&&(s+=e[s]+1),o=e,u={audio:-1,video:-1,me:-1,audioCodec:"",videoCodec:""};var a=s+3+((o[s+1]&15)<<8|o[s+2])-4;for(s+=12+((o[s+10]&15)<<8|o[s+11]);s<a;){var l=(o[s+1]&31)<<8|o[s+2];switch(o[s]){case 15:u.audio===-1&&(u.audio=l,u.audioCodec="aac");break;case 21:u.me===-1&&(u.me=l);break;case 27:u.video===-1&&(u.video=l,u.videoCodec="avc");break;case 3:case 4:u.audio===-1&&(u.audio=l,u.audioCodec="mp3");break;case 36:u.video===-1&&(u.video=l,u.videoCodec="hvc")}s+=((o[s+3]&15)<<8|o[s+4])+5}o=u,this.l==null&&(this.l=o.video),this.g==null&&(this.g=o.audio),this.j==null&&(this.j=o.me),i&&!this.B&&(i=!1,r=t-188),this.B=!0;break;case this.l:o=e.subarray(s,r+188),this.m==null&&(s=Aa(o))&&s.pts!=null&&(this.m=s.pts/9e4),this.F.push(o);break;case this.g:o=e.subarray(s,r+188),this.h==null&&(s=Aa(o))&&s.pts!=null&&(this.h=s.pts/9e4),this.C.push(o);break;case this.j:this.i.push(e.subarray(s,r+188));break;default:i=!0}}return this};function Aa(e){if((e[0]<<16|e[1]<<8|e[2])!==1)return null;var t={data:new Uint8Array(0),sj:6+(e[4]<<8|e[5]),pts:null,dts:null},n=e[7];return n&192&&(t.pts=536870912*(e[9]&14)+4194304*(e[10]&255)+16384*(e[11]&254)+128*(e[12]&255)+(e[13]&254)/2,t.dts=t.pts,n&64&&(t.dts=536870912*(e[14]&14)+4194304*(e[15]&255)+16384*(e[16]&254)+128*(e[17]&255)+(e[18]&254)/2)),t.data=e.subarray(9+e[8]),t}function I1(e){for(var t=[],n=new Uint8Array(0),i=e.i.length-1;0<=i;i--){n=Tr(e.i[i],n);var r=Aa(n);r&&(t.unshift({cueTime:r.pts?r.pts/9e4:null,data:r.data,frames:eu(r.data),dts:r.dts,pts:r.pts}),n=new Uint8Array(0))}return t}tu.prototype.getStartTime=function(){return{audio:this.h,video:this.m}};function yf(e){for(var t=Math.min(1e3,e.length-564),n=0;n<t;){if(e[n]===71&&e[n+188]===71&&e[n+376]===71)return n;n++}return-1}R("shaka.util.TsParser",tu);function Pr(e,t,n){this.g=null,this.i=-1,this.j=e,this.h=t,this.l=n,typeof libDPIModule>"u"&&pe("Could not Find LCEVC Library dependencies on this page"),typeof LcevcDil>"u"?pe("Could not Find LCEVC Library on this page"):LcevcDil.SupportObject.SupportStatus||pe(LcevcDil.SupportObject.SupportError),typeof LcevcDil<"u"&&typeof libDPIModule<"u"&&this.h instanceof HTMLCanvasElement&&LcevcDil.SupportObject.SupportStatus&&!this.g&&LcevcDil.SupportObject.webGLSupport(this.h)&&(this.h.classList.remove("shaka-hidden"),this.g=new LcevcDil.LcevcDil(this.j,this.h,this.l))}Pr.prototype.release=function(){this.g&&(this.g.close(),this.g=null)};function Ef(e,t){var n=x1;switch(t.mimeType){case"video/webm":n=C1;break;case"video/mp4":n=M1}e.g&&(e.i=t.id,e.g.setLevelSwitching(t.id,!0),e.g.setContainerFormat(n))}R("shaka.lcevc.Dil",Pr),Pr.prototype.release=Pr.prototype.release;var x1=0,C1=1,M1=2;function Tf(e,t,n,i){var r=this;this.l=e,this.I=null,this.m=t,this.h={},this.M={},this.P={},this.g=null,this.J=!1,this.V=n||function(){},this.H=i||null,this.i={},this.C=new ye,this.s={},this.B=null,this.K=new we,this.j=k1(this,this.K),this.G=new Yn(function(){return L1(r)}),this.O="",this.F=!1,this.X=new we}function k1(e,t){var n=new MediaSource;return e.C.ya(n,"sourceopen",function(){URL.revokeObjectURL(e.O),t.resolve()}),e.O=xa(n),e.l.src=e.O,n}d=Tf.prototype,d.destroy=function(){return this.G.destroy()};function L1(e){var t,n,i,r,o,u,s,a;return I(function(l){if(l.g==1){t=[];for(n in e.i)for(i=e.i[n],r=i[0],e.i[n]=i.slice(0,1),r&&t.push(r.p.catch(zv)),o=p(i.slice(1)),u=o.next();!u.done;u=o.next())s=u.value,s.p.reject(new S(2,7,7003,void 0));e.g&&t.push(e.g.destroy()),e.m&&t.push(e.m.destroy());for(a in e.s)t.push(e.s[a].destroy());return m(l,Promise.all(t),2)}e.C&&(e.C.release(),e.C=null),e.l&&(e.l.removeAttribute("src"),e.l.load(),e.l=null),e.I=null,e.j=null,e.g=null,e.m=null,e.h={},e.s={},e.B=null,e.i={},e.H=null,P(l)})}d.init=function(e,t,n){n=n===void 0?!1:n;var i=this,r,o,u,s,a,l,c,f;return I(function(h){if(h.g==1)return r=Ze,m(h,i.K,2);for(i.F=n,o={},u=p(e.keys()),s=u.next();!s.done;o={Ea:o.Ea},s=u.next())if(o.Ea=s.value,a=e.get(o.Ea),l=Qt(a.mimeType,a.codecs),o.Ea==r.ba)Or(i,l,n);else{!t&&pt(l)||!Xs(l,o.Ea)||(i.s[o.Ea]=new jh(l),l=Bh(o.Ea,l)),c=l+i.I.sourceBufferExtraFeatures,ve(i.G),f=void 0;try{f=i.j.addSourceBuffer(c)}catch(g){throw new S(2,3,3015,g,"The mediaSource_ status was"+i.j.readyState+"expected 'open'")}i.C.o(f,"error",function(g){return function(){i.i[g.Ea][0].p.reject(new S(2,3,3014,i.l.error?i.l.error.code:0))}}(o)),i.C.o(f,"updateend",function(g){return function(){return ti(i,g.Ea)}}(o)),i.h[o.Ea]=f,i.M[o.Ea]=l,i.i[o.Ea]=[],i.P[o.Ea]=!!a.drmInfos.length}P(h)})},d.configure=function(e){this.I=e};function Or(e,t,n){e.g||(e.g=new cn(e.m));var i=e.g;e=e.J,t=="application/cea-608"||t=="application/cea-708"?i.i=null:(i.i=(0,Ke[t])(),i.i.setSequenceMode?i.i.setSequenceMode(n):pe('Text parsers should have a "setSequenceMode" method!'),i.C=e)}function Af(e){return e.j?e.j.readyState=="ended":!0}function Sf(e,t){return t==fe?e.g.g:pf(ei(e,t))}function nu(e,t){return t==fe?e.g.h:Ea(ei(e,t))}function N1(e,t,n){return t==fe?(e=e.g,e.h==null||e.h<n?0:e.h-Math.max(n,e.g)):(e=ei(e,t),gf(e,n))}d.ib=function(){var e={total:_n(this.l.buffered),audio:_n(ei(this,"audio")),video:_n(ei(this,"video")),text:[]};if(this.g){var t=this.g.g,n=this.g.h;t!=null&&n!=null&&e.text.push({start:t,end:n})}return e};function ei(e,t){try{return e.h[t].buffered}catch{return null}}function wf(e,t,n,i,r,o,u){o=o===void 0?!1:o,u=u===void 0?!1:u;var s,a,l,c,f,h,g,v,T,E,y,x,A,w,C,k,N,_,D,V,X,W,re;return I(function(B){switch(B.g){case 1:if(s=Ze,t!=s.ba){B.D(2);break}if(!e.F){B.D(3);break}return m(B,e.X,4);case 4:a=B.h,e.g.B=a;case 3:return m(B,Yv(e.g,n,i?i.startTime:null,i?i.endTime:null),5);case 5:return B.return();case 2:if(l=ue(n),c=e.M[t],e.s[t]&&(c=e.s[t].s),0>yf(l)?bi.includes(c)&&(v=eu(l),v.length&&i&&(T={cueTime:i.startTime,data:l,frames:v,dts:i.startTime,pts:i.startTime},e.V([T],0,i.endTime))):(f=new tu().parse(l),h=i.startTime-(f.getStartTime()[t]||0),g=I1(f),g.length&&e.V(g,h,i?i.endTime:null)),!e.s[t]){r&&t==s.Ma&&(e.g||Or(e,"application/cea-608",e.F),e.B||(e.B=new df(c)),i?(E=T1(e.B,n),E.length&&(y=e.h[s.Ma].timestampOffset,qh(e.g,E,i.startTime,i.endTime,y))):e.B.init(n)),B.D(6);break}return o&&e.s[t].g.resetCaptions(),m(B,Wv(e.s[t],n),7);case 7:x=B.h,e.g||Or(e,"application/cea-608",e.F),x.captions&&x.captions.length&&(A=e.h[s.Ma].timestampOffset,w=Zv(x.captions),qh(e.g,w,i?i.startTime:null,i?i.endTime:null,A)),n=x.data;case 6:if(n=P1(e,n,i?i.startTime:null,t),C=e.h[t],k=O1,!e.F||C.mode==k||!i){B.D(8);break}if(N=e.j.duration,_=t==s.Ma||!(s.Ma in e.h),!_){B.D(9);break}return D=[C.appendWindowStart,C.appendWindowEnd],C.appendWindowStart=0,C.appendWindowEnd=1/0,V=C.timestampOffset,C.timestampOffset=0,m(B,ot(e,t,function(){return Cf(e,t,n)}),10);case 10:return m(B,ot(e,t,function(){return iu(e,t)}),11);case 11:return C.timestampOffset=V,C.appendWindowStart=D[0],C.appendWindowEnd=D[1],X=pf(ei(e,t)),W=(i.startTime||0)-(X||0),e.X.resolve(W),m(B,ot(e,t,function(){return Sa(e,t,0,N)}),12);case 12:if(t!=s.Ma){B.D(9);break}return m(B,ot(e,t,function(){e.l.currentTime-=.001,ti(e,t)}),9);case 9:return C.mode=k,m(B,e.Sa(N),8);case 8:return i&&e.F&&t!=s.ba&&(o||u)&&(re=i.startTime,ot(e,t,function(){return iu(e,t)}),ot(e,t,function(){return wa(e,t,re)})),m(B,ot(e,t,function(){Cf(e,t,n)}),16);case 16:P(B)}})}function R1(e,t){var n=nu(e,"video")||0;Kh(e.g,t,n)}function _1(e){e.g&&Kh(e.g,"",0)}d.remove=function(e,t,n){var i=this,r;return I(function(o){return r=Ze,e==r.ba?m(o,i.g.remove(t,n),0):m(o,ot(i,e,function(){return Sa(i,e,t,n)}),0)})};function If(e,t){var n;return I(function(i){return n=Ze,t==n.ba?e.g?m(i,e.g.remove(0,1/0),0):i.return():m(i,ot(e,t,function(){return Sa(e,t,0,e.j.duration)}),0)})}d.flush=function(e){var t=this,n;return I(function(i){return n=Ze,e==n.ba?i.return():m(i,ot(t,e,function(){t.l.currentTime-=.001,ti(t,e)}),0)})};function D1(e,t,n,i,r,o){var u;return I(function(s){return u=Ze,t==u.ba?(o||(e.g.B=n),Jv(e.g,i,r),s.return()):m(s,Promise.all([ot(e,t,function(){return iu(e,t)}),o?Promise.resolve():ot(e,t,function(){return wa(e,t,n)}),ot(e,t,function(){e.h[t].appendWindowStart=0,e.h[t].appendWindowEnd=r,e.h[t].appendWindowStart=i,ti(e,t)})]),0)})}function xf(e,t,n){var i;return I(function(r){return i=Ze,t==i.ba?r.return():(ot(e,t,function(){return iu(e,t)}),m(r,ot(e,t,function(){return wa(e,t,n)}),0))})}d.endOfStream=function(e){var t=this;return I(function(n){return m(n,Mf(t,function(){Af(t)||t.j.readyState==="closed"||(e?t.j.endOfStream(e):t.j.endOfStream())}),0)})},d.Sa=function(e){var t=this;return I(function(n){return m(n,Mf(t,function(){if(e<t.j.duration)for(var i in t.h){var r={start:function(){},p:new we};t.i[i].unshift(r)}t.j.duration=e}),0)})},d.getDuration=function(){return this.j.duration};function Cf(e,t,n){if(t=="video"&&e.H){var i=e.H;i.g&&i.g.appendBuffer(n,"video",i.i)}e.h[t].appendBuffer(n)}function Sa(e,t,n,i){i<=n?ti(e,t):e.h[t].remove(n,i)}function iu(e,t){var n=e.h[t].appendWindowStart,i=e.h[t].appendWindowEnd;e.h[t].abort(),e.h[t].appendWindowStart=n,e.h[t].appendWindowEnd=i,ti(e,t)}function wa(e,t,n){0>n&&(n+=.001),e.h[t].timestampOffset=n,ti(e,t)}function ti(e,t){var n=e.i[t][0];n&&(n.p.resolve(),Ia(e,t))}function ot(e,t,n){return ve(e.G),n={start:n,p:new we},e.i[t].push(n),e.i[t].length==1&&kf(e,t),n.p}function Mf(e,t){var n,i,r,o,u,s;return I(function(a){switch(a.g){case 1:ve(e.G),n=[],i={};for(r in e.h)i.yc=new we,o={start:function(l){return function(){return l.yc.resolve()}}(i),p:i.yc},e.i[r].push(o),n.push(i.yc),e.i[r].length==1&&o.start(),i={yc:i.yc};return ee(a,2),m(a,Promise.all(n),4);case 4:le(a,3);break;case 2:throw u=te(a),u;case 3:try{t()}catch(l){throw new S(2,3,3015,l)}finally{for(s in e.h)Ia(e,s)}P(a)}})}function Ia(e,t){e.i[t].shift(),kf(e,t)}function kf(e,t){var n=e.i[t][0];if(n)try{n.start()}catch(i){i.name=="QuotaExceededError"?n.p.reject(new S(2,3,3017,t)):n.p.reject(new S(2,3,3015,i)),Ia(e,t)}}function P1(e,t,n,i){var r=e.P[i];return n==null&&r&&(Kn()||gr())&&e.M[i].split(";")[0].split("/")[1]=="mp4"&&(t=$y(t)),t}var xa=M.URL.createObjectURL,O1="sequence",bi=["audio/aac","audio/ac3","audio/ec3","audio/mpeg"];function H(e,t,n){this.i=e,this.m=t,this.s=this.j=1/0,this.g=1,this.h=this.l=null,this.B=0,this.C=!0,this.F=0,this.G=n===void 0?!0:n,this.H=0,this.I=!1}d=H.prototype,d.getDuration=function(){return this.j},d.Pg=function(){return this.g},d.Yf=function(e){this.i=e},d.Sa=function(e){this.j=e},d.Tg=function(){return this.i},d.Uf=function(e){this.B=e},d.$c=function(e){this.C=e},d.Re=function(e){this.s=e},d.Vf=function(e){this.m=e},d.Gg=function(){return this.m},d.lc=function(e){if(e.length!=0){var t=e[0].startTime,n=e[0].endTime,i=(Date.now()+this.B)/1e3;e=p(e);for(var r=e.next();!r.done;r=e.next())r=r.value,i<r.startTime||(t=Math.min(t,r.startTime),n=Math.max(n,r.endTime),this.g=Math.max(this.g,r.endTime-r.startTime));this.Ae(t),this.h=Math.max(this.h,n),this.i!=null&&this.G&&!this.I&&(this.i=i-this.h-this.g)}},d.ve=function(){this.I=!0},d.Ae=function(e){this.l=this.l==null?e:Math.min(this.l,e)},d.ze=function(e){this.g=Math.max(this.g,e)},d.offset=function(e){this.l!=null&&(this.l+=e),this.h!=null&&(this.h+=e)},d.U=function(){return this.j==1/0&&!this.C},d.Lb=function(){return this.j!=1/0&&!this.C},d.kb=function(){return Math.max(this.F,this.Ib()-this.s)},d.$f=function(e){this.F=e},d.Ib=function(){return this.U()||this.Lb()?Math.min(Math.max(0,(Date.now()+this.B)/1e3-this.g-this.i)+this.H,this.j):this.h?Math.min(this.h,this.j):this.j},d.Ic=function(e){var t=Math.max(this.l,this.F);return this.s==1/0?Math.ceil(1e3*t)/1e3:Math.max(t,Math.min(this.Ib()-this.s+e,this.jb()))},d.dc=function(){return this.Ic(0)},d.jb=function(){return Math.max(0,this.Ib()-(this.U()||this.Lb()?this.m:0))},d.eg=function(){return!(this.i==null||this.h!=null&&this.G)},d.Tf=function(e){this.H=e},R("shaka.media.PresentationTimeline",H),H.prototype.setAvailabilityTimeOffset=H.prototype.Tf,H.prototype.usingPresentationStartTime=H.prototype.eg,H.prototype.getSeekRangeEnd=H.prototype.jb,H.prototype.getSeekRangeStart=H.prototype.dc,H.prototype.getSafeSeekRangeStart=H.prototype.Ic,H.prototype.getSegmentAvailabilityEnd=H.prototype.Ib,H.prototype.setUserSeekStart=H.prototype.$f,H.prototype.getSegmentAvailabilityStart=H.prototype.kb,H.prototype.isInProgress=H.prototype.Lb,H.prototype.isLive=H.prototype.U,H.prototype.offset=H.prototype.offset,H.prototype.notifyMaxSegmentDuration=H.prototype.ze,H.prototype.notifyMinSegmentStartTime=H.prototype.Ae,H.prototype.lockStartTime=H.prototype.ve,H.prototype.notifySegments=H.prototype.lc,H.prototype.getDelay=H.prototype.Gg,H.prototype.setDelay=H.prototype.Vf,H.prototype.setSegmentAvailabilityDuration=H.prototype.Re,H.prototype.setStatic=H.prototype.$c,H.prototype.setClockOffset=H.prototype.Uf,H.prototype.getPresentationStartTime=H.prototype.Tg,H.prototype.setDuration=H.prototype.Sa,H.prototype.setPresentationStartTime=H.prototype.Yf,H.prototype.getMaxSegmentDuration=H.prototype.Pg,H.prototype.getDuration=H.prototype.getDuration;function Lf(e,t,n){this.l=n,this.j=e,this.B=Nf(e),this.g=e.g.currentTime,this.m=Date.now()/1e3,this.h=!1,this.s=0,this.C=t,this.i=function(){}}Lf.prototype.release=function(){this.l=this.j=null,this.i=function(){}};function U1(e,t){e.i=t}function b1(e){this.g=e}function Nf(e){if(e.g.paused||e.g.playbackRate==0||e.g.buffered.length==0)var t=!1;else e:{t=e.g.currentTime,e=p(_n(e.g.buffered));for(var n=e.next();!n.done;n=e.next())if(n=n.value,!(t<n.start-.1||t>n.end-.5)){t=!0;break e}t=!1}return t}function Ca(e,t,n,i,r){var o=this;this.s=r,this.g=e,this.B=t,this.G=n,this.i=new ye,this.m=!1,this.F=e.readyState,this.C=0,this.h=i,this.l=!1,this.i.o(e,"waiting",function(){return Ma(o)}),this.j=new q(function(){Ma(o)}).ha(.25)}Ca.prototype.release=function(){this.i&&(this.i.release(),this.i=null),this.j!=null&&(this.j.stop(),this.j=null),this.h&&(this.h.release(),this.h=null),this.g=this.B=this.s=null},Ca.prototype.Ce=function(){this.l=!0,Ma(this)};function Ma(e){if(e.g.readyState!=0){if(e.g.seeking){if(!e.m)return}else e.m=!1;if(!e.g.paused||e.g.currentTime==0&&(e.g.autoplay||e.g.currentTime!=0)){e.g.readyState!=e.F&&(e.F=e.g.readyState);var t;if(!(t=!e.h)){t=e.h;var n=t.j,i=Nf(n),r=n.g.currentTime,o=Date.now()/1e3;(t.g!=r||t.B!=i)&&(t.m=o,t.g=r,t.B=i,t.h=!1),r=o-t.m,(i=r>=t.C&&i&&!t.h)&&(t.i(t.g,r),t.h=!0,t.g=n.g.currentTime,t.s++,t.l(new U("stalldetected"))),t=!i}t&&(t=e.g.currentTime,n=e.g.buffered,i=S1(n,t,e.G.gapDetectionThreshold),i==null||i==0&&!e.l||(r=n.start(i),r>=e.B.jb()||.001>r-t||(i!=0&&n.end(i-1),e.g.currentTime=r,e.C++,e.s(new U("gapjumped")))))}}}function ji(e,t,n,i){t==HTMLMediaElement.HAVE_NOTHING||e.readyState>=t?i():(t=j1.value().get(t),n.ya(e,t,i))}var j1=new Ii(function(){return new Map([[HTMLMediaElement.HAVE_METADATA,"loadedmetadata"],[HTMLMediaElement.HAVE_CURRENT_DATA,"loadeddata"],[HTMLMediaElement.HAVE_FUTURE_DATA,"canplay"],[HTMLMediaElement.HAVE_ENOUGH_DATA,"canplaythrough"]])});function Rf(e,t,n){var i=this;this.g=e,this.l=t,this.j=n,this.m=!1,this.h=new ye,this.i=new Of(e),ji(this.g,HTMLMediaElement.HAVE_METADATA,this.h,function(){Df(i,i.j)})}Rf.prototype.release=function(){this.h&&(this.h.release(),this.h=null),this.i!=null&&(this.i.release(),this.i=null),this.l=function(){},this.g=null};function ka(e){return e.m?e.g.currentTime:e.j}function _f(e,t){0<e.g.readyState?Uf(e.i,t):ji(e.g,HTMLMediaElement.HAVE_METADATA,e.h,function(){Df(e,e.j)})}function Df(e,t){.001>Math.abs(e.g.currentTime-t)?Pf(e):(e.h.ya(e.g,"seeking",function(){Pf(e)}),Uf(e.i,e.g.currentTime&&e.g.currentTime!=0?e.g.currentTime:t))}function Pf(e){e.m=!0,e.h.o(e.g,"seeking",function(){return e.l()})}function Of(e){var t=this;this.h=e,this.m=10,this.l=this.j=this.i=0,this.g=new q(function(){0>=t.i||t.h.currentTime!=t.j?t.g.stop():(t.h.currentTime=t.l,t.i--)})}Of.prototype.release=function(){this.g&&(this.g.stop(),this.g=null),this.h=null};function Uf(e,t){e.j=e.h.currentTime,e.l=t,e.i=e.m,e.h.currentTime=t,e.g.ha(.1)}function bf(e){this.g=e,this.j=!1,this.h=null,this.i=new ye}d=bf.prototype,d.ge=function(){function e(){t.h==null||t.h==0?t.j=!0:(t.i.ya(t.g,"seeking",function(){t.j=!0}),t.g.currentTime=Math.max(0,t.g.currentTime+t.h))}var t=this;ji(this.g,HTMLMediaElement.HAVE_CURRENT_DATA,this.i,function(){e()})},d.release=function(){this.i&&(this.i.release(),this.i=null),this.g=null},d.ie=function(e){this.h=this.j?this.h:e},d.kd=function(){return(this.j?this.g.currentTime:this.h)||0},d.nf=function(){return 0},d.mf=function(){return 0},d.Pf=function(){};function jf(e,t,n,i,r,o){var u=this;this.i=e,this.g=t.presentationTimeline,this.F=t.minBufferTime||0,this.l=n,this.C=r,this.B=null,this.s=B1(e,n,o),this.j=new Ca(e,t.presentationTimeline,n,this.s,o),this.h=new Rf(e,function(){e:{var s=u.j;s.m=!0,s.l=!1;var a=ka(u.h);if(s=Bf(u,a),.001<Math.abs(s-a)&&(a=Date.now()/1e3,!u.B||u.B<a-1)){u.B=a,_f(u.h,s),s=void 0;break e}u.C(),s=void 0}return s},F1(this,i)),this.m=new q(function(){if(u.i.readyState!=0&&!u.i.paused){var s=ka(u.h),a=u.g.dc(),l=u.g.jb();3>l-a&&(a=l-3),s<a&&(s=Bf(u,s),u.i.currentTime=s)}})}d=jf.prototype,d.ge=function(){this.m.ha(.25)},d.release=function(){this.h&&(this.h.release(),this.h=null),this.j&&(this.j.release(),this.j=null),this.m&&(this.m.stop(),this.m=null),this.i=this.h=this.g=this.l=null,this.C=function(){}},d.ie=function(e){_f(this.h,e)},d.kd=function(){var e=ka(this.h);return 0<this.i.readyState&&!this.i.paused?Gf(this,e):e},d.nf=function(){return this.s?this.s.s:0},d.mf=function(){return this.j.C};function F1(e,t){return t==null?t=1/0>e.g.getDuration()?e.g.dc():e.g.jb():0>t&&(t=e.g.jb()+t),Ff(e,Gf(e,t))}d.Pf=function(){this.j.Ce()};function Ff(e,t){var n=e.g.getDuration();return t>=n?n-e.l.durationBackoff:t}function Bf(e,t){var n=Math.max(e.F,e.l.rebufferingGoal),i=e.l.safeSeekOffset,r=e.g.dc(),o=e.g.jb(),u=e.g.getDuration();3>o-r&&(r=o-3);var s=e.g.Ic(n),a=e.g.Ic(i);return n=e.g.Ic(n+i),t>=u?Ff(e,t):t>o?o:t<r?Ta(e.i.buffered,a)?a:n:t>=s||Ta(e.i.buffered,t)?t:n}function Gf(e,t){var n=e.g.dc();return t<n?n:(e=e.g.jb(),t>e?e:t)}function B1(e,t,n){if(!t.stallEnabled)return null;var i=t.stallSkip;return t=new Lf(new b1(e),t.stallThreshold,n),U1(t,function(){i?e.currentTime+=i:(e.pause(),e.play())}),t}function he(e){this.g=e,this.h=null,this.i=0,this.j=!1}d=he.prototype,d.release=function(){this.j||(this.g=[],this.h&&this.h.stop(),this.h=null)},d.kh=function(){this.j=!0};function G1(e,t){e=p(e.g);for(var n=e.next();!n.done;n=e.next())t(n.value)}d.find=function(e){for(var t=this.g.length-1,n=t;0<=n;--n){var i=this.g[n],r=n<t?this.g[n+1].startTime:i.endTime;if(e>=i.startTime&&e<r)return n+this.i}return this.g.length&&e<this.g[0].startTime?this.i:null},d.get=function(e){return this.g.length==0?null:(e-=this.i,0>e||e>=this.g.length?null:this.g[e])},d.offset=function(e){if(!this.j)for(var t=p(this.g),n=t.next();!n.done;n=t.next())n.value.offset(e)},d.Sc=function(e){if(!this.j&&e.length){var t=Math.round(1e3*e[0].startTime)/1e3;this.g=this.g.filter(function(n){return Math.round(1e3*n.startTime)/1e3<t}),this.g.push.apply(this.g,se(e))}},d.kc=function(e,t){var n=this;e=e.filter(function(i){return i.endTime>t&&(n.g.length==0||i.endTime>n.g[0].startTime)}),this.Sc(e),this.Gb(t)},d.Gb=function(e){if(!this.j){var t=this.g.length;this.g=this.g.filter(function(n){return n.endTime>e}),this.i+=t-this.g.length}},d.wb=function(e,t,n){if(n=n===void 0?!1:n,!this.j){for(;this.g.length&&this.g[this.g.length-1].startTime>=t;)this.g.pop();for(;this.g.length&&this.g[0].endTime<=e;)this.g.shift(),n||this.i++;this.g.length!=0&&(e=this.g[this.g.length-1],this.g[this.g.length-1]=new ae(e.startTime,t,e.C,e.Ta,e.Ca,e.h,e.timestampOffset,e.appendWindowStart,e.appendWindowEnd,e.i,e.tilesLayout,e.B,e.g,e.status,e.m),this.g[this.g.length-1].j=e.j)}},d.Nd=function(e,t){var n=this;this.j||(this.h&&this.h.stop(),this.h=new q(function(){var i=t();i?n.g.push.apply(n.g,se(i)):(n.h.stop(),n.h=null)}),this.h.ha(e))},he.prototype[Symbol.iterator]=function(){return this.bc(0)},he.prototype.bc=function(e){var t=this.find(e);if(t==null)return null;t--;var n=this.get(t+1),i=-1;if(n&&0<n.i.length)for(var r=n.i.length-1;0<=r;--r){var o=n.i[r];if(e>=o.startTime&&e<o.endTime){t++,i=r-1;break}}return new Ft(this,t,i)};function La(e,t,n){return new he([new ae(e,e+t,function(){return n},0,null,null,e,e,e+t)])}R("shaka.media.SegmentIndex",he),he.forSingleSegment=La,he.prototype.getIteratorForTime=he.prototype.bc,he.prototype.updateEvery=he.prototype.Nd,he.prototype.fit=he.prototype.wb,he.prototype.evict=he.prototype.Gb,he.prototype.mergeAndEvict=he.prototype.kc,he.prototype.offset=he.prototype.offset,he.prototype.get=he.prototype.get,he.prototype.find=he.prototype.find,he.prototype.markImmutable=he.prototype.kh,he.prototype.release=he.prototype.release;function Ft(e,t,n){this.i=e,this.g=t,this.h=n}Ft.prototype.sg=function(){return this.g},Ft.prototype.current=function(){var e=this.i.get(this.g);return e&&0<e.i.length&&e.Pa().length&&this.h>=e.i.length&&(this.g++,this.h=0,e=this.i.get(this.g)),e&&0<e.i.length?e.i[this.h]:e},Ft.prototype.next=function(){var e=this.i.get(this.g);return e&&0<e.i.length?(this.h++,e.Pa().length&&this.h==e.i.length&&(this.g++,this.h=0)):(this.g++,this.h=0),e=this.current(),{value:e,done:!e}},R("shaka.media.SegmentIterator",Ft),Ft.prototype.next=Ft.prototype.next,Ft.prototype.current=Ft.prototype.current,Ft.prototype.currentPosition=Ft.prototype.sg;function De(){he.call(this,[]),this.l=[]}K(De,he),d=De.prototype,d.clone=function(){var e=new De;return e.l=this.l.slice(),e},d.release=function(){for(var e=p(this.l),t=e.next();!t.done;t=e.next())t.value.release();this.l=[]},d.find=function(e){for(var t=0,n=p(this.l),i=n.next();!i.done;i=n.next()){i=i.value;var r=i.find(e);if(r!=null)return r+t;t+=i.i+i.g.length}return null},d.get=function(e){for(var t=0,n=p(this.l),i=n.next();!i.done;i=n.next()){i=i.value;var r=i.get(e-t);if(r)return r;t+=i.i+i.g.length}return null},d.offset=function(){},d.Sc=function(){},d.Gb=function(){},d.kc=function(){},d.wb=function(){},d.Nd=function(){},R("shaka.media.MetaSegmentIndex",De),De.prototype.updateEvery=De.prototype.Nd,De.prototype.fit=De.prototype.wb,De.prototype.mergeAndEvict=De.prototype.kc,De.prototype.evict=De.prototype.Gb,De.prototype.merge=De.prototype.Sc,De.prototype.offset=De.prototype.offset,De.prototype.get=De.prototype.get,De.prototype.find=De.prototype.find,De.prototype.release=De.prototype.release;function Ur(e){var t=this;this.g=e,this.j=!1,this.i=this.g.wd(),this.h=new q(function(){t.g.Of(.25*t.i)})}Ur.prototype.release=function(){this.h&&(this.h.stop(),this.h=null),this.g=null},Ur.prototype.set=function(e){this.i=e,Vf(this)},Ur.prototype.td=function(){return this.g.td()};function Vf(e){e.h.stop();var t=e.j?0:e.i;if(0<=t)try{e.g.wd()!=t&&e.g.Pe(t);return}catch{}e.h.ha(.25),e.g.wd()!=0&&e.g.Pe(0)}function Kf(e){var t=this;this.h=e,this.g=new Set,this.i=new q(function(){zf(t,!1)}).ha(.25)}Kf.prototype.release=function(){this.i.stop();for(var e=p(this.g),t=e.next();!t.done;t=e.next())t.value.release();this.g.clear()};function zf(e,t){for(var n=p(e.g),i=n.next();!i.done;i=n.next())i.value.j(e.h.currentTime,t)}function ru(e){oe.call(this),this.g=new Map,this.h=e}K(ru,oe),ru.prototype.release=function(){this.g.clear(),oe.prototype.release.call(this)};function V1(e,t){var n=e.g.get(t);return n||(n={Uc:[],Af:null,contentType:t},e.g.set(t,n)),n}function K1(e,t,n){var i=V1(e,t.contentType);z1(e,i),e={we:t,position:n},i=i.Uc,t=i.findIndex(function(r){return r.position>=n}),0<=t?i.splice(t,i[t].position==n?1:0,e):i.push(e)}ru.prototype.j=function(e){for(var t=p(this.g.values()),n=t.next();!n.done;n=t.next()){n=n.value;e:{for(var i=n.Uc,r=i.length-1;0<=r;r--){var o=i[r];if(o.position<=e){i=o.we;break e}}i=null}if((r=i)&&(r=n.Af,r=!(r===i||r&&i&&r.bandwidth==i.bandwidth&&r.audioSamplingRate==i.audioSamplingRate&&r.codecs==i.codecs&&r.contentType==i.contentType&&r.frameRate==i.frameRate&&r.height==i.height&&r.mimeType==i.mimeType&&r.channelsCount==i.channelsCount&&r.pixelAspectRatio==i.pixelAspectRatio&&r.width==i.width)),r)e:{if(r=e,o=i.contentType,(o=this.h()[o])&&0<o.length){var u=o[o.length-1].end;if(r>=o[0].start&&r<u){r=!0;break e}}r=!1}r&&(n.Af=i,JSON.stringify(i),n=new U("qualitychange",new Map([["quality",i],["position",e]])),this.dispatchEvent(n))}};function z1(e,t){if((e=e.h()[t.contentType])&&0<e.length){var n=e[0].start,i=e[e.length-1].end,r=t.Uc;t.Uc=r.filter(function(o,u){return!(o.position<=n&&u+1<r.length&&r[u+1].position<=n||o.position>=i)})}else t.Uc=[]}function Na(e){oe.call(this);var t=this;this.g=new Set,this.i=e,this.h=new q(function(){for(var n=t.i(),i=p(t.g),r=i.next();!r.done;r=i.next())r=r.value,r.endTime<n.start&&(t.g.delete(r),r=new U("regionremove",new Map([["region",r]])),t.dispatchEvent(r))}).ha(2)}K(Na,oe),Na.prototype.release=function(){this.g.clear(),this.h.stop(),oe.prototype.release.call(this)};function ou(e){oe.call(this);var t=this;this.i=e,this.g=new Map,this.l=[{Vb:null,Ub:Fi,Kb:function(n,i){return ni(t,"enter",n,i)}},{Vb:br,Ub:Fi,Kb:function(n,i){return ni(t,"enter",n,i)}},{Vb:jr,Ub:Fi,Kb:function(n,i){return ni(t,"enter",n,i)}},{Vb:Fi,Ub:br,Kb:function(n,i){return ni(t,"exit",n,i)}},{Vb:Fi,Ub:jr,Kb:function(n,i){return ni(t,"exit",n,i)}},{Vb:br,Ub:jr,Kb:function(n,i){return ni(t,"skip",n,i)}},{Vb:jr,Ub:br,Kb:function(n,i){return ni(t,"skip",n,i)}}],this.h=new ye,this.h.o(this.i,"regionremove",function(n){t.g.delete(n.region)})}K(ou,oe),ou.prototype.release=function(){this.i=null,this.g.clear(),this.h.release(),this.h=null,oe.prototype.release.call(this)},ou.prototype.j=function(e,t){for(var n=p(this.i.g),i=n.next();!i.done;i=n.next()){i=i.value;var r=this.g.get(i),o=e<i.startTime?br:e>i.endTime?jr:Fi;this.g.set(i,o);for(var u=p(this.l),s=u.next();!s.done;s=u.next())s=s.value,s.Vb==r&&s.Ub==o&&s.Kb(i,t)}};function ni(e,t,n,i){t=new U(t,new Map([["region",n],["seeking",i]])),e.dispatchEvent(t)}var br=1,Fi=2,jr=3;function Ra(e,t,n,i,r){return e=St(e,i,r),(t!=0||n!=null)&&(e.headers.Range=n?"bytes="+t+"-"+n:"bytes="+t+"-"),e}function qf(e,t){var n=this;this.g=t,this.m=e,this.i=null,this.C=1,this.s=this.l=null,this.H=0,this.G=!1,this.j=new Map,this.F=!1,this.I=null,this.B=!1,this.h=new Yn(function(){return q1(n)})}d=qf.prototype,d.destroy=function(){return this.h.destroy()};function q1(e){var t,n,i,r;return I(function(o){if(o.g==1){for(t=[],n=p(e.j.values()),i=n.next();!i.done;i=n.next())r=i.value,Fr(r),t.push(Yf(r));return m(o,Promise.all(t),2)}e.j.clear(),e.g=null,e.m=null,e.i=null,P(o)})}d.configure=function(e){this.i=e,this.I=new hd({maxAttempts:Math.max(e.retryParameters.maxAttempts,2),baseDelay:e.retryParameters.baseDelay,backoffFactor:e.retryParameters.backoffFactor,fuzzFactor:e.retryParameters.fuzzFactor,timeout:0,stallTimeout:0,connectionTimeout:0},!0)},d.start=function(){var e=this;return I(function(t){if(t.g==1)return m(t,J1(e),2);ve(e.h),e.F=!0,P(t)})};function H1(e,t){var n,i,r,o,u,s;I(function(a){switch(a.g){case 1:return n=Ze,e.H++,i=e.H,ee(a,2),m(a,If(e.g.S,n.ba),4);case 4:le(a,3);break;case 2:r=te(a),e.g&&e.g.onError(r);case 3:o=Qt(t.mimeType,t.codecs),Or(e.g.S,o,e.m.sequenceMode),u=e.g.S.m,(u.isTextVisible()||e.i.alwaysStreamText)&&e.H==i&&(s=Wf(t),e.j.set(n.ba,s),xt(e,s,0)),P(a)}})}function X1(e){var t=e.j.get(fe);t&&(Fr(t),Yf(t).catch(function(){}),e.j.delete(fe)),e.s=null}function Hf(e,t){var n=e.j.get("video");if(n){var i=n.stream;i&&(t?(t=i.trickModeVideo)&&!n.Sb&&(Bi(e,t,!1,0,!1),n.Sb=i):(i=n.Sb)&&(n.Sb=null,Bi(e,i,!0,0,!1)))}}function Xf(e,t,n,i,r,o){n=n===void 0?!1:n,i=i===void 0?0:i,r=r===void 0?!1:r,o=o===void 0?!1:o,e.l=t,e.F&&(t.video&&Bi(e,t.video,n,i,r,o),t.audio&&Bi(e,t.audio,n,i,r,o))}function uu(e,t){I(function(n){if(n.g==1)return e.s=t,e.F?t.segmentIndex?n.D(2):m(n,t.createSegmentIndex(),2):n.return();Bi(e,t,!0,0,!1),P(n)})}function Bi(e,t,n,i,r,o){var u=e.j.get(t.type);u||t.type!=fe?u&&(u.Sb&&(t.trickModeVideo?(u.Sb=t,t=t.trickModeVideo):u.Sb=null),u.stream!=t||r)&&(t.type==fe&&Or(e.g.S,Qt(t.mimeType,t.codecs),e.m.sequenceMode),u.stream.closeSegmentIndex&&u.stream.closeSegmentIndex(),u.stream=t,u.qa=null,u.pf=!!o,n&&(u.Cc?u.Pd=!0:u.Ia?(u.Eb=!0,u.qd=i,u.Pd=!0):(Fr(u),Oa(e,u,!0,i).catch(function(s){e.g&&e.g.onError(s)}))),W1(e,u).catch(function(s){e.g&&e.g.onError(s)})):H1(e,t)}function W1(e,t){var n,i;return I(function(r){if(r.g==1)return t.Ka?(n=t.stream,i=t.Ka,n.segmentIndex?r.D(2):m(r,n.createSegmentIndex(),2)):r.return();if(t.Ka!=i||t.stream!=n)return r.return();var o=e.g.vd(),u=nu(e.g.S,t.type),s=t.stream.segmentIndex.find(t.Ga?t.Ga.endTime:o),a=s==null?null:t.stream.segmentIndex.get(s);s=a&&a.Ca?a.Ca-a.Ta:null,a&&!s&&(s=(a.endTime-a.getStartTime())*(t.stream.bandwidth||0)/8),s?((a=a.h)&&(s+=(a.Ca?a.Ca-a.Ta:null)||0),a=e.g.getBandwidthEstimate(),o=8*s/a<(u||0)-o-Math.max(e.m.minBufferTime||0,e.i.rebufferingGoal)||t.Ka.h.g>s):o=!1,o&&t.Ka.abort(),P(r)})}d.Xc=function(){if(this.g)for(var e=this.g.vd(),t=p(this.j.keys()),n=t.next();!n.done;n=t.next()){var i=n.value;n=this.j.get(i),n.qa=null;var r=this.g.S;if(i==fe?(r=r.g,r=r.g==null||r.h==null?!1:e>=r.g&&e<r.h):(r=ei(r,i),r=Ta(r,e)),!r){if((nu(this.g.S,i)!=null||n.Ia)&&Y1(this,n),n.Ka&&(n.Ka.abort(),n.Ka=null),i===fe&&(i=this.g.S,i.B))for(i=i.B.g,i.l=0,i.h=[],i.g=[],r=i.i,r.i=[],r.h=[],r.g=0,fa(i),i=p(i.j.values()),r=i.next();!r.done;r=i.next())of(r.value);n.Xc=!0}}};function Y1(e,t){t.Cc||t.Eb||(t.Ia?(t.Eb=!0,t.qd=0):Sf(e.g.S,t.type)==null?t.eb==null&&xt(e,t,0):(Fr(t),Oa(e,t,!1,0).catch(function(n){e.g&&e.g.onError(n)})))}function J1(e){var t,n,i,r,o,u,s,a,l,c;return I(function(f){if(f.g==1){if(t=Ze,!e.l)throw new S(2,5,5006);return n=new Map,i=new Set,e.l.audio&&(n.set(t.jd,e.l.audio),i.add(e.l.audio)),e.l.video&&(n.set(t.Ma,e.l.video),i.add(e.l.video)),e.s&&(n.set(t.ba,e.s),i.add(e.s)),r=e.g.S,o=e.i.forceTransmux,m(f,r.init(n,o,e.m.sequenceMode),2)}for(ve(e.h),e.updateDuration(),u=p(n.keys()),s=u.next();!s.done;s=u.next())a=s.value,l=n.get(a),e.j.has(a)||(c=Wf(l),e.j.set(a,c),xt(e,c,0));P(f)})}function Wf(e){return{stream:e,type:e.type,qa:null,Ga:null,yd:null,se:null,re:null,qe:null,Sb:null,endOfStream:!1,Ia:!1,eb:null,Eb:!1,qd:0,Pd:!1,Cc:!1,Xc:!0,ye:!1,Ee:!1,Mc:!1,Ka:null}}d.updateDuration=function(){var e=this.m.presentationTimeline.getDuration();1/0>e?this.g.S.Sa(e):this.g.S.Sa(Math.pow(2,32))};function Z1(e,t){var n,i,r,o,u;return I(function(s){switch(s.g){case 1:if(ve(e.h),t.Ia||t.eb==null||t.Cc)return s.return();if(t.eb=null,!t.Eb){s.D(2);break}return m(s,Oa(e,t,t.Pd,t.qd),3);case 3:return s.return();case 2:if(t.stream.segmentIndex){s.D(4);break}return n=t.stream,m(s,t.stream.createSegmentIndex(),5);case 5:if(n!=t.stream)return n.closeSegmentIndex&&n.closeSegmentIndex(),t.Ia||t.eb||xt(e,t,0),s.return();case 4:ee(s,6),i=Q1(e,t),i!=null&&(xt(e,t,i),t.Mc=!1),le(s,7);break;case 6:return r=te(s),m(s,Jf(e,r),8);case 8:return s.return();case 7:if(o=Array.from(e.j.values()),!e.F||!o.every(function(a){return a.endOfStream})){s.D(0);break}return m(s,e.g.S.endOfStream(),10);case 10:ve(e.h),u=e.g.S.getDuration(),u!=0&&u<e.m.presentationTimeline.getDuration()&&e.m.presentationTimeline.Sa(u),P(s)}})}function Q1(e,t){if(Da(t))return R1(e.g.S,t.stream.originalId||""),null;t.type==fe&&_1(e.g.S);var n=e.g.vd(),i=t.Ga?t.Ga.endTime:n,r=N1(e.g.S,t.type,n),o=Math.max(e.m.minBufferTime||0,e.i.rebufferingGoal,e.i.bufferingGoal)*e.C,u=e.m.presentationTimeline.getDuration()-i,s=nu(e.g.S,t.type);if(1e-6>u&&s)return t.endOfStream=!0,t.type=="video"&&(e=e.j.get(fe))&&Da(e)&&(e.endOfStream=!0),null;if(t.endOfStream=!1,r>=o)return e.i.updateIntervalSeconds/2;if(r=$1(e,t,n,s),!r)return e.i.updateIntervalSeconds;for(o=1/0,u=Array.from(e.j.values()),u=p(u),s=u.next();!s.done;s=u.next())s=s.value,Da(s)||s.qa&&!s.qa.current()||(o=Math.min(o,s.Ga?s.Ga.endTime:n));return i>=o+e.m.presentationTimeline.g?e.i.updateIntervalSeconds:(eE(e,t,n,r).catch(function(){}),null)}function $1(e,t,n,i){if(t.qa)return t.qa.current();if(t.Ga||i)return n=t.Ga?t.Ga.endTime:i,t.ye=!0,t.qa=t.stream.segmentIndex.bc(n),t.qa&&t.qa.next().value;e=e.i.inaccurateManifestTolerance,i=Math.max(n-e,0);var r=null;return e&&(t.qa=t.stream.segmentIndex.bc(i),r=t.qa&&t.qa.next().value),r||(t.qa=t.stream.segmentIndex.bc(n),r=t.qa&&t.qa.next().value),r}function eE(e,t,n,i){var r,o,u,s,a,l,c,f,h,g,v,T,E,y,x;return I(function(A){switch(A.g){case 1:if(r=Ze,o=t.stream,u=t.qa,t.Ia=!0,ee(A,2),i.ec()==2)throw new S(1,1,1011);return m(A,rE(e,t,i),4);case 4:return ve(e.h),e.B?A.return():(s=o.mimeType=="video/mp4"||o.mimeType=="audio/mp4",a=M.ReadableStream,e.i.lowLatencyMode&&a&&s&&!i.m?(f=new Uint8Array(0),g=h=!1,v=function(w){var C,k,N;return I(function(_){return h||(g=!0,ve(e.h),e.B)?_.return():(f=nE(f,w),C=!1,k=0,new Ae().box("mdat",function(D){k=D.size+D.start,C=!0}).parse(f,!1,!0),C?(N=f.subarray(0,k),f=f.subarray(k),m(_,_a(e,t,n,o,i,N),0)):_.D(0))})},m(A,Pa(e,t,i,v),11)):(l=Pa(e,t,i),m(A,l,7)));case 7:if(c=A.h,ve(e.h),e.B)return A.return();if(!i.m){A.D(8);break}return m(A,tE(c,i,u),9);case 9:c=A.h;case 8:return ve(e.h),t.Eb?(t.Ia=!1,xt(e,t,0),A.return()):m(A,_a(e,t,n,o,i,c),6);case 11:if(T=A.h,g){A.D(6);break}return h=!0,ve(e.h),e.B?A.return():t.Eb?(t.Ia=!1,xt(e,t,0),A.return()):m(A,_a(e,t,n,o,i,T),6);case 6:if(ve(e.h),e.B)return A.return();t.Ga=i,u.next(),t.Ia=!1,t.Ee=!1,E=e.g.S.ib(),y=E[t.type],JSON.stringify(y),t.Eb||e.g.Ce(i.startTime,i.endTime,t.type),xt(e,t,0),le(A,0);break;case 2:if(x=te(A),ve(e.h,x),e.B)return A.return();if(t.Ia=!1,x.code==7001)t.Ia=!1,Fr(t),xt(e,t,0),A.D(0);else if(t.type==r.ba&&e.i.ignoreTextStreamFailures)e.j.delete(r.ba),A.D(0);else if(x.code==3017)iE(e,t,x),A.D(0);else return t.Mc=!0,x.severity=2,m(A,Jf(e,x),0)}})}function tE(e,t,n){var i,r,o,u;return I(function(s){if(s.g==1)return i=t.m,i.cryptoKey?s.D(2):m(s,i.fetchKey(),3);if(r=i.iv,!r)for(r=ue(new ArrayBuffer(16)),o=i.firstMediaSequenceNumber+n.g,u=r.byteLength-1;0<=u;u--)r[u]=o&255,o>>=8;return s.return(M.crypto.subtle.decrypt({name:"AES-CBC",iv:r},i.cryptoKey,e))})}function nE(e,t){var n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n}function iE(e,t,n){if(!Array.from(e.j.values()).some(function(r){return r!=t&&r.Ee})){var i=Math.round(100*e.C);if(20<i)e.C-=.2;else if(4<i)e.C-=.04;else{t.Mc=!0,e.B=!0,e.g.onError(n);return}t.Ee=!0}xt(e,t,4)}function rE(e,t,n){var i,r,o,u,s,a,l,c;return I(function(f){return i=[],r=Math.max(0,n.appendWindowStart-.1),o=n.appendWindowEnd+.01,u=n.timestampOffset,(u!=t.se||r!=t.re||o!=t.qe)&&(s=function(){var h;return I(function(g){if(g.g==1)return ee(g,2),t.re=r,t.qe=o,t.se=u,m(g,D1(e.g.S,t.type,u,r,o,e.m.sequenceMode),4);if(g.g!=2)return le(g,0);throw h=te(g),t.re=null,t.qe=null,t.se=null,h})},i.push(s())),!A1(n.h,t.yd)&&(t.yd=n.h)&&(a=Pa(e,t,n.h),l=function(){var h,g,v,T;return I(function(E){switch(E.g){case 1:return ee(E,2),m(E,a,4);case 4:return h=E.h,ve(e.h),g=new Ae,g.box("moov",Me).box("trak",Me).box("mdia",Me).T("mdhd",function(y){y=ga(y.reader||0,y.version||0),n.h.timescale=y.timescale}).parse(h),v=t.stream.closedCaptions&&0<t.stream.closedCaptions.size,m(E,e.g.tf(t.type,h),5);case 5:return m(E,wf(e.g.S,t.type,h,null,v),6);case 6:le(E,0);break;case 2:throw T=te(E),t.yd=null,T}})},e.g.nh(n.startTime,n.h),i.push(l())),c=t.Ga?t.Ga.j:null,e.m.sequenceMode?(n.j!=c||t.ye)&&(t.ye=!1,i.push(xf(e.g.S,t.type,n.startTime))):n.j!=c&&i.push(xf(e.g.S,t.type,n.timestampOffset)),m(f,Promise.all(i),0)})}function _a(e,t,n,i,r,o){var u,s,a,l,c,f;return I(function(h){switch(h.g){case 1:return u=i.closedCaptions&&0<i.closedCaptions.size,a=i.emsgSchemeIdUris!=null&&0<i.emsgSchemeIdUris.length||e.i.dispatchAllEmsgBoxes,l=e.i.parsePrftBox&&!e.G,(a||l)&&(s=new Ae),a&&s.T("emsg",function(g){var v=i.emsgSchemeIdUris;if(g.version===0)var T=g.reader.Vc(),E=g.reader.Vc(),y=g.reader.N(),x=g.reader.N(),A=g.reader.N(),w=g.reader.N(),C=r.startTime+x/y;else y=g.reader.N(),C=g.reader.Cb()/y+r.timestampOffset,x=C-r.startTime,A=g.reader.N(),w=g.reader.N(),T=g.reader.Vc(),E=g.reader.Vc();g=g.reader.Bb(g.reader.W.byteLength-g.reader.ma()),(v&&v.includes(T)||e.i.dispatchAllEmsgBoxes)&&(T=="urn:mpeg:dash:event:2012"?e.g.oh():T=="https://aomedia.org/emsg/ID3"?(v=eu(g),v.length&&r&&e.g.ph([{cueTime:r.startTime,data:g,frames:v,dts:r.startTime,pts:r.startTime}],0,r.endTime)):(v=new Map().set("detail",{startTime:C,endTime:C+A/y,schemeIdUri:T,value:E,timescale:y,presentationTimeDelta:x,eventDuration:A,id:w,messageData:g}),v=new U("emsg",v),e.g.onEvent(v)))}),l&&s.T("prft",function(g){e:{if(!e.G&&r.h.timescale){g.reader.N();var v=g.reader.N(),T=g.reader.N();if(v=1e3*v+T/Math.pow(2,32)*1e3,g.version===0)var E=g.reader.N();else try{E=g.reader.Cb()}catch{e.G=!0,E=void 0;break e}g=new Date(new Date(Date.UTC(1900,0,1,0,0,0)).getTime()+v).getTime(),E=new Map().set("detail",{wallClockTime:g,programStartDate:new Date(g-E/r.h.timescale*1e3)}),E=new U("prft",E),e.g.onEvent(E),e.G=!0}E=void 0}return E}),(a||l)&&s.parse(o),m(h,oE(e,t,n),2);case 2:return ve(e.h),c=t.Xc,t.Xc=!1,f=t.pf,t.pf=!1,m(h,e.g.tf(t.type,o),3);case 3:return m(h,wf(e.g.S,t.type,o,r,u,c,f),4);case 4:ve(e.h),P(h)}})}function oE(e,t,n){var i,r,o,u;return I(function(s){if(s.g==1)return i=Math.max(e.i.bufferBehind,e.m.presentationTimeline.g),r=Sf(e.g.S,t.type),r==null?s.return():(o=n-r,u=o-i,.01>=u?s.return():m(s,e.g.S.remove(t.type,r,r+u),2));ve(e.h),P(s)})}function Da(e){return e&&e.type==fe&&(e.stream.mimeType=="application/cea-608"||e.stream.mimeType=="application/cea-708")}function Pa(e,t,n,i){var r,o,u,s,a;return I(function(l){return l.g==1?(r=Rn,o=Ra(n.Pa(),n.Ta,n.Ca,e.i.retryParameters,i),u=t.stream,e.g.modifySegmentRequest(o,{type:u.type,init:n instanceof It,duration:n.endTime-n.startTime,mimeType:u.mimeType,codecs:u.codecs,bandwidth:u.bandwidth}),s=e.g.Ob.request(r,o),t.Ka=s,m(l,s.promise,2)):(a=l.h,t.Ka=null,l.return(a.data))})}function Oa(e,t,n,i){var r,o;return I(function(u){if(u.g==1)return t.Eb=!1,t.Pd=!1,t.qd=0,t.Cc=!0,t.Ga=null,t.yd=null,t.qa=null,i?(r=e.g.vd(),o=e.g.S.getDuration(),m(u,e.g.S.remove(t.type,r+i,o),3)):m(u,If(e.g.S,t.type),4);if(u.g!=3)return ve(e.h),n?m(u,e.g.S.flush(t.type),3):u.D(3);ve(e.h),t.Cc=!1,t.endOfStream=!1,t.Ia||t.eb||xt(e,t,0),P(u)})}function xt(e,t,n){var i=t.type;(i!=fe||e.j.has(i))&&(t.eb=new pr(function(){var r;return I(function(o){if(o.g==1)return ee(o,2),m(o,Z1(e,t),4);if(o.g!=2)return le(o,0);r=te(o),e.g&&e.g.onError(r),P(o)})}).R(n))}function Fr(e){e.eb!=null&&(e.eb.stop(),e.eb=null)}function Yf(e){return I(function(t){return e.Ka?m(t,e.Ka.abort(),0):t.D(0)})}function Jf(e,t){return I(function(n){if(n.g==1)return m(n,dd(e.I),2);ve(e.h),e.g.onError(t),t.handled||e.i.failureCallback(t),P(n)})}function Zf(e,t){var n=qi(),i=this;this.j=t,this.i=e,this.l=n,this.s=null,this.m=[],this.h=this.g=null,this.C=Promise.resolve().then(function(){return sE(i)}),this.B=new Yn(function(){return uE(i)})}Zf.prototype.destroy=function(){return this.B.destroy()};function uE(e){var t,n,i;return I(function(r){if(r.g==1)return e.h&&e.h.abort(),Qf(e),m(r,e.C,2);for(e.g&&e.g.bb.Qb(),t=p(e.m),n=t.next();!n.done;n=t.next())i=n.value,i.bb.Qb();e.g=null,e.m=[],e.j=null,P(r)})}function Br(e,t){var n={mc:function(){},Ed:function(){},Qb:function(){},onError:function(){},Gd:function(){},rj:function(){}};return e.m.push({create:t,bb:n}),e.h&&e.h.abort(),Qf(e),n}function sE(e){return I(function(t){if(e.B.g)t=t.D(0);else{if(e.m.length==0||e.g&&!e.g.Jb)var n=!1;else{e.g&&(e.g.bb.Qb(),e.g=null),n=e.m.shift();var i=n.create(e.l);i?(n.bb.mc(),e.g={node:i.node,payload:i.payload,Jb:i.Jb,bb:n.bb}):n.bb.Gd(),n=!0}n?n=Promise.resolve():e.g?n=aE(e):(e.j.mh(e.i),e.s=new we,n=e.s),t=m(t,n,1)}return t})}function aE(e){var t,n;return I(function(i){switch(i.g){case 1:return e.i=e.j.Rg(e.i,e.l,e.g.node,e.g.payload),ee(i,2),e.h=e.j.wg(e.i,e.l,e.g.payload),m(i,e.h.promise,4);case 4:e.h=null,e.i==e.g.node&&(e.g.bb.Ed(),e.g=null),le(i,0);break;case 2:return t=te(i),t.code==7001?e.g.bb.Qb():e.g.bb.onError(t),e.g=null,e.h=null,n=e,m(i,e.j.handleError(e.l,t),5);case 5:n.i=i.h,P(i)}})}function Qf(e){e.s&&(e.s.resolve(),e.s=null)}function $f(e){var t=[],n=700<=e.fontWeight,i=e.fontStyle=="italic",r=e.textDecoration.includes("underline");return n&&t.push("b"),i&&t.push("i"),r&&t.push("u"),n=t.reduce(function(o,u){return o+"<"+u+">"},""),t=t.reduceRight(function(o,u){return o+"</"+u+">"},""),e.lineBreak?`
`:e.nestedCues.length?e.nestedCues.map($f).join(""):n+e.payload+t}function Ua(e,t){e=p(e);for(var n=e.next();!n.done;n=e.next())if(n=n.value,n.isContainer)Ua(n.nestedCues,t);else{var i=n.clone();i.nestedCues=[],i.payload=$f(n),t.push(i)}return t}function gt(e){this.g=null;for(var t=p(Array.from(e.textTracks)),n=t.next();!n.done;n=t.next())n=n.value,n.mode="disabled",n.label=="Shaka Player TextTrack"&&(this.g=n);this.g||(this.g=e.addTextTrack("subtitles","Shaka Player TextTrack")),this.g.mode="hidden"}d=gt.prototype,d.remove=function(e,t){return this.g?(ep(this.g,function(n){return n.startTime<t&&n.endTime>e}),!0):!1},d.append=function(e){var t=Ua(e,[]),n=[];e=this.g.cues?Array.from(this.g.cues):[];var i={};t=p(t);for(var r=t.next();!r.done;i={Wb:i.Wb},r=t.next())i.Wb=r.value,e.some(function(o){return function(u){return u.startTime==o.Wb.startTime&&u.endTime==o.Wb.endTime&&u.text==o.Wb.payload}}(i))||(r=lE(i.Wb))&&n.push(r);for(e=n.slice().sort(function(o,u){return o.startTime!=u.startTime?o.startTime-u.startTime:o.endTime!=u.endTime?o.endTime-u.startTime:"line"in VTTCue.prototype?n.indexOf(u)-n.indexOf(o):n.indexOf(o)-n.indexOf(u)}),e=p(e),i=e.next();!i.done;i=e.next())this.g.addCue(i.value)},d.destroy=function(){return this.g&&(ep(this.g,function(){return!0}),this.g.mode="disabled"),this.g=null,Promise.resolve()},d.isTextVisible=function(){return this.g.mode=="showing"},d.setTextVisibility=function(e){this.g.mode=e?"showing":"hidden"};function lE(e){if(e.startTime>=e.endTime)return null;var t=new VTTCue(e.startTime,e.endTime,e.payload);t.lineAlign=e.lineAlign,t.positionAlign=e.positionAlign,e.size&&(t.size=e.size);try{t.align=e.textAlign}catch{}return e.textAlign=="center"&&t.align!="center"&&(t.align="middle"),e.writingMode=="vertical-lr"?t.vertical="lr":e.writingMode=="vertical-rl"&&(t.vertical="rl"),e.lineInterpretation==1&&(t.snapToLines=!1),e.line!=null&&(t.line=e.line),e.position!=null&&(t.position=e.position),t}function ep(e,t){var n=e.mode;e.mode=n=="showing"?"showing":"hidden";for(var i=p(Array.from(e.cues)),r=i.next();!r.done;r=i.next())(r=r.value)&&t(r)&&e.removeCue(r);e.mode=n}R("shaka.text.SimpleTextDisplayer",gt),gt.prototype.setTextVisibility=gt.prototype.setTextVisibility,gt.prototype.isTextVisible=gt.prototype.isTextVisible,gt.prototype.destroy=gt.prototype.destroy,gt.prototype.append=gt.prototype.append,gt.prototype.remove=gt.prototype.remove;function tp(){}function b(e){return document.createElement(e)}function Be(){var e=document.createElement("button");return e.setAttribute("type","button"),e}function ii(e){for(;e.firstChild;)e.removeChild(e.firstChild)}R("shaka.util.Dom",tp),tp.removeAllChildren=ii;function mt(e,t){var n=this;this.j=!1,this.i=[],this.F=e,this.m=t,this.g=b("div"),this.g.classList.add("shaka-text-container"),this.g.style.textAlign="center",this.g.style.display="flex",this.g.style.flexDirection="column",this.g.style.alignItems="center",this.g.style.justifyContent="flex-end",this.m.appendChild(this.g),this.C=new q(function(){Gr(n)}).ha(.25),this.h=new Map,this.B=new ye,this.B.o(document,"fullscreenchange",function(){Gr(n,!0)}),this.l=null,"ResizeObserver"in M&&(this.l=new ResizeObserver(function(){Gr(n,!0)}),this.l.observe(this.g)),this.s=new Map}d=mt.prototype,d.append=function(e){var t=[].concat(se(this.i)),n={};e=p(e);for(var i=e.next();!i.done;n={dd:n.dd},i=e.next())n.dd=i.value,t.some(function(r){return function(o){return xh(o,r.dd)}}(n))||this.i.push(n.dd);Gr(this)},d.destroy=function(){this.m.removeChild(this.g),this.g=null,this.j=!1,this.i=[],this.C&&this.C.stop(),this.h.clear(),this.B&&(this.B.release(),this.B=null),this.l&&(this.l.disconnect(),this.l=null)},d.remove=function(e,t){if(!this.g)return!1;var n=this.i.length;return this.i=this.i.filter(function(i){return i.startTime<e||i.endTime>=t}),Gr(this,n>this.i.length),!0},d.isTextVisible=function(){return this.j},d.setTextVisibility=function(e){this.j=e};function cE(e,t){for(;t!=null;){if(t==e.g)return!0;t=t.parentElement}return!1}function np(e,t,n,i,r){var o=!1,u=[],s=[];t=p(t);for(var a=t.next();!a.done;a=t.next()){a=a.value,r.push(a);var l=e.h.get(a),c=a.startTime<=i&&a.endTime>i,f=l?l.fg:null;l&&(u.push(l.je),l.Wc&&u.push(l.Wc),c||(o=!0,e.h.delete(a),l=null)),c&&(s.push(a),l?cE(e,f)||(o=!0):(hE(e,a,r),l=e.h.get(a),f=l.fg,o=!0)),0<a.nestedCues.length&&f&&np(e,a.nestedCues,f,i,r),r.pop()}if(o){for(i=p(u),r=i.next();!r.done;r=i.next())r=r.value,r.parentElement&&r.parentElement.removeChild(r);for(s.sort(function(h,g){return h.startTime!=g.startTime?h.startTime-g.startTime:h.endTime-g.endTime}),s=p(s),a=s.next();!a.done;a=s.next())i=e.h.get(a.value),i.Wc?(n.appendChild(i.Wc),i.Wc.appendChild(i.je)):n.appendChild(i.je)}}function Gr(e,t){if(e.g){var n=e.F.currentTime;if(!e.j||t!==void 0&&t){t=p(e.s.values());for(var i=t.next();!i.done;i=t.next())ii(i.value);ii(e.g),e.h.clear(),e.s.clear()}if(e.j){t=new Map,i=p(e.h.keys());for(var r=i.next();!r.done;r=i.next())r=r.value,t.set(r,e.h.get(r));np(e,e.i,e.g,n,[])}}}function hE(e,t,n){var i=1<n.length,r=i?"span":"div";t.lineBreak&&(r="br"),i=!i&&0<t.nestedCues.length;var o=b(r);if(r!="br"&&dE(e,o,t,n,i),n=null,t.region&&t.region.id)if(n=t.region,r=n.id+"_"+n.width+"x"+n.height+(n.heightUnits==Zt?"%":"px")+"-"+n.viewportAnchorX+"x"+n.viewportAnchorY+(n.viewportAnchorUnits==Zt?"%":"px"),e.s.has(r))n=e.s.get(r);else{var u=b("span"),s=n.heightUnits==Zt?"%":"px",a=n.widthUnits==Zt?"%":"px",l=n.viewportAnchorUnits==Zt?"%":"px";u.id="shaka-text-region---"+r,u.classList.add("shaka-text-region"),u.style.height=n.height+s,u.style.width=n.width+a,u.style.position="absolute",u.style.top=n.viewportAnchorY+l,u.style.left=n.viewportAnchorX+l,u.style.display="flex",u.style.flexDirection="column",u.style.alignItems="center",u.style.justifyContent=t.displayAlign=="before"?"flex-start":t.displayAlign=="center"?"center":"flex-end",e.s.set(r,u),n=u}r=o,i&&(r=b("span"),r.classList.add("shaka-text-wrapper"),r.style.backgroundColor=t.backgroundColor,r.style.lineHeight="normal",o.appendChild(r)),e.h.set(t,{je:o,fg:r,Wc:n})}function dE(e,t,n,i,r){var o=t.style,u=n.nestedCues.length==0,s=1<i.length;o.whiteSpace="pre-wrap";var a=n.payload.replace(/\s+$/g,function(c){return" ".repeat(c.length)});if(o.webkitTextStrokeColor=n.textStrokeColor,o.webkitTextStrokeWidth=n.textStrokeWidth,o.color=n.color,o.direction=n.direction,o.opacity=n.opacity,o.paddingLeft=ba(n.linePadding,n,e.m),o.paddingRight=ba(n.linePadding,n,e.m),o.textShadow=n.textShadow,n.backgroundImage)o.backgroundImage="url('"+n.backgroundImage+"')",o.backgroundRepeat="no-repeat",o.backgroundSize="contain",o.backgroundPosition="center",o.width="100%",o.height="100%";else{if(n.nestedCues.length)var l=t;else l=b("span"),t.appendChild(l);n.border&&(l.style.border=n.border),r||((t=fE(i,function(c){return c.backgroundColor}))?l.style.backgroundColor=t:a&&(l.style.backgroundColor="rgba(0, 0, 0, 0.8)")),a&&(l.textContent=a)}s&&!i[i.length-1].isContainer?o.display="inline":(o.display="flex",o.flexDirection="column",o.alignItems="center",o.justifyContent=n.displayAlign=="before"?"flex-start":n.displayAlign=="center"?"center":"flex-end"),u||(o.margin="0"),o.fontFamily=n.fontFamily,o.fontWeight=n.fontWeight.toString(),o.fontStyle=n.fontStyle,o.letterSpacing=n.letterSpacing,o.fontSize=ba(n.fontSize,n,e.m),n.line!=null&&n.lineInterpretation==1&&(o.position="absolute",n.writingMode==dr?(o.width="100%",n.lineAlign==Gn?o.top=n.line+"%":n.lineAlign=="end"&&(o.bottom=100-n.line+"%")):n.writingMode=="vertical-lr"?(o.height="100%",n.lineAlign==Gn?o.left=n.line+"%":n.lineAlign=="end"&&(o.right=100-n.line+"%")):(o.height="100%",n.lineAlign==Gn?o.right=n.line+"%":n.lineAlign=="end"&&(o.left=100-n.line+"%"))),o.lineHeight=n.lineHeight,n.position!=null&&(n.writingMode==dr?o.paddingLeft=n.position:o.paddingTop=n.position),n.positionAlign=="line-left"?o.cssFloat="left":n.positionAlign=="line-right"&&(o.cssFloat="right"),o.textAlign=n.textAlign,o.textDecoration=n.textDecoration.join(" "),o.writingMode=n.writingMode,"writingMode"in document.documentElement.style&&o.writingMode==n.writingMode||(o.webkitWritingMode=n.writingMode),n.size&&(n.writingMode==dr?o.width=n.size+"%":o.height=n.size+"%")}function ba(e,t,n){var i=(i=new RegExp(/(\d*\.?\d+)([a-z]+|%+)/).exec(e))?{value:Number(i[1]),unit:i[2]}:null;if(!i)return e;var r=i.value;switch(i.unit){case"%":return r/100*n.clientHeight/t.cellResolution.rows+"px";case"c":return n.clientHeight*r/t.cellResolution.rows+"px";default:return e}}function fE(e,t){for(var n=e.length-1;0<=n;n--){var i=t(e[n]);if(i||i===0)return i}return null}R("shaka.text.UITextDisplayer",mt),mt.prototype.setTextVisibility=mt.prototype.setTextVisibility,mt.prototype.isTextVisible=mt.prototype.isTextVisible,mt.prototype.remove=mt.prototype.remove,mt.prototype.destroy=mt.prototype.destroy,mt.prototype.append=mt.prototype.append;function pE(e,t){function n(o){for(var u=o,s=p(t),a=s.next();!a.done;a=s.next())a=a.value,a.end&&a.start<o&&(u+=a.end-a.start);return o=Math.floor(u/3600),s=Math.floor(u/60%60),a=Math.floor(u%60),u=Math.floor(1e3*u%1e3),(10>o?"0":"")+o+":"+(10>s?"0":"")+s+":"+(10>a?"0":"")+a+"."+(100>u?10>u?"00":"0":"")+u}var i=Ua(e,[]);e=`WEBVTT

`,i=p(i);for(var r=i.next();!r.done;r=i.next())r=r.value,e+=n(r.startTime)+" --> "+n(r.endTime)+function(o){var u=[];switch(o.textAlign){case"left":u.push("align:left");break;case"right":u.push("align:right");break;case an:u.push("align:middle");break;case"start":u.push("align:start");break;case"end":u.push("align:end")}switch(o.writingMode){case"vertical-lr":u.push("vertical:lr");break;case"vertical-rl":u.push("vertical:rl")}return u.length?" "+u.join(" "):""}(r)+`
`,e+=r.payload+`

`;return e}R("shaka.text.WebVttGenerator",function(){});function gE(e,t){this.h=e,this.g=t,this.j="",this.s=void 0,this.i=!1,this.m=!0,this.l=!1}function ip(e,t,n){try{if(e.g.enabled){var i={d:1e3*n.duration,st:e.h.U()?wE:SE};i.ot=vE(n);var r=i.ot===au||i.ot===Ga||i.ot===lu||i.ot===Ka;r&&(i.bl=yE(e,n.type)),n.bandwidth&&(i.br=n.bandwidth/1e3),r&&i.ot!==Ka&&(i.tb=EE(e,i.ot)/1e3),Fa(e,t,i)}}catch(o){jn("CMCD_SEGMENT_ERROR","Could not generate segment CMCD data.",o)}}function mE(e,t,n){try{if(!e.g.enabled)return t;var i=ja(e);e:{switch(n){case"video/webm":case"video/mp4":var r=lu;break e;case"application/x-mpegurl":r=rp;break e}r=void 0}i.ot=r,i.su=!0;var o=su(i);return Ba(t,o)}catch(u){return jn("CMCD_SRC_ERROR","Could not generate src CMCD data.",u),t}}function ja(e){return e.j||(e.j=e.g.sessionId||M.crypto.randomUUID()),{v:1,sf:e.s,sid:e.j,cid:e.g.contentId,mtp:e.h.getBandwidthEstimate()/1e3}}function Fa(e,t,n){n=n===void 0?{}:n;var i=i===void 0?e.g.useHeaders:i;if(e.g.enabled){Object.assign(n,ja(e)),n.pr=e.h.xb();var r=n.ot===au||n.ot===lu;if(e.l&&r&&(n.bs=!0,n.su=!0,e.l=!1),n.su==null&&(n.su=e.m),i)e=TE(n),Object.keys(e).length&&Object.assign(t.headers,e);else{var o=su(n);o&&(t.uris=t.uris.map(function(u){return Ba(u,o)}))}}}function vE(e){var t=e.type;if(e.init)return AE;if(t=="video")return e.codecs.includes(",")?lu:au;if(t=="audio")return Ga;if(t=="text")return e.mimeType==="application/mp4"?Ka:Va}function yE(e,t){if(t=e.h.ib()[t],!t.length)return NaN;var n=e.h.getCurrentTime();return(e=t.find(function(i){return i.start<=n&&i.end>=n}))?1e3*(e.end-n):NaN}function EE(e,t){var n=e.h.Qa();if(!n.length)return NaN;e=n[0],n=p(n);for(var i=n.next();!i.done;i=n.next())i=i.value,i.type==="variant"&&i.bandwidth>e.bandwidth&&(e=i);switch(t){case au:return e.videoBandwidth||NaN;case Ga:return e.audioBandwidth||NaN;default:return e.bandwidth}}function su(e){function t(f){return 100*n(f/100)}function n(f){return Math.round(f)}function i(f){return!Number.isNaN(f)&&f!=null&&f!==""&&f!==!1}var r=[],o={br:n,d:n,bl:t,dl:t,mtp:t,nor:function(f){return encodeURIComponent(f)},rtp:t,tb:n},u=Object.keys(e||{}).sort();u=p(u);for(var s=u.next();!s.done;s=u.next()){s=s.value;var a=e[s];if(i(a)&&(s!=="v"||a!==1)&&(s!="pr"||a!==1)){var l=o[s];l&&(a=l(a)),l=typeof a;var c=void 0;c=l==="string"&&s!=="ot"&&s!=="sf"&&s!=="st"?s+"="+JSON.stringify(a):l==="boolean"?s:l==="symbol"?s+"="+a.description:s+"="+a,r.push(c)}}return r.join(",")}function TE(e){var t=Object.keys(e),n={},i=["Object","Request","Session","Status"],r=[{},{},{},{}],o={br:0,d:0,ot:0,tb:0,bl:1,dl:1,mtp:1,nor:1,nrr:1,su:1,cid:2,pr:2,sf:2,sid:2,st:2,v:2,bs:3,rtp:3};t=p(t);for(var u=t.next();!u.done;u=t.next())u=u.value,r[o[u]!=null?o[u]:1][u]=e[u];for(e=0;e<r.length;e++)(o=su(r[e]))&&(n["CMCD-"+i[e]]=o);return n}function Ba(e,t){return!t||e.includes("offline:")?e:(e=new ft(e),e.g.set("CMCD",t),e.toString())}var rp="m",Ga="a",au="v",lu="av",AE="i",Va="c",Ka="tt",SE="v",wE="l";R("shaka.util.CmcdManager.StreamingFormat",{DASH:"d",HLS:"h",Wi:"s",Gi:"o"});function za(){}function Vr(e,t,n,i,r){var o=r in i,u=!0,s;for(s in t){var a=r+"."+s,l=o?i[r]:n[s];o||s in n?t[s]===void 0?l===void 0||o?delete e[s]:e[s]=_i(l):l.constructor==Object&&t[s]&&t[s].constructor==Object?(e[s]||(e[s]=_i(l)),a=Vr(e[s],t[s],l,i,a),u=u&&a):typeof t[s]!=typeof l||t[s]==null||typeof t[s]!="function"&&t[s].constructor!=l.constructor?(bn("Invalid config, wrong type for "+a),u=!1):(typeof n[s]=="function"&&n[s].length!=t[s].length&&pe("Unexpected number of arguments for "+a),e[s]=t[s]):(bn("Invalid config, unrecognized key "+a),u=!1)}return u}function cu(e,t){for(var n={},i=n,r=0,o=0;r=e.indexOf(".",r),!(0>r);)(r==0||e[r-1]!="\\")&&(o=e.substring(o,r).replace(/\\\./g,"."),i[o]={},i=i[o],o=r+1),r+=1;return i[e.substring(o).replace(/\\\./g,".")]=t,n}function qa(e,t){return e&&t}R("shaka.util.ConfigUtils",za),za.convertToConfigObject=cu,za.mergeConfigObjects=Vr;function Bt(){}function op(e){return e=qn(e),new ft(e).ab}function Kr(e,t,n){function i(s){lt(o).setUint32(u,s.byteLength,!0),u+=4,o.set(ue(s),u),u+=s.byteLength}if(!n||!n.byteLength)throw new S(2,6,6015);var r;typeof t=="string"?r=qs(t,!0):r=t,e=qn(e),e=qs(e,!0);var o=new Uint8Array(12+e.byteLength+r.byteLength+n.byteLength),u=0;return i(e),i(r),i(n),o}R("shaka.util.FairPlayUtils",Bt),Bt.commonFairPlayResponse=function(e,t){if(e===2){try{var n=_e(t.data)}catch{return}e=!1,n=n.trim(),n.substr(0,5)==="<ckc>"&&n.substr(-6)==="</ckc>"&&(n=n.slice(5,-6),e=!0);try{var i=JSON.parse(n);i.ckc&&(n=i.ckc,e=!0),i.CkcMessage&&(n=i.CkcMessage,e=!0),i.License&&(n=i.License,e=!0)}catch{}e&&(t.data=At(ln(n)))}},Bt.conaxFairPlayRequest=function(e,t){e===2&&(t.headers["Content-Type"]="application/octet-stream")},Bt.ezdrmFairPlayRequest=function(e,t){e===2&&(t.headers["Content-Type"]="application/octet-stream")},Bt.verimatrixFairPlayRequest=function(e,t){e===2&&(e=ue(t.body),e=Hn(e),t.headers["Content-Type"]="application/x-www-form-urlencoded",t.body=kn("spc="+e))},Bt.conaxInitDataTransform=function(e,t,n){if(t!=="skd")return e;t=n.serverCertificate,n=qn(e).split("skd://").pop().split("?").shift(),n=M.atob(n);var i=new ArrayBuffer(2*n.length);i=new Uint16Array(i);for(var r=0,o=n.length;r<o;r++)i[r]=n.charCodeAt(r);return Kr(e,i,t)},Bt.ezdrmInitDataTransform=function(e,t,n){return t!=="skd"?e:(t=n.serverCertificate,n=qn(e).split(";").pop(),Kr(e,n,t))},Bt.verimatrixInitDataTransform=function(e,t,n){return t!=="skd"?e:(t=n.serverCertificate,n=qn(e).split("skd://").pop(),Kr(e,n,t))},Bt.initDataTransform=Kr,Bt.defaultGetContentId=op,Bt.isFairPlaySupported=function(){var e;return I(function(t){return t.g==1?(e={initDataTypes:["cenc","sinf","skd"],videoCapabilities:[{contentType:'video/mp4; codecs="avc1.42E01E"'}]},ee(t,2),m(t,navigator.requestMediaKeySystemAccess("com.apple.fps",[e]),4)):t.g!=2?t.return(!0):(te(t),t.return(!1))})};function Ha(){}function Gi(){var e=1/0;navigator.connection&&navigator.connection.saveData&&(e=360);var t={retryParameters:Ni(),servers:{},clearKeys:{},advanced:{},delayLicenseRequestUntilPlayed:!1,initDataTransform:function(u,s,a){return a.keySystem=="com.apple.fps.1_0"&&s=="skd"&&(s=a.serverCertificate,a=op(u),u=Kr(u,a,s)),u},logLicenseExchange:!1,updateExpirationTime:1,preferredKeySystems:[],keySystemsMapping:{},parseInbandPsshEnabled:gr()},n={retryParameters:Ni(),availabilityWindowOverride:NaN,disableAudio:!1,disableVideo:!1,disableText:!1,disableThumbnails:!1,defaultPresentationDelay:0,segmentRelativeVttTiming:!1,dash:{clockSyncUri:"",ignoreDrmInfo:!1,disableXlinkProcessing:!1,xlinkFailGracefully:!1,ignoreMinBufferTime:!1,autoCorrectDrift:!0,initialSegmentLimit:1e3,ignoreSuggestedPresentationDelay:!1,ignoreEmptyAdaptationSet:!1,ignoreMaxSegmentDuration:!1,keySystemsByURI:{"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:e2719d58-a985-b3c9-781a-b030af78d30e":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:79f0049a-4098-8642-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},manifestPreprocessor:function(u){return qa([u],u)},sequenceMode:!1},hls:{ignoreTextStreamFailures:!1,ignoreImageStreamFailures:!1,defaultAudioCodec:"mp4a.40.2",defaultVideoCodec:"avc1.42E01E",ignoreManifestProgramDateTime:!1,mediaPlaylistFullMimeType:'video/mp2t; codecs="avc1.42E01E, mp4a.40.2"',useSafariBehaviorForLive:!0,liveSegmentsDelay:3}},i={retryParameters:Ni(),failureCallback:function(u){return qa([u])},rebufferingGoal:2,bufferingGoal:10,bufferBehind:30,ignoreTextStreamFailures:!1,alwaysStreamText:!1,startAtSegmentBoundary:!1,gapDetectionThreshold:.5,durationBackoff:1,forceTransmux:!1,safeSeekOffset:5,stallEnabled:!0,stallThreshold:1,stallSkip:.1,useNativeHlsOnSafari:!0,inaccurateManifestTolerance:2,lowLatencyMode:!1,autoLowLatencyMode:!1,forceHTTPS:!1,preferNativeHls:!1,updateIntervalSeconds:1,dispatchAllEmsgBoxes:!1,observeQualityChanges:!1,maxDisabledTime:30,parsePrftBox:!1};(xe("Web0S")||Kn()||xe("CrKey"))&&(i.stallSkip=0);var r={trackSelectionCallback:function(u){return I(function(s){return s.return(u)})},downloadSizeCallback:function(u){var s;return I(function(a){return a.g==1?navigator.storage&&navigator.storage.estimate?m(a,navigator.storage.estimate(),3):a.return(!0):(s=a.h,a.return(s.usage+u<.95*s.quota))})},progressCallback:function(u,s){return qa([u,s])},usePersistentLicense:!0,numberOfParallelDownloads:5},o={drm:t,manifest:n,streaming:i,mediaSource:{sourceBufferExtraFeatures:""},offline:r,abrFactory:function(){return new ke},abr:{enabled:!0,useNetworkInformation:!0,defaultBandwidthEstimate:1e6,switchInterval:8,bandwidthUpgradeTarget:.85,bandwidthDowngradeTarget:.95,restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:e,minPixels:0,maxPixels:1/0,minFrameRate:0,maxFrameRate:1/0,minBandwidth:0,maxBandwidth:1/0},advanced:{minTotalBytes:128e3,minBytes:16e3,fastHalfLife:2,slowHalfLife:5},restrictToElementSize:!1,restrictToScreenSize:!1,ignoreDevicePixelRatio:!1},autoShowText:3,preferredAudioLanguage:"",preferredTextLanguage:"",preferredVariantRole:"",preferredTextRole:"",preferredAudioChannelCount:2,preferredVideoCodecs:[],preferredAudioCodecs:[],preferForcedSubs:!1,preferredDecodingAttributes:[],restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:1/0,minPixels:0,maxPixels:1/0,minFrameRate:0,maxFrameRate:1/0,minBandwidth:0,maxBandwidth:1/0},playRangeStart:0,playRangeEnd:1/0,textDisplayFactory:function(){return null},cmcd:{enabled:!1,sessionId:"",contentId:"",useHeaders:!1},lcevc:{enabled:!1,dynamicPerformanceScaling:!0,logLevel:0,drawLogo:!1}};return r.trackSelectionCallback=function(u){return I(function(s){return s.return(IE(u,o.preferredAudioLanguage))})},o}function Vi(e,t,n){var i={".drm.keySystemsMapping":"",".drm.servers":"",".drm.clearKeys":"",".drm.advanced":{distinctiveIdentifierRequired:!1,persistentStateRequired:!1,videoRobustness:"",audioRobustness:"",sessionType:"",serverCertificate:new Uint8Array(0),serverCertificateUri:"",individualizationServer:""}};return Vr(e,t,n||Gi(),i,"")}function IE(e,t){var n=e.filter(function(u){return u.type=="variant"}),i=[],r=So(t,n.map(function(u){return u.language}));r&&(i=n.filter(function(u){return ce(u.language)==r})),i.length==0&&(i=n.filter(function(u){return u.primary})),i.length==0&&(n.map(function(u){return u.language}),i=n);var o=i.filter(function(u){return u.height&&480>=u.height});for(o.length&&(o.sort(function(u,s){return s.height-u.height}),i=o.filter(function(u){return u.height==o[0].height})),t=[],i.length&&(n=Math.floor(i.length/2),i.sort(function(u,s){return u.bandwidth-s.bandwidth}),t.push(i[n])),e=p(e),i=e.next();!i.done;i=e.next())i=i.value,i.type!=fe&&i.type!="image"||t.push(i);return t}R("shaka.util.PlayerConfiguration",Ha),Ha.mergeConfigObjects=Vi,Ha.createDefault=Gi;function xE(){this.g=null,this.h=[]}function hu(e,t){if(e.g==null)e.g={timestamp:Date.now()/1e3,state:t,duration:0};else{var n=Date.now()/1e3;e.g.duration=n-e.g.timestamp,e.g.state!=t&&(e.h.push(e.g),e.g={timestamp:n,state:t,duration:0})}}function Xa(e,t){var n=0;e.g&&e.g.state==t&&(n+=e.g.duration),e=p(e.h);for(var i=e.next();!i.done;i=e.next())i=i.value,n+=i.state==t?i.duration:0;return n}function CE(e){function t(o){return{timestamp:o.timestamp,state:o.state,duration:o.duration}}for(var n=[],i=p(e.h),r=i.next();!r.done;r=i.next())n.push(t(r.value));return e.g&&n.push(t(e.g)),n}function ME(){this.i=this.h=null,this.g=[]}function Wa(e,t,n){e.i!=t&&(e.i=t,e.g.push({timestamp:Date.now()/1e3,id:t.id,type:"text",fromAdaptation:n,bandwidth:null}))}function up(){this.C=this.F=this.I=this.G=this.B=this.j=this.H=this.m=this.i=this.O=this.P=this.J=this.K=this.M=this.l=this.s=NaN,this.g=new xE,this.h=new ME}function L(e,t){oe.call(this);var n=this;this.l=il,this.Bd=this.g=null,this.$=!1,this.Id=new ye,this.gb=new ye,this.C=new ye,this.fb=this.i=this.Kd=this.K=this.j=this.ka=this.M=this.lf=this.V=this.sa=this.O=this.Dd=this.J=this.Za=this.F=this.I=this.m=this.H=null,this.Nc=!1,this.$e=this.B=null,this.hf=1e9,this.h=Ki(this),this.Qc={width:1/0,height:1/0},this.s=null,this.La=new ki(this.h.preferredAudioLanguage,this.h.preferredVariantRole,this.h.preferredAudioChannelCount),this.Xa=this.h.preferredTextLanguage,this.Kc=this.h.preferredTextRole,this.Ec=this.h.preferForcedSubs,this.ub=[],this.Rc=null,t&&t(this),this.H=VE(this),this.H.Ne(this.h.streaming.forceHTTPS),this.G=null,yu&&(this.G=yu()),this.Id.o(M,"online",function(){n.Fe()}),this.P={name:"detach"},this.X={name:"attach"},this.aa={name:"unload"},this.jf={name:"manifest-parser"},this.gf={name:"manifest"},this.Ya={name:"media-source"},this.df={name:"drm-engine"},this.Z={name:"load"},this.fe={name:"src-equals-drm-engine"},this.$a={name:"src-equals"};var i=new Map;i.set(this.X,function(r,o){return $t(NE(n,r,o))}),i.set(this.P,function(r){return r.mediaElement&&(n.gb.Rb(),r.mediaElement=null),n.G&&n.G.release(),n.g=null,r=Promise.resolve(),$t(r)}),i.set(this.aa,function(r){return $t(ap(n,r))}),i.set(this.Ya,function(r){return r=RE(n,r),$t(r)}),i.set(this.jf,function(r,o){return r=_E(n,r,o),$t(r)}),i.set(this.gf,function(r){return DE(n,r)}),i.set(this.df,function(r){return r=PE(n,r),$t(r)}),i.set(this.Z,function(r,o){return $t(OE(n,r,o))}),i.set(this.fe,function(r,o){return r=UE(n,r,o),$t(r)}),i.set(this.$a,function(r,o){return bE(n,r,o)}),this.ua=new Zf(this.P,{Rg:function(r,o,u,s){var a=null;return r==n.P&&(a=u==n.P?n.P:n.X),r==n.X&&(a=u==n.P||o.mediaElement!=s.mediaElement?n.P:u==n.X?n.X:u==n.Ya||u==n.Z?n.Ya:u==n.$a?n.fe:null),r==n.Ya&&(a=u==n.Z&&o.mediaElement==s.mediaElement?n.jf:n.aa),r==n.jf&&(a=tl(n.Z,n.gf,n.aa,u,o,s)),r==n.gf&&(a=tl(n.Z,n.df,n.aa,u,o,s)),r==n.df&&(a=tl(n.Z,n.Z,n.aa,u,o,s)),r==n.fe&&(a=u==n.$a&&o.mediaElement==s.mediaElement?n.$a:n.aa),(r==n.Z||r==n.$a)&&(a=n.aa),r==n.aa&&(a=s.mediaElement&&o.mediaElement==s.mediaElement?n.X:n.P),a},wg:function(r,o,u){return n.dispatchEvent(Pe("onstatechange",new Map().set("state",r.name))),i.get(r)(o,u)},handleError:function(r){return I(function(o){return o.g==1?m(o,ap(n,r),2):o.return(r.mediaElement?n.X:n.P)})},mh:function(r){n.dispatchEvent(Pe("onstateidle",new Map().set("state",r.name)))}}),this.kf=new q(function(){Ys(n.i.variants,n.h.restrictions,n.Qc)&&pu(n)}),e&&this.Bc(e,!0)}K(L,oe);function du(e){e.M!=null&&(e.M.release(),e.M=null)}function kE(e,t){if(t.lcevc.enabled){var n=e.Qa();n&&n[0]&&n[0].videoMimeType==Eu.ts&&(Vs()||navigator.userAgent.match(/Edge\//))&&(t.streaming.forceTransmux||pe("LCEVC Warning: For MPEG-2 TS decoding the config.streaming.forceTransmux must be enabled.")),du(e),e.M==null&&(e.M=new Pr(e.g,e.lf,t.lcevc),e.I&&(e.I.H=e.M))}else du(e)}function Pe(e,t){return new U(e,t)}d=L.prototype,d.destroy=function(){var e=this,t;return I(function(n){switch(n.g){case 1:return e.l==Gt?n.return():(du(e),e.l=Gt,t=Br(e.ua,function(){return{node:e.P,payload:qi(),Jb:!1}}),m(n,new Promise(function(i){t.mc=function(){},t.Ed=function(){i()},t.Qb=function(){i()},t.onError=function(){i()},t.Gd=function(){i()}}),2));case 2:return m(n,e.ua.destroy(),3);case 3:if(e.Id&&(e.Id.release(),e.Id=null),e.gb&&(e.gb.release(),e.gb=null),e.C&&(e.C.release(),e.C=null),e.$e=null,e.h=null,e.s=null,e.Bd=null,e.V=null,!e.H){n.D(4);break}return m(n,e.H.destroy(),5);case 5:e.H=null;case 4:e.B&&(e.B.release(),e.B=null),oe.prototype.release.call(e),P(n)}})};function sp(){if(M.Promise||pe("A Promise implementation or polyfill is required"),!(M.Promise&&M.Uint8Array&&Array.prototype.forEach)||xe("Trident/"))return!1;var e=Ks();return e&&13>e||!(M.MediaKeys&&M.navigator&&M.navigator.requestMediaKeySystemAccess&&M.MediaKeySystemAccess&&M.MediaKeySystemAccess.prototype.getConfiguration)?!1:jt()?!0:xi("application/x-mpegurl")}d.Bc=function(e,t){if(t=t===void 0?!0:t,this.l==Gt)return Promise.reject(oi());var n=qi();n.mediaElement=e,jt()||(t=!1);var i=t?this.Ya:this.X;return e=Br(this.ua,function(){return{node:i,payload:n,Jb:!1}}),e.mc=function(){},nl(e)},d.qf=function(e){this.lf=e},d.detach=function(){var e=this;if(this.l==Gt)return Promise.reject(oi());var t=Br(this.ua,function(){return{node:e.P,payload:qi(),Jb:!1}});return t.mc=function(){},nl(t)},d.bf=function(e){var t=this;if(e=e===void 0?!0:e,this.l==Gt)return Promise.reject(oi());this.Nc=!1,jt()||(e=!1),du(this);var n=qi(),i=Br(this.ua,function(r){var o=r.mediaElement&&e?t.Ya:r.mediaElement?t.X:t.P;return n.mediaElement=r.mediaElement,{node:o,payload:n,Jb:!1}});return i.mc=function(){},nl(i)},d.Oh=function(e){this.Rc=e},d.load=function(e,t,n){var i=this;if(this.Rc=null,this.Nc=!1,this.l==Gt)return Promise.reject(oi());this.dispatchEvent(Pe("loading"));var r=qi();r.uri=e,r.Ue=Date.now()/1e3,n&&(r.mimeType=n),t!==void 0&&(r.startTime=t);var o=LE(this,r)?this.$a:this.Z,u=Br(this.ua,function(s){return s.mediaElement==null?null:(r.mediaElement=s.mediaElement,{node:o,payload:r,Jb:!0})});return this.s=new up,this.V=HE(this),u.mc=function(){},new Promise(function(s,a){u.Gd=function(){return a(new S(2,7,7002))},u.Ed=function(){s(),i.dispatchEvent(Pe("loaded"))},u.Qb=function(){return a(oi())},u.onError=function(l){return a(l)}})};function LE(e,t){if(!jt())return!0;var n=t.mimeType,i=t.uri||"";if(n||(n=Oi(i),n=Eu[n]),n){if((t.mediaElement||Oh()).canPlayType(n)=="")return!1;if(!jt()||!(n in wt||Oi(i)in Zn)||(n==="application/x-mpegurl"||n==="application/vnd.apple.mpegurl")&&e.h.streaming.preferNativeHls)return!0;if(mr())return e.h.streaming.useNativeHlsOnSafari}return!1}function NE(e,t,n){return t.mediaElement==null&&(t.mediaElement=n.mediaElement,e.gb.o(t.mediaElement,"error",function(){var i=el(e);i&&ri(e,i)})),e.g=t.mediaElement,Promise.resolve()}function ap(e,t){var n,i,r,o,u,s,a,l,c;return I(function(f){switch(f.g){case 1:return e.l!=Gt&&(e.l=il),n=e.ub.map(function(h){return h()}),e.ub=[],m(f,Promise.all(n),2);case 2:if(e.dispatchEvent(Pe("unloading")),t.mimeType=null,t.startTime=null,t.uri=null,e.sa&&(e.sa.release(),e.sa=null),t.mediaElement&&e.C.Rb(),e.kf.stop(),e.Za&&(e.Za.release(),e.Za=null),e.Dd&&(e.Dd.stop(),e.Dd=null),!e.K){f.D(3);break}return m(f,e.K.stop(),4);case 4:e.K=null,e.Kd=null;case 3:if(!e.B){f.D(5);break}return m(f,e.B.stop(),5);case 5:if(!e.j){f.D(7);break}return m(f,e.j.destroy(),8);case 8:e.j=null;case 7:if(e.J&&(e.J.release(),e.J=null),e.F&&(e.F.release(),e.F=null),!e.I){f.D(9);break}return m(f,e.I.destroy(),10);case 10:e.I=null;case 9:if(e.G&&e.G.onAssetUnload(),!t.mediaElement||!t.mediaElement.src){f.D(11);break}return m(f,new Promise(function(h){return new q(h).R(.1)}),12);case 12:for(t.mediaElement.removeAttribute("src"),t.mediaElement.load();t.mediaElement.lastChild;)t.mediaElement.removeChild(t.mediaElement.firstChild);case 11:if(!e.m){f.D(13);break}return m(f,e.m.destroy(),14);case 14:e.m=null;case 13:if(e.fb=null,e.O=null,e.i){for(i=p(e.i.variants),r=i.next();!r.done;r=i.next())for(o=r.value,u=p([o.audio,o.video]),s=u.next();!s.done;s=u.next())(a=s.value)&&a.segmentIndex&&a.segmentIndex.release();for(l=p(e.i.textStreams),s=l.next();!s.done;s=l.next())c=s.value,c.segmentIndex&&c.segmentIndex.release()}e.i=null,e.s=new up,e.ef=null,$a(e),P(f)}})}function RE(e,t){var n,i,r,o,u;return I(function(s){if(s.g==1)return n=e.h.textDisplayFactory,i=n(),e.ef=n,r=qE(t.mediaElement,i,function(a,l,c){lp(e,a,l,c)},e.M),r.configure(e.h.mediaSource),o=e.h.manifest,u=o.segmentRelativeVttTiming,r.J=u,m(s,r.K,2);e.I=r,P(s)})}function _E(e,t,n){var i,r,o,u;return I(function(s){if(s.g==1)return t.mimeType=n.mimeType,t.uri=n.uri,i=t.uri,r=e.H,e.fb=i,o=e,m(s,Gd(i,r,e.h.manifest.retryParameters,t.mimeType),2);o.Kd=s.h,e.K=e.Kd(),u=_i(e.h.manifest),n.mediaElement&&n.mediaElement.nodeName==="AUDIO"&&(u.disableVideo=!0),e.K.configure(u),P(s)})}function DE(e,t){var n=t.uri;t=e.H,e.sa=new Na(function(){return e.Ja()}),e.sa.addEventListener("regionadd",function(o){o=o.region,Xr(e,"timelineregionadded",o),e.G&&e.G.onDashTimedMetadata(o)}),e.ka=null,e.h.streaming.observeQualityChanges&&(e.ka=new ru(function(){return e.ib()}),e.ka.addEventListener("qualitychange",function(o){var u=o.quality;o=o.position,u=new Map().set("mediaQuality",{bandwidth:u.bandwidth,audioSamplingRate:u.audioSamplingRate,codecs:u.codecs,contentType:u.contentType,frameRate:u.frameRate,height:u.height,mimeType:u.mimeType,channelsCount:u.channelsCount,pixelAspectRatio:u.pixelAspectRatio,width:u.width}).set("position",o),e.dispatchEvent(Pe("mediaqualitychanged",u))}));var i={networkingEngine:t,modifyManifestRequest:function(o,u){var s=e.V;try{s.g.enabled&&(s.s=u.format,Fa(s,o,{ot:rp,su:!s.i}))}catch(a){jn("CMCD_MANIFEST_ERROR","Could not generate manifest CMCD data.",a)}},modifySegmentRequest:function(o,u){ip(e.V,o,u)},filter:function(o){return yp(e,o)},makeTextStreamsForClosedCaptions:function(o){return YE(e,o)},onTimelineRegionAdded:function(o){var u=e.sa;e:{for(var s=p(u.g),a=s.next();!a.done;a=s.next())if(a=a.value,a.schemeIdUri==o.schemeIdUri&&a.id==o.id&&a.startTime==o.startTime&&a.endTime==o.endTime){s=a;break e}s=null}s==null&&(u.g.add(o),o=new U("regionadd",new Map([["region",o]])),u.dispatchEvent(o))},onEvent:function(o){return e.dispatchEvent(o)},onError:function(o){return ri(e,o)},isLowLatencyMode:function(){return e.h.streaming.lowLatencyMode},isAutoLowLatencyMode:function(){return e.h.streaming.autoLowLatencyMode},enableLowLatencyMode:function(){e.configure("streaming.lowLatencyMode",!0)},updateDuration:function(){e.j&&e.j.updateDuration()},newDrmInfo:function(o){var u=e.m?e.m.g:null;u&&e.m.C&&Qa(e,u.keySystem,o)}},r=Date.now()/1e3;return new Ce(function(){var o,u,s,a;return I(function(l){if(l.g==1)return o=e,m(l,e.K.start(n,i),2);if(o.i=l.h,u=Pe("manifestparsed"),e.dispatchEvent(u),e.i.variants.length==0)throw new S(2,4,4036);GE(e.i),s=Date.now()/1e3,a=s-r,e.s.H=a,P(l)})}(),function(){return e.K.stop()})}function PE(e,t){var n,i;return I(function(r){return r.g==1?(n=Date.now()/1e3,i=!0,e.m=dp(e,{Ob:e.H,onError:function(o){ri(e,o)},Fd:function(o){xp(e,o)},onExpirationUpdated:function(o,u){Cp(e,o,u)},onEvent:function(o){e.dispatchEvent(o),o.type=="drmsessionupdate"&&i&&(i=!1,e.s.j=Date.now()/1e3-n,e.M&&(o=e.M,o.g&&o.h.classList.add("shaka-hidden")))}}),e.m.configure(e.h.drm),m(r,Ld(e.m,e.i.variants,e.i.offlineSessionIds),2)):r.g!=3?m(r,e.m.Bc(t.mediaElement),3):m(r,yp(e,e.i),0)})}function OE(e,t,n){var i,r,o,u,s,a,l,c,f,h,g,v,T,E,y,x,A;return I(function(w){switch(w.g){case 1:for(t.startTime=n.startTime,e.Rc!=null&&(t.startTime=e.Rc,e.Rc=null),i=t.mediaElement,r=t.uri,e.fb=r,e.J=new Ur({wd:function(){return i.playbackRate},td:function(){return i.defaultPlaybackRate},Pe:function(C){i.playbackRate=C},Of:function(C){i.currentTime+=C}}),o=function(){return fu(e)},u=function(){return Tp(e)},e.C.o(i,"playing",o),e.C.o(i,"pause",o),e.C.o(i,"ended",o),e.C.o(i,"ratechange",u),kE(e,e.h),s=e.h.abrFactory,e.B&&e.$e==s||(e.$e=s,e.B=s(),typeof e.B.setMediaElement!="function"&&(od("AbrManager","Please use an AbrManager with setMediaElement function."),e.B.setMediaElement=function(){}),e.B.configure(e.h.abr)),e.La=new ki(e.h.preferredAudioLanguage,e.h.preferredVariantRole,e.h.preferredAudioChannelCount),e.Xa=e.h.preferredTextLanguage,e.Kc=e.h.preferredTextRole,e.Ec=e.h.preferForcedSubs,Mp(e.i.presentationTimeline,e.h.playRangeStart,e.h.playRangeEnd),e.B.init(function(C,k,N){e.j&&C!=e.j.l&&Hr(e,C,!0,k===void 0?!1:k,N===void 0?0:N)}),e.B.setMediaElement(i),Hh(e.i,e.h.preferredVideoCodecs,e.h.preferredAudioCodecs,e.h.preferredAudioChannelCount,e.h.preferredDecodingAttributes),e.j=XE(e),e.j.configure(e.h.streaming),e.l=vt,i.textTracks&&e.C.o(i.textTracks,"addtrack",function(C){if(C.track)switch(C=C.track,C.kind){case"chapters":hp(e,C)}}),e.dispatchEvent(Pe("streaming")),a=null,(l=e.j.l)||(a=pu(e)),c=[],f=l||a,h=p([f.video,f.audio]),g=h.next();!g.done;g=h.next())(v=g.value)&&!v.segmentIndex&&c.push(v.createSegmentIndex());if(!(0<c.length)){w.D(2);break}return m(w,Promise.all(c),2);case 2:if(e.F=KE(e,t.startTime),e.Za=zE(e),T=Math.max(e.i.minBufferTime,e.h.streaming.rebufferingGoal),fp(e,T),l){w.D(4);break}if(Hr(e,a,!0,!1,0),!e.h.streaming.startAtSegmentBoundary){w.D(5);break}return E=e.F.kd(),m(w,ZE(a,E),6);case 6:y=w.h,e.F.ie(y);case 5:Ap(e,null,Xn(a));case 4:return e.F.ge(),x=e.yb().find(function(C){return C.active}),x||((A=$s(e.i.textStreams,e.Xa,e.Kc,e.Ec)[0]||null)&&Wa(e.s.h,A,!0),a&&(A?(a.audio&&QE(e,a.audio,A)&&(e.$=!0),e.$&&e.I.m.setTextVisibility(!0),wp(e)):e.$=!1),A&&(e.h.streaming.alwaysStreamText||e.Nb())&&uu(e.j,A)),m(w,e.j.start(),7);case 7:e.h.abr.enabled&&(e.B.enable(),Ip(e)),Jh(e.j?e.j.l:null,e.i),Lp(e.i),Ct(e),qr(e),e.i.variants.some(function(C){return C.primary}),e.Nc=!0,e.C.ya(i,"loadedmetadata",function(){e.s.m=Date.now()/1e3-n.Ue}),P(w)}})}function UE(e,t,n){var i,r,o,u,s,a,l;return I(function(c){return c.g==1?(i=Ze,r=Date.now()/1e3,o=!0,e.m=dp(e,{Ob:e.H,onError:function(f){ri(e,f)},Fd:function(f){xp(e,f)},onExpirationUpdated:function(f,h){Cp(e,f,h)},onEvent:function(f){e.dispatchEvent(f),f.type=="drmsessionupdate"&&o&&(o=!1,e.s.j=Date.now()/1e3-r)}}),e.m.configure(e.h.drm),u=n.uri||"",s=Oi(u),a=Eu[s],a=="application/x-mpegurl"&&mr()&&(a="application/vnd.apple.mpegurl"),a||(a="video/mp4"),l={id:0,language:"und",disabledUntilTime:0,primary:!1,audio:null,video:{id:0,originalId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:null,mimeType:n.mimeType?n.mimeType.split(";")[0]:a,codecs:n.mimeType?Vh(n.mimeType):"",encrypted:!0,drmInfos:[],keyIds:new Set,language:"und",label:null,type:i.Ma,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null},bandwidth:100,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]},e.m.V=!0,m(c,Ld(e.m,[l],[]),2)):m(c,e.m.Bc(t.mediaElement),0)})}function bE(e,t,n){function i(){return fu(e)}t.uri=n.uri,t.startTime=n.startTime,e.fb=t.uri;var r=t.mediaElement;e.F=new bf(r);var o=!1;e.ub.push(function(){o=!0}),t.startTime!=null&&e.F.ie(t.startTime),e.J=new Ur({wd:function(){return r.playbackRate},td:function(){return r.defaultPlaybackRate},Pe:function(a){r.playbackRate=a},Of:function(a){r.currentTime+=a}}),fp(e,e.h.streaming.rebufferingGoal),e.C.o(r,"playing",i),e.C.o(r,"pause",i),e.C.o(r,"ended",i),e.C.o(r,"ratechange",function(){return Tp(e)}),r.preload!="none"&&e.C.ya(r,"loadedmetadata",function(){e.s.m=Date.now()/1e3-n.Ue}),r.audioTracks&&(e.C.o(r.audioTracks,"addtrack",function(){return Ct(e)}),e.C.o(r.audioTracks,"removetrack",function(){return Ct(e)}),e.C.o(r.audioTracks,"change",function(){return Ct(e)})),r.textTracks&&(e.C.o(r.textTracks,"addtrack",function(a){if(a.track)switch(a=a.track,a.kind){case"metadata":BE(e,a);break;case"chapters":hp(e,a);break;default:Ct(e)}}),e.C.o(r.textTracks,"removetrack",function(){return Ct(e)}),e.C.o(r.textTracks,"change",function(){return Ct(e)}));var u=Oi(t.uri);r.src=mE(e.V,t.uri,Eu[u]),(Kn()||xe("Web0S"))&&r.load(),e.l=yt,e.dispatchEvent(Pe("streaming"));var s=new we;return ji(r,HTMLMediaElement.HAVE_METADATA,e.C,function(){e.F.ge(),s.resolve()}),ji(r,HTMLMediaElement.HAVE_CURRENT_DATA,e.C,function(){var a;return I(function(l){if(l.g==1)return jE(e),a=zr(e),a.find(function(c){return c.mode!="disabled"})?(0<a.length&&(e.$=!0),l.D(2)):m(l,new Promise(function(c){e.C.ya(r.textTracks,"change",c),new q(c).R(1)}),2);if(o)return l.return();FE(e),P(l)})}),r.error?s.reject(el(e)):r.preload=="none"&&(pe('With <video preload="none">, the browser will not load anything until play() is called. We are unable to measure load latency in a meaningful way, and we cannot provide track info yet. Please do not use preload="none" with Shaka Player.'),s.resolve()),e.C.ya(r,"error",function(){s.reject(el(e))}),new Ce(s,function(){return s.reject(new S(2,7,7001)),Promise.resolve()}).ia(function(){e.Nc=!0})}function jE(e){var t=e.h.preferredAudioLanguage;if(t!=""){e.Md(t);var n=e.h.preferredVariantRole;n!=""&&e.Md(t,n)}}function FE(e){var t=e.h.preferredTextLanguage,n=e.h.preferForcedSubs;if(t!=""){e.Ie(t,"",n);var i=e.h.preferredTextRole;i!=""&&e.Ie(t,i,n)}}function BE(e,t){if(t.kind=="metadata"){t.mode="hidden",e.C.o(t,"cuechange",function(){if(t.activeCues)for(var i=p(t.activeCues),r=i.next();!r.done;r=i.next())r=r.value,cp(e,r.startTime,r.endTime,r.type,r.value),e.G&&e.G.onCueMetadataChange(r.value)});var n=new q(function(){var i=WE(e);i=p(i);for(var r=i.next();!r.done;r=i.next())r.value.mode="hidden"}).Aa().R(.5);e.ub.push(function(){n.stop()})}}function lp(e,t,n,i){t=p(t);for(var r=t.next();!r.done;r=t.next())if(r=r.value,r.data&&r.cueTime&&r.frames){var o=r.cueTime+n,u=i;u&&o>u&&(u=o);for(var s=p(r.frames),a=s.next();!a.done;a=s.next())cp(e,o,u,"org.id3",a.value);e.G&&e.G.onHlsTimedMetadata(r,o)}}function cp(e,t,n,i,r){t=new Map().set("startTime",t).set("endTime",n).set("metadataType",i).set("payload",r),e.dispatchEvent(Pe("metadata",t))}function hp(e,t){if(t&&t.kind=="chapters"){t.mode="hidden";var n=new q(function(){t.mode="hidden"}).Aa().R(.5);e.ub.push(function(){n.stop()})}}function GE(e){function t(n){return n.video&&n.audio||n.video&&n.video.codecs.includes(",")}e.variants.some(t)&&(e.variants=e.variants.filter(t))}function dp(e,t){return new Ko(t,e.h.drm.updateExpirationTime)}function VE(e){return new Te(function(t,n){e.B&&e.B.segmentDownloaded(t,n)},function(t,n,i){t=new Map().set("headers",t).set("request",n).set("requestType",i),e.dispatchEvent(Pe("downloadheadersreceived",t))},function(t,n,i,r){t=new Map().set("request",t).set("error",n).set("httpResponseCode",i).set("aborted",r),e.dispatchEvent(Pe("downloadfailed",t))})}function KE(e,t){return new jf(e.g,e.i,e.h.streaming,t,function(){e.Za&&zf(e.Za,!0),e.j&&e.j.Xc(),e.O&&Ya(e)},function(n){return e.dispatchEvent(n)})}function zE(e){var t=new ou(e.sa);t.addEventListener("enter",function(i){Xr(e,"timelineregionenter",i.region)}),t.addEventListener("exit",function(i){Xr(e,"timelineregionexit",i.region)}),t.addEventListener("skip",function(i){var r=i.region;i.seeking||(Xr(e,"timelineregionenter",r),Xr(e,"timelineregionexit",r))});var n=new Kf(e.g);return n.g.add(t),e.ka&&n.g.add(e.ka),n}function fp(e,t){e.O=new Sy,e.O.g=Li,cd(e.O,t,Math.min(.5,t/2)),$a(e),e.Dd=new q(function(){Ya(e)}).ha(.25)}function Ya(e){switch(e.l){case yt:if(e.g.ended)var t=!0;else{var n=Ea(e.g.buffered);t=n!=null&&n>=e.g.duration-1}break;case vt:e:if(e.g.ended||Af(e.I))t=!0;else{if(e.i.presentationTimeline.U()){n=e.i.presentationTimeline.Ib();var i=Ea(e.g.buffered);if(i!=null&&i>=n){t=!0;break e}}t=!1}break;default:t=!1}i=gf(e.g.buffered,e.g.currentTime),n=e.O;var r=t,o=n.h.get(n.g);t=n.g,i=r||i>=o?Do:Li,n.g=i,t!=i&&$a(e)}function qE(e,t,n,i){return new Tf(e,t,n,i)}function HE(e){return new gE({getBandwidthEstimate:function(){return e.B?e.B.getBandwidthEstimate():NaN},ib:function(){return e.ib()},getCurrentTime:function(){return e.g?e.g.currentTime:0},Qa:function(){return e.Qa()},xb:function(){return e.xb()},U:function(){return e.U()}},e.h.cmcd)}function XE(e){return new qf(e.i,{vd:function(){return e.F?e.F.kd():0},getBandwidthEstimate:function(){return e.B.getBandwidthEstimate()},modifySegmentRequest:function(t,n){ip(e.V,t,n)},S:e.I,Ob:e.H,onError:function(t){return ri(e,t)},onEvent:function(t){return e.dispatchEvent(t)},oh:function(){e.K&&e.K.update&&e.K.update()},Ce:function(t,n,i){e.F&&e.F.Pf(),Ya(e),t=new Map().set("start",t).set("end",n).set("contentType",i),e.dispatchEvent(Pe("segmentappended",t))},nh:function(t,n){(n=n.we)&&e.ka&&K1(e.ka,n,t)},tf:function(t,n){var i=e.m;if(i.h.parseInbandPsshEnabled&&["audio","video"].includes(t)){n=new Id(ue(n));var r=0,o=p(n.data);for(t=o.next();!t.done;t=o.next())r+=t.value.length;if(r==0)i=Promise.resolve();else{for(r=new Uint8Array(r),o=0,n=p(n.data),t=n.next();!t.done;t=n.next())t=t.value,r.set(t,o),o+=t.length;kr(i,"cenc",r),i=i.s}}else i=Promise.resolve();return i},ph:function(t,n,i){lp(e,t,n,i)}})}d.configure=function(e,t){arguments.length==2&&typeof e=="string"&&(e=cu(e,t)),e.streaming&&"forceTransmuxTS"in e.streaming&&(od("streaming.forceTransmuxTS configuration","Please Use streaming.forceTransmux instead."),e.streaming.forceTransmux=e.streaming.forceTransmuxTS,delete e.streaming.forceTransmuxTS),e.streaming&&e.streaming.lowLatencyMode&&(e.streaming.inaccurateManifestTolerance==null&&(e.streaming.inaccurateManifestTolerance=0),e.streaming.rebufferingGoal==null&&(e.streaming.rebufferingGoal=.01));var n=Vi(this.h,e,Ki(this));return pp(this),n};function pp(e){if(e.K){var t=_i(e.h.manifest);e.g&&e.g.nodeName==="AUDIO"&&(t.disableVideo=!0),e.K.configure(t)}if(e.m&&e.m.configure(e.h.drm),e.j){e.j.configure(e.h.streaming);try{Ep(e,e.i)}catch(o){ri(e,o)}e.B&&qr(e),t=e.j.l,!t||t.allowedByApplication&&t.allowedByKeySystem||gu(e)}if(e.H&&e.H.Ne(e.h.streaming.forceHTTPS),e.I&&(e.I.configure(e.h.mediaSource),e.I.J=e.h.manifest.segmentRelativeVttTiming,t=e.h.textDisplayFactory,e.ef!=t)){var n=t(),i=e.I,r=i.m;i.m=n,r&&(n.setTextVisibility(r.isTextVisible()),r.destroy()),i.g&&(i.g.j=n),e.ef=t,e.j&&(t=e.j,(n=t.j.get(fe))&&Bi(t,n.stream,!0,0,!0))}e.B&&(e.B.configure(e.h.abr),e.h.abr.enabled?e.B.enable():e.B.disable(),Ip(e)),e.O&&(t=e.h.streaming.rebufferingGoal,e.i&&(t=Math.max(t,e.i.minBufferTime)),cd(e.O,t,Math.min(.5,t/2))),e.i&&Mp(e.i.presentationTimeline,e.h.playRangeStart,e.h.playRangeEnd)}d.getConfiguration=function(){var e=Ki(this);return Vi(e,this.h,Ki(this)),e},d.zg=function(){if(this.g){var e=this.g.buffered.length;e=e?this.g.buffered.end(e-1):0;var t=this.getConfiguration().streaming.bufferingGoal;if(t=Math.min(this.g.currentTime+t,this.Ja().end),e>=t)return 1;if(!(e<=this.g.currentTime)&&e<t)return(e-this.g.currentTime)/(t-this.g.currentTime)}return 0},d.Bh=function(){for(var e in this.h)delete this.h[e];Vi(this.h,Ki(this),Ki(this)),pp(this)},d.If=function(){return this.l},d.Qg=function(){return this.g},d.Hc=function(){return this.H},d.le=function(){return this.fb},d.sd=function(){return this.G?this.G:null},d.U=function(){return this.i?this.i.presentationTimeline.U():this.g&&this.g.src?this.g.duration==1/0:!1},d.Lb=function(){return this.i?this.i.presentationTimeline.Lb():!1},d.hc=function(){if(this.i){var e=this.i.variants;return e.length?!e[0].video:!1}return this.g&&this.g.src?this.g.videoTracks?this.g.videoTracks.length==0:this.g.videoHeight==0:!1},d.Ja=function(){if(!this.Nc)return{start:0,end:0};if(this.i){var e=this.i.presentationTimeline;return{start:e.dc(),end:e.jb()}}return this.g&&this.g.src&&(e=this.g.seekable,e.length)?{start:e.start(0),end:e.end(e.length-1)}:{start:0,end:0}},d.bh=function(){this.U()&&(this.g.currentTime=this.Ja().end)},d.keySystem=function(){var e=this.drmInfo();return e?e.keySystem:""},d.drmInfo=function(){return this.m?this.m.g:null},d.Gc=function(){return this.m?this.m.Gc():1/0},d.ud=function(){return this.m?this.m.ud():{}},d.Pc=function(){return this.O?this.O.g==Li:!1},d.xb=function(){return this.g?this.J?this.J.i:1:0},d.Ze=function(e){e==0?pe("A trick play rate of 0 is unsupported!"):(this.g.paused&&this.g.play(),this.J.set(e),this.l==vt&&(this.B.playbackRateChanged(e),Hf(this.j,1<Math.abs(e))))},d.vf=function(){var e=this.J.td();this.l==yt&&this.J.set(e),this.l==vt&&(this.J.set(e),this.B.playbackRateChanged(e),Hf(this.j,!1))},d.Qa=function(){if(this.i){for(var e=this.j?this.j.l:null,t=[],n=0,i=p(this.i.variants),r=i.next();!r.done;r=i.next())if(r=r.value,Sr(r)){var o=Xn(r);o.active=r==e,o.active||n==1||e==null||r.video!=e.video||r.audio!=e.audio||(o.active=!0),o.active&&n++,t.push(o)}return t}return this.g&&this.g.audioTracks?Array.from(this.g.audioTracks).map(function(u){return No(u)}):[]},d.yb=function(){if(this.i){for(var e=this.j?this.j.s:null,t=[],n=p(this.i.textStreams),i=n.next();!i.done;i=n.next()){i=i.value;var r=Lo(i);r.active=i==e,t.push(r)}return t}return this.g&&this.g.src&&this.g.textTracks?zr(this).map(function(o){return Qh(o)}):[]},d.Ig=function(){return this.i?this.i.imageStreams.map(function(e){return Zs(e)}):[]},d.Yg=function(e,t){var n=this,i,r,o,u,s,a,l,c,f,h,g,v,T,E,y,x,A,w,C,k;return I(function(N){return N.g==1?n.i?(i=n.i.imageStreams.find(function(_){return _.id==e}))?i.segmentIndex?N.D(3):m(N,i.createSegmentIndex(),3):N.return(null):N.D(2):N.g!=2?(r=i.segmentIndex.find(t),r==null||(o=i.segmentIndex.get(r),u=o.tilesLayout||i.tilesLayout,s=/(\d+)x(\d+)/.exec(u),!s)?N.return(null):(a=i.width||0,l=i.height||0,c=parseInt(s[1],10),f=parseInt(s[2],10),h=a/c,g=l/f,v=c*f,T=o.l-o.startTime,E=o.B||T/v,y=o.startTime,A=x=0,1<v&&(w=Math.floor((t-o.startTime)/E),y=o.startTime+w*E,x=w%c*h,A=Math.floor(w/c)*g),C=!1,(k=o.s)&&(C=!0,g=k.height,x=k.positionX,A=k.positionY,h=k.width),N.return({imageHeight:l,imageWidth:a,height:g,positionX:x,positionY:A,startTime:y,duration:E,uris:o.Pa(),width:h,sprite:C}))):N.return(null)})},d.Je=function(e){if(this.i&&this.j){var t=this.i.textStreams.find(function(i){return i.id==e.id});t&&t!=this.j.s&&(Wa(this.s.h,t,!1),uu(this.j,t),vu(this),this.Xa=t.language)}else if(this.g&&this.g.src&&this.g.textTracks){t=zr(this),t=p(t);for(var n=t.next();!n.done;n=t.next())n=n.value,Qs(n)==e.id?n.mode=this.$?"showing":"hidden":n.mode="disabled";vu(this)}},d.Ke=function(e,t,n){if(t=t===void 0?!1:t,n=n===void 0?0:n,this.i&&this.j){this.h.abr.enabled&&pe("Changing tracks while abr manager is enabled will likely result in the selected track being overriden. Consider disabling abr before calling selectVariantTrack().");var i=this.i.variants.find(function(r){return r.id==e.id});i&&Sr(i)&&(Hr(this,i,!1,t,n),this.La=new ld(i),qr(this))}else if(this.g&&this.g.audioTracks){for(t=Array.from(this.g.audioTracks),t=p(t),n=t.next();!n.done;n=t.next())if(n=n.value,Qs(n)==e.id){mu(this,n);break}}},d.yg=function(){return Rp(this.Qa())},d.Wg=function(){return Rp(this.yb())},d.xg=function(){return Array.from(Np(this.Qa()))},d.Vg=function(){return Array.from(Np(this.yb()))},d.Md=function(e,t,n){if(n=n===void 0?0:n,this.i&&this.F){this.La=new ki(e,t||"",n,""),t=function(s,a){return s.video||a.video?s.video&&a.video?Math.abs((s.video.height||0)-(a.video.height||0))+Math.abs((s.video.width||0)-(a.video.width||0)):1/0:0},e=this.j.l;var i=this.La.create(this.i.variants);n=null,i=p(i.values());for(var r=i.next();!r.done;r=i.next())r=r.value,(!n||t(n,e)>t(r,e))&&(n=r);n?(t=Xn(n),this.Ke(t,!0)):gu(this)}else if(this.g&&this.g.audioTracks){r=Array.from(this.g.audioTracks),e=ce(e),i=n=null,r=p(r);for(var o=r.next();!o.done;o=r.next()){o=o.value;var u=No(o);ce(u.language)==e&&(n=o,t?u.roles.includes(t)&&(i=o):u.roles.length==0&&(i=o))}i?mu(this,i):n&&mu(this,n)}},d.Ie=function(e,t,n){if(n=n===void 0?!1:n,this.i&&this.F)this.Xa=e,this.Kc=t||"",this.Ec=n,(e=$s(this.i.textStreams,this.Xa,this.Kc,this.Ec)[0]||null)&&e!=this.j.s&&(Wa(this.s.h,e,!1),this.h.streaming.alwaysStreamText||this.Nb())&&(uu(this.j,e),vu(this));else{var i=ce(e);(e=this.yb().find(function(r){return ce(r.language)==i&&(!t||r.roles.includes(t))&&r.forced==n}))&&this.Je(e)}},d.Eh=function(e){if(this.i&&this.F){for(var t=null,n=p(this.i.variants),i=n.next();!i.done;i=n.next())if(i=i.value,i.audio.label==e){t=i;break}t!=null&&(this.La=new ki(t.language,"",0,e),gu(this))}else if(this.g&&this.g.audioTracks){for(n=Array.from(this.g.audioTracks),t=null,n=p(n),i=n.next();!i.done;i=n.next())i=i.value,i.label==e&&(t=i);t&&mu(this,t)}},d.Nb=function(){var e=this.$;return this.I?this.I.m.isTextVisible():this.g&&this.g.src&&this.g.textTracks?zr(this).some(function(t){return t.mode=="showing"}):e},d.Gf=function(){return this.g&&this.g.src&&this.g.textTracks?gp(this).map(function(e){return Qh(e)}):[]},d.Bg=function(e){var t=ce(e),n=gp(this).filter(function(s){return ce(s.language)==t});if(!n||!n.length)return[];e=[];var i=new Set;n=p(n);for(var r=n.next();!r.done;r=n.next())if((r=r.value)&&r.cues){r=p(r.cues);for(var o=r.next();!o.done;o=r.next()){var u=o.value;(o=u.id)&&o!=""||(o=u.startTime+"-"+u.endTime+"-"+u.text),u={id:o,title:u.text,startTime:u.startTime,endTime:u.endTime},i.has(o)||(e.push(u),i.add(o))}}return e};function zr(e){return Array.from(e.g.textTracks).filter(function(t){return t.kind!="metadata"&&t.kind!="chapters"&&t.label!="Shaka Player TextTrack"})}function WE(e){return Array.from(e.g.textTracks).filter(function(t){return t.kind=="metadata"})}function gp(e){return Array.from(e.g.textTracks).filter(function(t){return t.kind=="chapters"})}d.Se=function(e){if(e=!!e,this.$!=e){if(this.$=e,this.l==vt)this.I.m.setTextVisibility(e),this.h.streaming.alwaysStreamText||(e?this.j.s||(e=$s(this.i.textStreams,this.Xa,this.Kc,this.Ec),0<e.length&&(uu(this.j,e[0]),vu(this))):X1(this.j));else if(this.g&&this.g.src&&this.g.textTracks){var t=zr(this);t=p(t);for(var n=t.next();!n.done;n=t.next())n=n.value,n.mode!="disabled"&&(n.mode=e?"showing":"hidden")}wp(this)}},d.Sg=function(){if(!this.U())return null;var e=this.ua.l,t=0;if(this.F)t=this.F.kd();else if(e){if(e.startTime==null)return new Date;t=e.startTime}return this.i?new Date(1e3*(this.i.presentationTimeline.i+t)):this.g&&this.g.getStartDate?(e=this.g.getStartDate(),isNaN(e.getTime())?null:new Date(e.getTime()+1e3*t)):null},d.Jf=function(){if(!this.U())return null;if(this.i)return new Date(1e3*this.i.presentationTimeline.i);if(this.g&&this.g.getStartDate){var e=this.g.getStartDate();return isNaN(e.getTime())?null:e}return null},d.ib=function(){if(this.l==vt)return this.I.ib();var e={total:[],audio:[],video:[],text:[]};return this.l==yt&&(e.total=_n(this.g.buffered)),e},d.getStats=function(){if(this.l!=vt&&this.l!=yt)return{width:NaN,height:NaN,streamBandwidth:NaN,decodedFrames:NaN,droppedFrames:NaN,corruptedFrames:NaN,stallsDetected:NaN,gapsJumped:NaN,estimatedBandwidth:NaN,completionPercent:NaN,loadLatency:NaN,manifestTimeSeconds:NaN,drmTimeSeconds:NaN,playTime:NaN,pauseTime:NaN,bufferingTime:NaN,licenseTime:NaN,liveLatency:NaN,maxSegmentDuration:NaN,switchHistory:[],stateHistory:[]};fu(this);var e=this.g,t=e.currentTime/e.duration;if(!isNaN(t)){var n=this.s;t=Math.round(100*t),n.i=isNaN(n.i)?t:Math.max(n.i,t)}if(this.F&&(this.s.O=this.F.mf(),this.s.P=this.F.nf()),e.getVideoPlaybackQuality){n=e.getVideoPlaybackQuality(),t=this.s;var i=Number(n.totalVideoFrames);t.M=Number(n.droppedVideoFrames),t.K=i,this.s.J=Number(n.corruptedVideoFrames)}this.m?(n=this.m,n=n.J?n.J:NaN):n=NaN,this.s.B=n,this.l==vt&&((n=this.j.l)&&(this.s.F=(this.J?this.J.i:1)*n.bandwidth),n&&n.video&&(t=this.s,i=n.video.height||NaN,t.s=n.video.width||NaN,t.l=i),this.U()&&(n=this.Jf().valueOf()+1e3*this.Ja().end,this.s.G=(Date.now()-n)/1e3),this.i&&this.i.presentationTimeline&&(this.s.I=this.i.presentationTimeline.g),n=this.B.getBandwidthEstimate(),this.s.C=n),this.l==yt&&(n=this.s,t=e.videoHeight||NaN,n.s=e.videoWidth||NaN,n.l=t);var r=this.s;e=r.s,n=r.l,t=r.F,i=r.K;var o=r.M,u=r.J,s=r.P,a=r.O,l=r.C,c=r.i,f=r.m,h=r.H,g=r.j,v=Xa(r.g,"playing"),T=Xa(r.g,"paused"),E=Xa(r.g,"buffering"),y=r.B,x=r.G,A=r.I,w=CE(r.g),C=[];r=p(r.h.g);for(var k=r.next();!k.done;k=r.next())k=k.value,C.push({timestamp:k.timestamp,id:k.id,type:k.type,fromAdaptation:k.fromAdaptation,bandwidth:k.bandwidth});return{width:e,height:n,streamBandwidth:t,decodedFrames:i,droppedFrames:o,corruptedFrames:u,stallsDetected:s,gapsJumped:a,estimatedBandwidth:l,completionPercent:c,loadLatency:f,manifestTimeSeconds:h,drmTimeSeconds:g,playTime:v,pauseTime:T,bufferingTime:E,licenseTime:y,liveLatency:x,maxSegmentDuration:A,stateHistory:w,switchHistory:C}},d.kg=function(e,t,n,i,r,o,u){u=u===void 0?!1:u;var s=this,a,l,c,f,h,g,v,T,E,y,x;return I(function(A){switch(A.g){case 1:if(s.l!=vt&&s.l!=yt)throw new S(1,7,7004);if(i){A.D(2);break}return m(A,Ja(s,e),3);case 3:i=A.h;case 2:if(a=[],s.G)try{a=s.G.getServerSideCuePoints()}catch{}if(s.l!=yt){A.D(4);break}return u&&(n="forced"),m(A,mp(s,e,t,n,i,o||"",a),5);case 5:if(l=s.yb(),c=l.find(function(w){return w.language==t&&w.label==(o||"")&&w.kind==n}))return Ct(s),A.return(c);throw new S(1,2,2012);case 4:if(f=Ze,h=s.i.presentationTimeline.getDuration(),h==1/0)throw new S(1,4,4033);if(!a.length){A.D(6);break}return m(A,Za(s,e,s.H,s.h.streaming.retryParameters),7);case 7:g=A.h,v=vp(s,g,i,a),T=new Blob([v],{type:"text/vtt"}),e=xa(T),i="text/vtt";case 6:if(E={id:s.hf++,originalId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:La(0,h,[e]),mimeType:i||"",codecs:r||"",kind:n,encrypted:!1,drmInfos:[],keyIds:new Set,language:t,label:o||null,type:f.ba,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],forced:!!u,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null},y=Qt(E.mimeType,E.codecs),x=Mo(y),!x)throw new S(2,2,2014,i);return s.i.textStreams.push(E),Ct(s),A.return(Lo(E))}})},d.lg=function(e,t){var n=this,i,r,o,u,s,a,l,c,f,h,g,v,T,E,y,x;return I(function(A){switch(A.g){case 1:if(n.l!=vt&&n.l!=yt)throw new S(1,7,7004);if(n.l==yt)throw new S(1,2,2016);if(t){A.D(2);break}return m(A,Ja(n,e),3);case 3:t=A.h;case 2:if(t!="text/vtt")throw new S(1,2,2017,e);if(i=Ze,r=n.i.presentationTimeline.getDuration(),r==1/0)throw new S(1,4,4045);return m(A,Za(n,e,n.H,n.h.streaming.retryParameters),4);case 4:if(o=A.h,u=Ke[t],!u)throw new S(2,2,2014,t);for(s=u(),a={periodStart:0,segmentStart:0,segmentEnd:r,vttOffset:0},l=ue(o),c=s.parseMedia(l,a),f=[],h={},g=p(c),v=g.next();!v.done;h={uc:h.uc},v=g.next())T=v.value,h.uc=at([e],[T.payload])[0],E=new ae(T.startTime,T.endTime,function(w){return function(){return[w.uc]}}(h),0,null,null,0,0,1/0),h.uc.includes("#xywh")&&(y=h.uc.split("#xywh=")[1].split(","),y.length===4&&E.Zf({height:parseInt(y[3],10),positionX:parseInt(y[0],10),positionY:parseInt(y[1],10),width:parseInt(y[2],10)})),f.push(E);return x={id:n.hf++,originalId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new he(f),mimeType:t||"",codecs:"",kind:"",encrypted:!1,drmInfos:[],keyIds:new Set,language:"und",label:null,type:i.Ac,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,tilesLayout:"1x1"},n.i.imageStreams.push(x),Ct(n),A.return(Zs(x))}})},d.jg=function(e,t,n){var i=this,r,o,u,s;return I(function(a){switch(a.g){case 1:if(i.l!=vt&&i.l!=yt)throw new S(1,7,7004);if(n){a.D(2);break}return m(a,Ja(i,e),3);case 3:n=a.h;case 2:if(r=[],i.G)try{r=i.G.getServerSideCuePoints()}catch{}return m(a,mp(i,e,t,"chapters",n,"",r),4);case 4:if(o=a.h,u=i.Gf(),s=u.find(function(l){return l.language==t}),!s){a.D(5);break}return m(a,new Promise(function(l,c){i.C.ya(o,"load",l),i.C.ya(o,"error",function(){c(new S(1,2,2015))})}),6);case 6:return a.return(s);case 5:throw new S(1,2,2012)}})};function Ja(e,t){var n,i;return I(function(r){switch(r.g){case 1:return n=Oi(t),(i=eT[n])?r.return(i):(ee(r,2),m(r,Vd(t,e.H,e.h.streaming.retryParameters),4));case 4:i=r.h,le(r,3);break;case 2:te(r);case 3:if(i)return r.return(i);throw new S(1,2,2011,n)}})}function mp(e,t,n,i,r,o,u){var s,a,l,c;return I(function(f){if(f.g==1)return r!="text/vtt"||u.length?m(f,Za(e,t,e.H,e.h.streaming.retryParameters),3):f.D(2);f.g!=2&&(s=f.h,a=vp(e,s,r,u),l=new Blob([a],{type:"text/vtt"}),t=xa(l),r="text/vtt"),c=document.createElement("track");var h=e.V,g=t;try{if(h.g.enabled){var v=ja(h);v.ot=Va,v.su=!0;var T=su(v),E=Ba(g,T)}else E=g}catch(y){jn("CMCD_TEXT_TRACK_ERROR","Could not generate text track CMCD data.",y),E=g}return c.src=E,c.label=o,c.kind=i,c.srclang=n,e.g.getAttribute("crossorigin")||e.g.setAttribute("crossorigin","anonymous"),e.g.appendChild(c),f.return(c)})}function Za(e,t,n,i){var r,o,u;return I(function(s){if(s.g==1){r=Rn,o=St([t],i),o.method="GET";var a=e.V;try{a.g.enabled&&Fa(a,o,{ot:Va,su:!0})}catch(l){jn("CMCD_TEXT_ERROR","Could not generate text CMCD data.",l)}return m(s,n.request(r,o).promise,2)}return u=s.h,s.return(u.data)})}function vp(e,t,n,i){var r=Ke[n];if(r)return n=r(),e={periodStart:0,segmentStart:0,segmentEnd:e.g.duration,vttOffset:0},t=ue(t),t=n.parseMedia(t,e),pE(t,i);throw new S(2,2,2014,n)}d.Oe=function(e,t){this.Qc.width=e,this.Qc.height=t},d.Fe=function(e){if(this.l==vt){var t=this.j;if(e=e===void 0?.1:e,t.h.g)t=!1;else if(t.B)t=!1;else{for(var n=p(t.j.values()),i=n.next();!i.done;i=n.next())i=i.value,!i.Mc||i.Ia||i.eb||(i.Mc=!1,xt(t,i,e));t=!0}}else t=!1;return t},d.Ng=function(){return pe("Shaka Player's internal Manifest structure is NOT covered by semantic versioning compatibility guarantees.  It may change at any time!  Please consider filing a feature request for whatever you use getManifest() for."),this.i},d.Og=function(){return this.Kd};function Ki(e){var t=Gi();return t.streaming.failureCallback=function(n){if(e.U()){var i=null;n.code==1001||n.code==1002?i=1:n.code==1003&&(i=.1),i!=null&&(n.severity=1,e.Fe(i))}},t.textDisplayFactory=function(){return e.Bd?new mt(e.g,e.Bd):new gt(e.g)},t}d.Te=function(e){this.Bd=e};function YE(e,t){for(var n=new Set,i=p(t.textStreams),r=i.next();!r.done;r=i.next())r=r.value,r.mimeType!="application/cea-608"&&r.mimeType!="application/cea-708"||n.add(r.originalId);for(i=p(t.variants),r=i.next();!r.done;r=i.next())if((r=r.value.video)&&r.closedCaptions){for(var o=p(r.closedCaptions.keys()),u=o.next();!u.done;u=o.next())if(u=u.value,!n.has(u)){var s=u.startsWith("CC")?"application/cea-608":"application/cea-708",a=new De;s={id:e.hf++,originalId:u,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:a,mimeType:s,codecs:"",kind:"caption",encrypted:!1,drmInfos:[],keyIds:new Set,language:r.closedCaptions.get(u),label:null,type:fe,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:r.roles,forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null},t.textStreams.push(s),n.add(u)}}}function yp(e,t){return I(function(n){if(n.g==1)return m(n,JE(e,t),2);Ep(e,t),P(n)})}function JE(e,t){var n;return I(function(i){if(i.g==1)return n=e.j?e.j.l:null,m(i,oy(n,t),2);Lp(t),P(i)})}function Ep(e,t){if(e.l!=Gt){Ys(t.variants,e.h.restrictions,e.Qc)&&e.j&&Ct(e);var n=e.m?e.m.g:null;if(n&&e.m.C)for(var i=p(t.variants),r=i.next();!r.done;r=i.next())r=r.value,Qa(e,n.keySystem,r.video),Qa(e,n.keySystem,r.audio);kp(e,t)}}function Qa(e,t,n){if(n){n=p(n.drmInfos);for(var i=n.next();!i.done;i=n.next())if(i=i.value,i.keySystem==t){i=p(i.initData||[]);for(var r=i.next();!r.done;r=i.next())r=r.value,kr(e.m,r.initDataType,r.initData)}}}function ZE(e,t){var n,i,r,o,u;return I(function(s){return s.g==1?(n=e.audio,i=e.video,r=function(a,l){var c,f,h;return I(function(g){return g.g==1?a?m(g,a.createSegmentIndex(),2):g.return(null):(f=(c=a.segmentIndex.bc(l))?c.next().value:null,f?(h=f.startTime,g.return(h)):g.return(null))})},m(s,r(n,t),2)):s.g!=3?(o=s.h,m(s,r(i,t),3)):(u=s.h,u!=null&&o!=null?s.return(Math.max(u,o)):u!=null?s.return(u):o!=null?s.return(o):s.return(t))})}function $a(e){var t=e.Pc();if(e.s&&e.O&&e.F){var n=e.J;n.j=t,Vf(n),e.V&&(n=e.V,t||n.i||(n.i=!0),n.i&&t&&(n.l=!0),n.m=t),fu(e)}t=new Map().set("buffering",t),e.dispatchEvent(Pe("buffering",t))}function Tp(e){var t=e.g.playbackRate;t!=0&&(e.J&&e.J.set(t),t=Pe("ratechange"),e.dispatchEvent(t))}function fu(e){if(e.s&&e.O){var t=e.s.g;e.O.g==Li?hu(t,"buffering"):e.g.paused?hu(t,"paused"):e.g.ended?hu(t,"ended"):hu(t,"playing")}}function qr(e){try{kp(e,e.i)}catch(n){return ri(e,n),!1}var t=e.i.variants.filter(function(n){return Sr(n)});return t=e.La.create(t),e.B.setVariants(Array.from(t.values())),!0}function pu(e){return qr(e)?e.B.chooseVariant():null}function gu(e){var t=pu(e);t&&Hr(e,t,!0,!0,0)}function Hr(e,t,n,i,r){var o=e.j.l;if(t==o)i&&Xf(e.j,t,i,r,!0);else{var u=e.s.h;u.h!=t&&(u.h=t,u.g.push({timestamp:Date.now()/1e3,id:t.id,type:"variant",fromAdaptation:n,bandwidth:t.bandwidth})),Xf(e.j,t,i,r,void 0,n),i=null,o&&(i=Xn(o)),t=Xn(t),n?Ap(e,i,t):Sp(e,i,t)}}function mu(e,t){var n=Array.from(e.g.audioTracks).find(function(i){return i.enabled});t.enabled=!0,t.id!==n.id&&(n.enabled=!1),n=No(n),t=No(t),Sp(e,n,t)}function QE(e,t,n){if(e.h.autoShowText==0)return!1;if(e.h.autoShowText==1)return!0;var i=ce(e.h.preferredTextLanguage);return n=ce(n.language),e.h.autoShowText==2?Ao(n,i):e.h.autoShowText==3?(e=ce(t.language),Ao(n,i)&&!Ao(e,n)):(pe("Invalid autoShowText setting!"),!1)}function Ap(e,t,n){t=new Map().set("oldTrack",t).set("newTrack",n),e.M&&Ef(e.M,n),n=Pe("adaptation",t),zi(e,n)}function Ct(e){var t=Pe("trackschanged");zi(e,t)}function Sp(e,t,n){t=new Map().set("oldTrack",t).set("newTrack",n),e.M&&Ef(e.M,n),n=Pe("variantchanged",t),zi(e,n)}function vu(e){var t=Pe("textchanged");zi(e,t)}function wp(e){var t=Pe("texttrackvisibility");zi(e,t)}function Ip(e){var t=new Map().set("newStatus",e.h.abr.enabled);zi(e,Pe("abrstatuschanged",t))}function $E(e,t){if(t.code!=1002&&t.code!=1011||t.category!=1||!navigator.onLine)return!1;var n=e.h.streaming.maxDisabledTime;if(n==0)if(t.code==1011)n=1;else return!1;t=e.Qa().find(function(u){return u.active});for(var i=e.i,r=p(i.variants),o=r.next();!o.done;o=r.next())o=o.value,o.id===t.id&&(o.disabledUntilTime=Date.now()/1e3+n);return Ys(i.variants,e.h.restrictions,e.Qc),t=pu(e),t?(i=e.ib().video.reduce(function(u,s){return u+s.end-s.start},0),Hr(e,t,!1,!0,i),e.kf.R(n),!0):!1}function ri(e,t){if(e.l!=Gt)if($E(e,t))t.handled=!0;else{var n=Pe("error",new Map().set("detail",t));e.dispatchEvent(n),n.defaultPrevented&&(t.handled=!0)}}function Xr(e,t,n){n=new Map().set("detail",{schemeIdUri:n.schemeIdUri,value:n.value,startTime:n.startTime,endTime:n.endTime,id:n.id,eventElement:n.eventElement}),e.dispatchEvent(Pe(t,n))}function el(e){if(!e.g.error)return null;var t=e.g.error.code;if(t==1)return null;var n=e.g.error.msExtendedCode;return n&&(0>n&&(n+=Math.pow(2,32)),n=n.toString(16)),new S(2,3,3016,t,n,e.g.error.message)}function xp(e,t){if(e.j){var n=Object.keys(t),i=n.length==1&&n[0]=="00",r=!1;if(n.length){n=p(e.i.variants);for(var o=n.next();!o.done;o=n.next()){o=o.value;var u=[];o.audio&&u.push(o.audio),o.video&&u.push(o.video),u=p(u);for(var s=u.next();!s.done;s=u.next()){var a=s.value;if(s=o.allowedByKeySystem,a.keyIds.size){o.allowedByKeySystem=!0,a=p(a.keyIds);for(var l=a.next();!l.done;l=a.next())l=l.value,l=t[i?"00":l],o.allowedByKeySystem=o.allowedByKeySystem&&!!l&&!Dp.includes(l)}s!=o.allowedByKeySystem&&(r=!0)}}}(!r||qr(e))&&((t=e.j.l)&&!t.allowedByKeySystem&&gu(e),r&&Ct(e))}}function Cp(e,t,n){e.K&&e.K.onExpirationUpdated&&e.K.onExpirationUpdated(t,n),t=Pe("expirationupdated"),e.dispatchEvent(t)}function Mp(e,t,n){0<t&&(e.U()||e.$f(t)),t=e.getDuration(),n<t&&(e.U()||e.Sa(n))}function kp(e,t){e=e.m?e.m.ud():{};var n=Object.keys(e);n=n.length&&n[0]=="00";var i=!1,r=!1,o=new Set,u=new Set;t=p(t.variants);for(var s=t.next();!s.done;s=t.next()){s=s.value;var a=[];s.audio&&a.push(s.audio),s.video&&a.push(s.video),a=p(a);for(var l=a.next();!l.done;l=a.next())if(l=l.value,l.keyIds.size){l=p(l.keyIds);for(var c=l.next();!c.done;c=l.next()){c=c.value;var f=e[n?"00":c];f?Dp.includes(f)&&u.add(f):o.add(c)}}s.allowedByApplication?s.allowedByKeySystem&&(i=!0):r=!0}if(!i)throw e={hasAppRestrictions:r,missingKeys:Array.from(o),restrictedKeyStatuses:Array.from(u)},new S(2,4,4012,e)}function Lp(e){if(!e.variants.some(Sr))throw new S(2,4,4032)}function zi(e,t){I(function(n){if(n.g==1)return m(n,Promise.resolve(),2);e.l!=Gt&&e.dispatchEvent(t),P(n)})}function Np(e){var t=new Set;e=p(e);for(var n=e.next();!n.done;n=e.next())n=n.value,n.language?t.add(ce(n.language)):t.add("und");return t}function Rp(e){var t=new Map,n=new Map;e=p(e);for(var i=e.next();!i.done;i=e.next()){i=i.value;var r="und",o=[];i.language&&(r=ce(i.language)),i.type=="variant"?o=i.audioRoles:o=i.roles,o&&o.length||(o=[""]),t.has(r)||t.set(r,new Set),o=p(o);for(var u=o.next();!u.done;u=o.next())u=u.value,t.get(r).add(u),i.label&&(n.has(r)||n.set(r,new Map),n.get(r).set(u,i.label))}var s=[];return t.forEach(function(a,l){a=p(a);for(var c=a.next();!c.done;c=a.next()){c=c.value;var f=null;n.has(l)&&n.get(l).has(c)&&(f=n.get(l).get(c)),s.push({language:l,role:c,label:f})}}),s}function oi(){return new S(2,7,7e3)}function tl(e,t,n,i,r,o){return i==e&&r.mediaElement==o.mediaElement&&r.uri==o.uri&&r.mimeType==o.mimeType?t:n}function qi(){return{mediaElement:null,mimeType:null,startTime:null,Ue:NaN,uri:null}}function nl(e){return new Promise(function(t,n){e.Qb=function(){return n(oi())},e.Ed=function(){return t()},e.onError=function(i){return n(i)},e.Gd=function(){return n(oi())}})}R("shaka.Player",L),L.prototype.setVideoContainer=L.prototype.Te,L.prototype.getManifestParserFactory=L.prototype.Og,L.prototype.getManifest=L.prototype.Ng,L.prototype.retryStreaming=L.prototype.Fe,L.prototype.setMaxHardwareResolution=L.prototype.Oe,L.prototype.addChaptersTrack=L.prototype.jg,L.prototype.addThumbnailsTrack=L.prototype.lg,L.prototype.addTextTrackAsync=L.prototype.kg,L.prototype.getStats=L.prototype.getStats,L.prototype.getBufferedInfo=L.prototype.ib,L.prototype.getPresentationStartTimeAsDate=L.prototype.Jf,L.prototype.getPlayheadTimeAsDate=L.prototype.Sg,L.prototype.setTextTrackVisibility=L.prototype.Se,L.prototype.getChapters=L.prototype.Bg,L.prototype.getChaptersTracks=L.prototype.Gf,L.prototype.isTextTrackVisible=L.prototype.Nb,L.prototype.selectVariantsByLabel=L.prototype.Eh,L.prototype.selectTextLanguage=L.prototype.Ie,L.prototype.selectAudioLanguage=L.prototype.Md,L.prototype.getTextLanguages=L.prototype.Vg,L.prototype.getAudioLanguages=L.prototype.xg,L.prototype.getTextLanguagesAndRoles=L.prototype.Wg,L.prototype.getAudioLanguagesAndRoles=L.prototype.yg,L.prototype.selectVariantTrack=L.prototype.Ke,L.prototype.selectTextTrack=L.prototype.Je,L.prototype.getThumbnails=L.prototype.Yg,L.prototype.getImageTracks=L.prototype.Ig,L.prototype.getTextTracks=L.prototype.yb,L.prototype.getVariantTracks=L.prototype.Qa,L.prototype.cancelTrickPlay=L.prototype.vf,L.prototype.trickPlay=L.prototype.Ze,L.prototype.getPlaybackRate=L.prototype.xb,L.prototype.isBuffering=L.prototype.Pc,L.prototype.getKeyStatuses=L.prototype.ud,L.prototype.getExpiration=L.prototype.Gc,L.prototype.drmInfo=L.prototype.drmInfo,L.prototype.keySystem=L.prototype.keySystem,L.prototype.goToLive=L.prototype.bh,L.prototype.seekRange=L.prototype.Ja,L.prototype.isAudioOnly=L.prototype.hc,L.prototype.isInProgress=L.prototype.Lb,L.prototype.isLive=L.prototype.U,L.prototype.getAdManager=L.prototype.sd,L.prototype.getAssetUri=L.prototype.le,L.prototype.getNetworkingEngine=L.prototype.Hc,L.prototype.getMediaElement=L.prototype.Qg,L.prototype.getLoadMode=L.prototype.If,L.prototype.resetConfiguration=L.prototype.Bh,L.prototype.getBufferFullness=L.prototype.zg,L.prototype.getConfiguration=L.prototype.getConfiguration,L.prototype.configure=L.prototype.configure,L.prototype.load=L.prototype.load,L.prototype.updateStartTime=L.prototype.Oh,L.prototype.unload=L.prototype.bf,L.prototype.detach=L.prototype.detach,L.prototype.attachCanvas=L.prototype.qf,L.prototype.attach=L.prototype.Bc,L.probeSupport=function(e){e=e===void 0?!0:e;var t,n,i,r,o,u;return I(function(s){if(s.g==1)return t={},e?m(s,qy(),3):s.D(2);s.g!=2&&(t=s.h);var a={};if(jt()){for(var l in wt)a[l]=!0;for(var c in Zn)a[c]=!0}l={mpd:"application/dash+xml",m3u8:"application/x-mpegurl",ism:"application/vnd.ms-sstr+xml"},c=p(["application/dash+xml","application/x-mpegurl","application/vnd.apple.mpegurl","application/vnd.ms-sstr+xml"]);for(var f=c.next();!f.done;f=c.next())f=f.value,a[f]=jt()?!!wt[f]:xi(f);for(var h in l)a[h]=jt()?!!Zn[h]:xi(l[h]);for(n=a,h='video/mp4; codecs="avc1.42E01E",video/mp4; codecs="avc3.42E01E",video/mp4; codecs="hev1.1.6.L93.90",video/mp4; codecs="hvc1.1.6.L93.90",video/mp4; codecs="hev1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="hvc1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="vp9",video/mp4; codecs="vp09.00.10.08",video/mp4; codecs="av01.0.01M.08",audio/mp4; codecs="mp4a.40.2",audio/mp4; codecs="ac-3",audio/mp4; codecs="ec-3",audio/mp4; codecs="opus",audio/mp4; codecs="flac",audio/mp4; codecs="dtsc",audio/mp4; codecs="dtse",audio/mp4; codecs="dtsx",video/webm; codecs="vp8",video/webm; codecs="vp9",video/webm; codecs="vp09.00.10.08",audio/webm; codecs="vorbis",audio/webm; codecs="opus",video/mp2t; codecs="avc1.42E01E",video/mp2t; codecs="avc3.42E01E",video/mp2t; codecs="hvc1.1.6.L93.90",video/mp2t; codecs="mp4a.40.2",video/mp2t; codecs="ac-3",video/mp2t; codecs="ec-3",text/vtt,application/mp4; codecs="wvtt",application/ttml+xml,application/mp4; codecs="stpp"'.split(",").concat(se(bi)),a={},h=p(h),l=h.next();!l.done;l=h.next())l=l.value,a[l]=jt()?Mo(l)?!0:pt(l)||Xs(l):xi(l),c=l.split(";")[0],a[c]=a[c]||a[l];i=a,r={manifest:n,media:i,drm:t},o=rl;for(u in o)r[u]=o[u]();return s.return(r)})},L.isBrowserSupported=sp,L.setAdManagerFactory=function(e){yu=e},L.registerSupportPlugin=function(e,t){rl[e]=t},L.prototype.destroy=L.prototype.destroy;var Gt=0,il=1,vt=2,yt=3;L.LoadMode={DESTROYED:Gt,NOT_LOADED:il,MEDIA_SOURCE:vt,SRC_EQUALS:yt},L.version="v4.3.6";var _p=["4","3"];ud=new function(e){this.g=e,this.i=vy,this.h=yy}(new ta(Number(_p[0]),Number(_p[1])));var Dp=["output-restricted","internal-error"],rl={},yu=null,Eu={mp4:"video/mp4",m4v:"video/mp4",m4a:"audio/mp4",webm:"video/webm",weba:"audio/webm",mkv:"video/webm",ts:"video/mp2t",ogv:"video/ogg",ogg:"audio/ogg",mpg:"video/mpeg",mpeg:"video/mpeg",m3u8:"application/x-mpegurl",mpd:"application/dash+xml",mp3:"audio/mpeg",aac:"audio/aac",flac:"audio/flac",wav:"audio/wav"},eT={sbv:"text/x-subviewer",srt:"text/srt",vtt:"text/vtt",webvtt:"text/vtt",ttml:"application/ttml+xml",lrc:"application/x-subtitle-lrc",ssa:"text/x-ssa",ass:"text/x-ssa"};function Pp(){this.h=[],this.j=this.i=this.g=0}function ne(e,t,n){var i=this;this.h=e,this.g=t,this.m=n,this.i=!1,this.l=this.g.getVolume(),this.j=new ye,this.j.o(this.g,google.ima.AdEvent.Type.PAUSED,function(){i.i=!0}),this.j.o(this.g,google.ima.AdEvent.Type.RESUMED,function(){i.i=!1})}d=ne.prototype,d.getDuration=function(){return this.h.getDuration()},d.getMinSuggestedDuration=function(){return this.h.getMinSuggestedDuration()},d.getRemainingTime=function(){return this.g.getRemainingTime()},d.isPaused=function(){return this.i},d.isSkippable=function(){return 0<=this.h.getSkipTimeOffset()},d.getTimeUntilSkippable=function(){var e=this.h.getSkipTimeOffset();return e=this.getRemainingTime()-e,Math.max(e,0)},d.canSkipNow=function(){return this.g.getAdSkippableState()},d.skip=function(){return this.g.skip()},d.pause=function(){return this.g.pause()},d.play=function(){return this.g.resume()},d.getVolume=function(){return this.g.getVolume()},d.setVolume=function(e){return this.g.setVolume(e)},d.isMuted=function(){return this.g.getVolume()==0},d.isLinear=function(){return this.h.isLinear()},d.resize=function(e,t){var n=!1,i=this.m;document.fullscreenEnabled?n=!!document.fullscreenElement:i.webkitSupportsFullscreen&&(n=i.webkitDisplayingFullscreen),this.g.resize(e,t,n?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)},d.setMuted=function(e){e?(this.l=this.getVolume(),this.setVolume(0)):this.setVolume(this.l)},d.getSequenceLength=function(){var e=this.h.getAdPodInfo();return e==null?1:e.getTotalAds()},d.getPositionInSequence=function(){var e=this.h.getAdPodInfo();return e==null?1:e.getAdPosition()},d.getTitle=function(){return this.h.getTitle()},d.getDescription=function(){return this.h.getDescription()},d.release=function(){this.g=this.h=null},R("shaka.ads.ClientSideAd",ne),ne.prototype.release=ne.prototype.release,ne.prototype.getDescription=ne.prototype.getDescription,ne.prototype.getTitle=ne.prototype.getTitle,ne.prototype.getPositionInSequence=ne.prototype.getPositionInSequence,ne.prototype.getSequenceLength=ne.prototype.getSequenceLength,ne.prototype.setMuted=ne.prototype.setMuted,ne.prototype.resize=ne.prototype.resize,ne.prototype.isLinear=ne.prototype.isLinear,ne.prototype.isMuted=ne.prototype.isMuted,ne.prototype.setVolume=ne.prototype.setVolume,ne.prototype.getVolume=ne.prototype.getVolume,ne.prototype.play=ne.prototype.play,ne.prototype.pause=ne.prototype.pause,ne.prototype.skip=ne.prototype.skip,ne.prototype.canSkipNow=ne.prototype.canSkipNow,ne.prototype.getTimeUntilSkippable=ne.prototype.getTimeUntilSkippable,ne.prototype.isSkippable=ne.prototype.isSkippable,ne.prototype.isPaused=ne.prototype.isPaused,ne.prototype.getRemainingTime=ne.prototype.getRemainingTime,ne.prototype.getMinSuggestedDuration=ne.prototype.getMinSuggestedDuration,ne.prototype.getDuration=ne.prototype.getDuration;function ol(e,t,n,i){var r=this;this.s=e,this.i=t,this.B=null,this.C=NaN,this.l=i,this.j=null,this.h=new ye,google.ima.settings.setLocale(n),e=new google.ima.AdDisplayContainer(this.s,this.i),e.initialize(),this.m=new google.ima.AdsLoader(e),this.m.getSettings().setPlayerType("shaka-player"),this.m.getSettings().setPlayerVersion("v4.3.6"),this.g=null,this.h.ya(this.m,google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,function(o){tT(r,o)}),this.h.o(this.m,google.ima.AdErrorEvent.Type.AD_ERROR,function(o){Op(r,o)}),this.h.o(this.i,"ended",function(){r.m.contentComplete()})}ol.prototype.stop=function(){this.g&&this.g.stop(),this.s&&ii(this.s)},ol.prototype.release=function(){this.stop(),this.B&&this.B.disconnect(),this.h&&this.h.release(),this.g&&this.g.destroy(),this.m.destroy()};function Op(e,t){t.getError(),Au(e,null),e.l(new U("ad-cue-points-changed",new Map().set("cuepoints",[])))}function tT(e,t){e.l(new U("ads-loaded",new Map().set("loadTime",Date.now()/1e3-e.C))),e.g=t.getAdsManager(e.i),e.l(new U("ima-ad-manager-loaded",new Map().set("imaAdManager",e.g)));var n=e.g.getCuePoints();if(n.length){t=[],n=p(n);for(var i=n.next();!i.done;i=n.next())t.push({start:i.value,end:null});e.l(new U("ad-cue-points-changed",new Map().set("cuepoints",t)))}nT(e);try{e.g.init(e.i.offsetWidth,e.i.offsetHeight,Tu(e)?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL),e.h.o(e.i,"loadeddata",function(){e.g.resize(e.i.offsetWidth,e.i.offsetHeight,Tu(e)?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)}),"ResizeObserver"in M?(e.B=new ResizeObserver(function(){e.g.resize(e.i.offsetWidth,e.i.offsetHeight,Tu(e)?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)}),e.B.observe(e.i)):e.h.o(document,"fullscreenchange",function(){e.g.resize(e.i.offsetWidth,e.i.offsetHeight,Tu(e)?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)}),e.h.ya(e.i,"play",function(){e.g.start()})}catch{Au(e,null)}}function Tu(e){return document.fullscreenEnabled?!!document.fullscreenElement:(e=e.i,e.webkitSupportsFullscreen?e.webkitDisplayingFullscreen:!1)}function nT(e){function t(n,i){n=new Map().set("originalEvent",n),e.l(new U(i,n))}e.h.o(e.g,google.ima.AdErrorEvent.Type.AD_ERROR,function(n){Op(e,n)}),e.h.o(e.g,google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,function(n){Up(e,n)}),e.h.o(e.g,google.ima.AdEvent.Type.STARTED,function(n){Up(e,n)}),e.h.o(e.g,google.ima.AdEvent.Type.FIRST_QUARTILE,function(n){t(n,"ad-first-quartile")}),e.h.o(e.g,google.ima.AdEvent.Type.MIDPOINT,function(n){t(n,"ad-midpoint")}),e.h.o(e.g,google.ima.AdEvent.Type.THIRD_QUARTILE,function(n){t(n,"ad-third-quartile")}),e.h.o(e.g,google.ima.AdEvent.Type.COMPLETE,function(n){t(n,"ad-complete")}),e.h.o(e.g,google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,function(n){Au(e,n)}),e.h.o(e.g,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,function(n){Au(e,n)}),e.h.o(e.g,google.ima.AdEvent.Type.SKIPPED,function(n){t(n,"ad-skipped")}),e.h.o(e.g,google.ima.AdEvent.Type.VOLUME_CHANGED,function(n){t(n,"ad-volume-changed")}),e.h.o(e.g,google.ima.AdEvent.Type.VOLUME_MUTED,function(n){t(n,"ad-muted")}),e.h.o(e.g,google.ima.AdEvent.Type.PAUSED,function(n){e.j&&(e.j.i=!0,t(n,"ad-paused"))}),e.h.o(e.g,google.ima.AdEvent.Type.RESUMED,function(n){e.j&&(e.j.i=!1,t(n,"ad-resumed"))}),e.h.o(e.g,google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,function(n){e.j&&t(n,"ad-skip-state-changed")}),e.h.o(e.g,google.ima.AdEvent.Type.CLICK,function(n){t(n,"ad-clicked")}),e.h.o(e.g,google.ima.AdEvent.Type.AD_PROGRESS,function(n){t(n,"ad-progress")}),e.h.o(e.g,google.ima.AdEvent.Type.AD_BUFFERING,function(n){t(n,"ad-buffering")}),e.h.o(e.g,google.ima.AdEvent.Type.IMPRESSION,function(n){t(n,"ad-impression")}),e.h.o(e.g,google.ima.AdEvent.Type.DURATION_CHANGE,function(n){t(n,"ad-duration-changed")}),e.h.o(e.g,google.ima.AdEvent.Type.USER_CLOSE,function(n){t(n,"ad-closed")}),e.h.o(e.g,google.ima.AdEvent.Type.LOADED,function(n){t(n,"ad-loaded")}),e.h.o(e.g,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,function(n){t(n,"all-ads-completed")}),e.h.o(e.g,google.ima.AdEvent.Type.LINEAR_CHANGED,function(n){t(n,"ad-linear-changed")}),e.h.o(e.g,google.ima.AdEvent.Type.AD_METADATA,function(n){t(n,"ad-metadata")}),e.h.o(e.g,google.ima.AdEvent.Type.LOG,function(n){t(n,"ad-recoverable-error")}),e.h.o(e.g,google.ima.AdEvent.Type.AD_BREAK_READY,function(n){t(n,"ad-break-ready")}),e.h.o(e.g,google.ima.AdEvent.Type.INTERACTION,function(n){t(n,"ad-interaction")})}function Up(e,t){var n=t.getAd();n?(e.j=new ne(n,e.g,e.i),t=new Map().set("ad",e.j).set("sdkAdObject",n).set("originalEvent",t),e.l(new U("ad-started",t)),e.j.isLinear()&&(e.s.setAttribute("ad-active","true"),e.i.pause(),e.j.setVolume(e.i.volume),e.i.muted&&e.j.setMuted(!0))):pe("The IMA SDK fired a "+t.type+" event with no associated ad. Unable to play ad!")}function Au(e,t){e.l(new U("ad-stopped",new Map().set("originalEvent",t))),e.j&&e.j.isLinear()&&(e.s.removeAttribute("ad-active"),e.i.ended||e.i.play())}function ie(e,t){this.i=e,this.h=null,this.g=t}d=ie.prototype,d.getDuration=function(){return this.h?this.h.duration:-1},d.getMinSuggestedDuration=function(){return this.getDuration()},d.getRemainingTime=function(){return this.h?this.h.duration-this.h.currentTime:-1},d.isPaused=function(){return this.g.paused},d.isSkippable=function(){return this.i.isSkippable()},d.getTimeUntilSkippable=function(){var e=this.i.getSkipTimeOffset();return e=this.getRemainingTime()-e,Math.max(e,0)},d.canSkipNow=function(){return this.getTimeUntilSkippable()==0},d.skip=function(){this.g.currentTime+=this.getRemainingTime()},d.pause=function(){return this.g.pause()},d.play=function(){return this.g.play()},d.getVolume=function(){return this.g.volume},d.setVolume=function(e){this.g.volume=e},d.isMuted=function(){return this.g.muted},d.isLinear=function(){return!0},d.resize=function(){},d.setMuted=function(e){this.g.muted=e},d.getSequenceLength=function(){var e=this.i.getAdPodInfo();return e==null?1:e.getTotalAds()},d.getPositionInSequence=function(){var e=this.i.getAdPodInfo();return e==null?1:e.getAdPosition()},d.getTitle=function(){return this.i.getTitle()},d.getDescription=function(){return this.i.getDescription()},d.release=function(){this.g=this.h=this.i=null},R("shaka.ads.ServerSideAd",ie),ie.prototype.release=ie.prototype.release,ie.prototype.getDescription=ie.prototype.getDescription,ie.prototype.getTitle=ie.prototype.getTitle,ie.prototype.getPositionInSequence=ie.prototype.getPositionInSequence,ie.prototype.getSequenceLength=ie.prototype.getSequenceLength,ie.prototype.setMuted=ie.prototype.setMuted,ie.prototype.resize=ie.prototype.resize,ie.prototype.isLinear=ie.prototype.isLinear,ie.prototype.isMuted=ie.prototype.isMuted,ie.prototype.setVolume=ie.prototype.setVolume,ie.prototype.getVolume=ie.prototype.getVolume,ie.prototype.play=ie.prototype.play,ie.prototype.pause=ie.prototype.pause,ie.prototype.skip=ie.prototype.skip,ie.prototype.canSkipNow=ie.prototype.canSkipNow,ie.prototype.getTimeUntilSkippable=ie.prototype.getTimeUntilSkippable,ie.prototype.isSkippable=ie.prototype.isSkippable,ie.prototype.isPaused=ie.prototype.isPaused,ie.prototype.getRemainingTime=ie.prototype.getRemainingTime,ie.prototype.getMinSuggestedDuration=ie.prototype.getMinSuggestedDuration,ie.prototype.getDuration=ie.prototype.getDuration;function Su(e,t,n,i){var r=this;this.B=e,this.l=t,this.j=null,this.I=NaN,this.i=i,this.H=!1,this.C=this.m=this.s=null,this.F="",this.G=[],this.h=new ye,e=new google.ima.dai.api.UiSettings,e.setLocale(n),this.g=new google.ima.dai.api.StreamManager(this.l,this.B,e),this.i(new U("ima-stream-manager-loaded",new Map().set("imaStreamManager",this.g))),this.h.o(this.g,google.ima.dai.api.StreamEvent.Type.LOADED,function(o){iT(r,o)}),this.h.o(this.g,google.ima.dai.api.StreamEvent.Type.ERROR,function(){r.F.length?r.j.resolve(r.F):r.j.reject("IMA Stream request returned an error and there was no backup asset uri provided."),r.j=null}),this.h.o(this.g,google.ima.dai.api.StreamEvent.Type.AD_BREAK_STARTED,function(){}),this.h.o(this.g,google.ima.dai.api.StreamEvent.Type.STARTED,function(o){o=o.getAd(),r.m=new ie(o,r.l),r.C&&(r.m.h=r.C),r.i(new U("ad-started",new Map().set("ad",r.m))),r.B.setAttribute("ad-active","true")}),this.h.o(this.g,google.ima.dai.api.StreamEvent.Type.AD_BREAK_ENDED,function(){r.B.removeAttribute("ad-active");var o=r.l.currentTime;r.s&&r.s>o&&(r.l.currentTime=r.s,r.s=null)}),this.h.o(this.g,google.ima.dai.api.StreamEvent.Type.AD_PROGRESS,function(o){r.C=o.getStreamData().adProgressData,r.m&&(r.m.h=r.C)}),this.h.o(this.g,google.ima.dai.api.StreamEvent.Type.FIRST_QUARTILE,function(){r.i(new U("ad-first-quartile"))}),this.h.o(this.g,google.ima.dai.api.StreamEvent.Type.MIDPOINT,function(){r.i(new U("ad-midpoint"))}),this.h.o(this.g,google.ima.dai.api.StreamEvent.Type.THIRD_QUARTILE,function(){r.i(new U("ad-third-quartile"))}),this.h.o(this.g,google.ima.dai.api.StreamEvent.Type.COMPLETE,function(){r.i(new U("ad-complete")),r.i(new U("ad-stopped")),r.B.removeAttribute("ad-active"),r.m=null}),this.h.o(this.g,google.ima.dai.api.StreamEvent.Type.SKIPPED,function(){r.i(new U("ad-skipped")),r.i(new U("ad-stopped"))}),this.h.o(this.g,google.ima.dai.api.StreamEvent.Type.CUEPOINTS_CHANGED,function(o){var u=o.getStreamData();o=[],u=p(u.cuepoints);for(var s=u.next();!s.done;s=u.next())s=s.value,o.push({start:s.start,end:s.end});r.G=o,r.i(new U("ad-cue-points-changed",new Map().set("cuepoints",o)))})}Su.prototype.stop=function(){this.F="",this.s=null,this.G=[]},Su.prototype.release=function(){this.stop(),this.h&&this.h.release()},Su.prototype.onCueMetadataChange=function(e){if(e.key&&e.data){var t={};t[e.key]=e.data,this.g.onTimedMetadata(t)}};function iT(e,t){e.i(new U("ads-loaded",new Map().set("loadTime",Date.now()/1e3-e.I))),t=t.getStreamData().url,e.j.resolve(t),e.j=null,e.H||e.h.o(e.l,"seeked",function(){var n=e.l.currentTime;if(n!=0){e.g.streamTimeForContentTime(n);var i=e.g.previousCuePointForStreamTime(n);i&&!i.played&&(e.s=n,e.l.currentTime=i.start)}})}function G(){oe.call(this),this.g=this.i=null,this.h=new Pp,this.j=navigator.language}K(G,oe),d=G.prototype,d.setLocale=function(e){this.j=e},d.initClientSide=function(e,t){var n=this;if(!M.google||!google.ima||!google.ima.AdsLoader)throw new S(2,10,1e4);this.i&&this.i.release(),this.i=new ol(e,t,this.j,function(i){if(i&&i.type)switch(i.type){case"ads-loaded":n.h.h.push(i.loadTime);break;case"ad-started":n.h.g++;break;case"ad-complete":n.h.i++;break;case"ad-skipped":n.h.j++}n.dispatchEvent(i)})},d.release=function(){this.i&&(this.i.release(),this.i=null),this.g&&(this.g.release(),this.g=null),oe.prototype.release.call(this)},d.onAssetUnload=function(){this.i&&this.i.stop(),this.g&&this.g.stop(),this.dispatchEvent(new U("ad-stopped")),this.h=new Pp},d.requestClientSideAds=function(e){if(!this.i)throw new S(1,10,10001);var t=this.i;t.C=Date.now()/1e3,t.m.requestAds(e)},d.initServerSide=function(e,t){var n=this;if(!M.google||!google.ima||!google.ima.dai)throw new S(2,10,10002);this.g&&this.g.release(),this.g=new Su(e,t,this.j,function(i){if(i&&i.type)switch(i.type){case"ads-loaded":n.h.h.push(i.loadTime);break;case"ad-started":n.h.g++;break;case"ad-complete":n.h.i++;break;case"ad-skipped":n.h.j++}n.dispatchEvent(i)})},d.requestServerSideStream=function(e,t){if(t=t===void 0?"":t,!this.g)throw new S(1,10,10003);e.adTagParameters||(e.adTagParameters={});var n=e.adTagParameters;return(n.mpt||n.mpv)&&pe('You have attempted to set "mpt" and/or "mpv" parameters of the ad tag. Please note that those parameters are used for Shaka adoption tracking and will be overriden.'),e.adTagParameters.mpt="shaka-player",e.adTagParameters.mpv="v4.3.6",n=this.g,n.j?e=Promise.reject(new S(1,10,10004)):(e instanceof google.ima.dai.api.LiveStreamRequest&&(n.H=!0),n.j=new we,n.g.requestStream(e),n.F=t||"",n.I=Date.now()/1e3,e=n.j),e},d.replaceServerSideAdTagParameters=function(e){if(!this.g)throw new S(1,10,10003);(e.mpt||e.mpv)&&pe('You have attempted to set "mpt" and/or "mpv" parameters of the ad tag. Please note that those parameters are used for Shaka adoption tracking and will be overriden.'),e.mpt="Shaka Player",e.mpv="v4.3.6",this.g.g.replaceAdTagParameters(e)},d.getServerSideCuePoints=function(){if(!this.g)throw new S(1,10,10003);return this.g.G},d.getStats=function(){var e=this.h;return{loadTimes:e.h,started:e.g,playedCompletely:e.i,skipped:e.j}},d.onDashTimedMetadata=function(e){if(this.g&&e.schemeIdUri=="urn:google:dai:2018"){var t=e.schemeIdUri,n=e.eventElement?e.eventElement.getAttribute("messageData"):null;this.g.g.processMetadata(t,n,e.startTime)}},d.onHlsTimedMetadata=function(e,t){this.g&&this.g.g.processMetadata("ID3",e.data,t)},d.onCueMetadataChange=function(e){this.g&&this.g.onCueMetadataChange(e)},R("shaka.ads.AdManager",G),G.prototype.onCueMetadataChange=G.prototype.onCueMetadataChange,G.prototype.onHlsTimedMetadata=G.prototype.onHlsTimedMetadata,G.prototype.onDashTimedMetadata=G.prototype.onDashTimedMetadata,G.prototype.getStats=G.prototype.getStats,G.prototype.getServerSideCuePoints=G.prototype.getServerSideCuePoints,G.prototype.replaceServerSideAdTagParameters=G.prototype.replaceServerSideAdTagParameters,G.prototype.requestServerSideStream=G.prototype.requestServerSideStream,G.prototype.initServerSide=G.prototype.initServerSide,G.prototype.requestClientSideAds=G.prototype.requestClientSideAds,G.prototype.onAssetUnload=G.prototype.onAssetUnload,G.prototype.release=G.prototype.release,G.prototype.initClientSide=G.prototype.initClientSide,G.prototype.setLocale=G.prototype.setLocale,G.ADS_LOADED="ads-loaded",G.AD_STARTED="ad-started",G.AD_FIRST_QUARTILE="ad-first-quartile",G.AD_MIDPOINT="ad-midpoint",G.AD_THIRD_QUARTILE="ad-third-quartile",G.AD_COMPLETE="ad-complete",G.AD_STOPPED="ad-stopped",G.AD_SKIPPED="ad-skipped",G.AD_VOLUME_CHANGED="ad-volume-changed",G.AD_MUTED="ad-muted",G.AD_PAUSED="ad-paused",G.AD_RESUMED="ad-resumed",G.AD_SKIP_STATE_CHANGED="ad-skip-state-changed",G.CUEPOINTS_CHANGED="ad-cue-points-changed",G.IMA_AD_MANAGER_LOADED="ima-ad-manager-loaded",G.IMA_STREAM_MANAGER_LOADED="ima-stream-manager-loaded",G.AD_CLICKED="ad-clicked",G.AD_PROGRESS="ad-progress",G.AD_BUFFERING="ad-buffering",G.AD_IMPRESSION="ad-impression",G.AD_DURATION_CHANGED="ad-duration-changed",G.AD_CLOSED="ad-closed",G.AD_LOADED="ad-loaded",G.ALL_ADS_COMPLETED="all-ads-completed",G.AD_LINEAR_CHANGED="ad-linear-changed",G.AD_METADATA="ad-metadata",G.AD_RECOVERABLE_ERROR="ad-recoverable-error",G.AD_BREAK_READY="ad-break-ready",G.AD_INTERACTION="ad-interaction",yu=function(){return new G};function bp(e){return JSON.stringify(e,function(t,n){if(typeof n!="function"){if(n instanceof Event||n instanceof U){var i={};for(r in n)(t=n[r])&&typeof t=="object"?r=="detail"&&(i[r]=t):r in Event||(i[r]=t);return i}if(n instanceof Error){var r=new Set(["name","message","stack"]);for(i in n)r.add(i);for(t=p(Object.getOwnPropertyNames(n)),i=t.next();!i.done;i=t.next())r.add(i.value);for(t={},r=p(r),i=r.next();!i.done;i=r.next())i=i.value,t[i]=n[i];n={__type__:"Error",contents:t}}else if(n instanceof TimeRanges){for(r={__type__:"TimeRanges",length:n.length,start:[],end:[]},n=p(_n(n)),i=n.next();!i.done;i=n.next())i=i.value,t=i.end,r.start.push(i.start),r.end.push(t);n=r}else n=n instanceof Uint8Array?{__type__:"Uint8Array",entries:Array.from(n)}:typeof n=="number"?isNaN(n)?"NaN":isFinite(n)?n:0>n?"-Infinity":"Infinity":n;return n}})}function ul(e){return JSON.parse(e,function(t,n){if(n=="NaN")var i=NaN;else if(n=="-Infinity")i=-1/0;else if(n=="Infinity")i=1/0;else if(n&&typeof n=="object"&&n.__type__=="TimeRanges")i=rT(n);else if(n&&typeof n=="object"&&n.__type__=="Uint8Array")i=new Uint8Array(n.entries);else if(n&&typeof n=="object"&&n.__type__=="Error"){t=n.contents,n=Error(t.message);for(i in t)n[i]=t[i];i=n}else i=n;return i})}function rT(e){return{length:e.length,start:function(t){return e.start[t]},end:function(t){return e.end[t]}}}var jp="ended play playing pause pausing ratechange seeked seeking timeupdate volumechange".split(" "),oT="buffered currentTime duration ended loop muted paused playbackRate seeking videoHeight videoWidth volume".split(" "),sl=["loop","playbackRate"],uT=["pause","play"],wu={getAssetUri:2,getAudioLanguages:4,getAudioLanguagesAndRoles:4,getBufferFullness:1,getBufferedInfo:2,getExpiration:2,getKeyStatuses:2,getPlaybackRate:2,getTextLanguages:4,getTextLanguagesAndRoles:4,getImageTracks:2,getThumbnails:2,isAudioOnly:10,isBuffering:1,isInProgress:1,isLive:10,isTextTrackVisible:1,keySystem:10,seekRange:1,getLoadMode:10},Iu={getConfiguration:4,getStats:5,getTextTracks:2,getVariantTracks:2},al={getPlayheadTimeAsDate:1,getPresentationStartTimeAsDate:20},Fp=[["getConfiguration","configure"]],Bp=[["isTextTrackVisible","setTextTrackVisibility"]],sT="addChaptersTrack addTextTrackAsync addThumbnailsTrack cancelTrickPlay configure getChapters getChaptersTracks resetConfiguration retryStreaming selectAudioLanguage selectTextLanguage selectTextTrack selectVariantTrack selectVariantsByLabel setTextTrackVisibility trickPlay updateStartTime goToLive".split(" "),aT=["attach","attachCanvas","detach","load","unload"];function ll(e,t,n,i,r,o,u){var s=this;this.I=e,this.O=u,this.j=new q(t),this.P=n,this.C=!1,this.B=i,this.H=r,this.K=o,this.h=this.m=!1,this.M="",this.s=null,this.F=function(){return hl(s)},this.G=function(a,l){switch(a=ul(l),a.type){case"event":var c=a.targetName,f=gh(a.event);s.B(c,f);break;case"update":c=a.update;for(f in c){a=s.g[f]||{};for(var h in c[f])a[h]=c[f][h]}s.C&&(s.P(),s.C=!1);break;case"asyncComplete":if(f=a.id,h=a.error,a=s.i[f],delete s.i[f],a)if(h){f=new S(h.severity,h.category,h.code);for(c in h)f[c]=h[c];a.reject(f)}else a.resolve()}},this.g={video:{},player:{}},this.J=0,this.i={},this.l=null,Yr.add(this)}d=ll.prototype,d.destroy=function(){return Yr.delete(this),dl(this),Mt&&Kp(this),this.j&&(this.j.stop(),this.j=null),this.H=this.B=null,this.h=this.m=!1,this.G=this.F=this.l=this.i=this.g=this.s=null,Promise.resolve()},d.na=function(){return this.h},d.Jd=function(){return this.M},d.init=function(){if(this.I.length)if(M.chrome&&chrome.cast&&chrome.cast.isAvailable){this.m=!0,this.j.Aa();var e=new chrome.cast.SessionRequest(this.I,[],null,this.O,null);e=new chrome.cast.ApiConfig(e,function(t){for(var n=p(Yr),i=n.next();!i.done;i=n.next())Vp(i.value,t)},function(t){for(var n=p(Yr),i=n.next();!i.done;i=n.next())i=i.value,xu=t=="available",i.j.Aa()},"origin_scoped"),chrome.cast.initialize(e,function(){},function(){}),xu&&this.j.R(cT),(e=Mt)&&e.status!=chrome.cast.SessionStatus.STOPPED?Vp(this,e):Mt=null}else M.__onGCastApiAvailable!==zp&&(Cu=M.__onGCastApiAvailable||null,M.__onGCastApiAvailable=zp)},d.Le=function(e){this.s=e,this.h&&Wr(this,{type:"appData",appData:this.s})},d.cast=function(e){var t=this;return I(function(n){if(!t.m)throw new S(1,8,8e3);if(!xu)throw new S(1,8,8001);if(t.h)throw new S(1,8,8002);return t.l=new we,chrome.cast.requestSession(function(i){return cl(t,e,i)},function(i){return Gp(t,i)}),m(n,t.l,0)})};function lT(e){if(e.h){var t=e.K();chrome.cast.requestSession(function(n){return cl(e,t,n)},function(n){return Gp(e,n)})}}d.$b=function(){if(this.h){if(dl(this),Mt){Kp(this);try{Mt.stop(function(){},function(){})}catch{}Mt=null}hl(this)}},d.get=function(e,t){var n=this;if(e=="video"){if(uT.includes(t))return function(){return n.Rf.apply(n,[e,t].concat(se(Ot.apply(0,arguments))))}}else if(e=="player"){if(al[t]&&!this.get("player","isLive")())return function(){};if(sT.includes(t))return function(){return n.Rf.apply(n,[e,t].concat(se(Ot.apply(0,arguments))))};if(aT.includes(t))return function(){return n.xh.apply(n,[e,t].concat(se(Ot.apply(0,arguments))))};if(wu[t]||Iu[t])return function(){return n.g[e][t]}}return this.g[e][t]},d.set=function(e,t,n){this.g[e][t]=n,Wr(this,{type:"set",targetName:e,property:t,value:n})};function cl(e,t,n){Mt=n,n.addUpdateListener(e.F),n.addMessageListener("urn:x-cast:com.google.shaka.v2",e.G),hl(e),Wr(e,{type:"init",initState:t,appData:e.s}),e.l.resolve()}function Gp(e,t){var n=8003;switch(t.code){case"cancel":n=8004;break;case"timeout":n=8005;break;case"receiver_unavailable":n=8006}e.l.reject(new S(2,8,n,t))}d.Rf=function(e,t){Wr(this,{type:"call",targetName:e,methodName:t,args:Ot.apply(2,arguments)})},d.xh=function(e,t){var n=Ot.apply(2,arguments),i=new we,r=this.J.toString();this.J++,this.i[r]=i;try{Wr(this,{type:"asyncCall",targetName:e,methodName:t,args:n,id:r})}catch(o){i.reject(o)}return i};function Vp(e,t){var n=e.K();e.l=new we,e.C=!0,cl(e,n,t)}function Kp(e){var t=Mt;t.removeUpdateListener(e.F),t.removeMessageListener("urn:x-cast:com.google.shaka.v2",e.G)}function hl(e){var t=Mt?Mt.status=="connected":!1;if(e.h&&!t){e.H();for(var n in e.g)e.g[n]={};dl(e)}e.h=t,e.M=t?Mt.receiver.friendlyName:"",e.j.Aa()}function dl(e){for(var t in e.i){var n=e.i[t];delete e.i[t],n.reject(new S(1,7,7e3))}}function Wr(e,t){t=bp(t);var n=Mt;try{n.sendMessage("urn:x-cast:com.google.shaka.v2",t,function(){},Uv)}catch(i){throw t=new S(2,8,8005,i),n=new U("error",new Map().set("detail",t)),e.B("player",n),e.$b(),t}}var cT=.02,xu=!1,Mt=null,Cu=null,Yr=new Set;function zp(e){if(Cu?M.__onGCastApiAvailable=Cu:delete M.__onGCastApiAvailable,Cu=null,e)for(var t=p(Yr),n=t.next();!n.done;n=t.next())n.value.init();typeof M.__onGCastApiAvailable=="function"&&M.__onGCastApiAvailable(e)}function Ne(e,t,n,i){i=i===void 0?!1:i,oe.call(this);var r=this;this.i=e,this.h=t,this.m=this.s=this.j=this.B=this.l=null,this.G=n,this.F=i,this.C=new Map,this.g=new ll(n,function(){return Hp(r)},function(){return Xp(r)},function(o,u){return Yp(r,o,u)},function(){return Wp(r)},function(){return fl(r)},i),hT(this)}K(Ne,oe),d=Ne.prototype,d.destroy=function(e){return e&&this.g.$b(),this.m&&(this.m.release(),this.m=null),e=[],this.h&&(e.push(this.h.destroy()),this.h=null),this.g&&(e.push(this.g.destroy()),this.g=null),this.B=this.l=this.i=null,oe.prototype.release.call(this),Promise.all(e)},d.zb=function(){return this.l},d.cc=function(){return this.B},d.uf=function(){return this.g.m&&xu},d.na=function(){return this.g.na()},d.Jd=function(){return this.g.Jd()},d.cast=function(){var e=this,t;return I(function(n){return n.g==1?(t=fl(e),m(n,e.g.cast(t),2)):e.h?m(n,e.h.bf(),0):n.return()})},d.Le=function(e){this.g.Le(e)},d.cg=function(){lT(this.g)},d.$b=function(){this.g.$b()},d.yf=function(e,t){t=t===void 0?!1:t;var n=this;return I(function(i){if(i.g==1)return e==n.G&&t==n.F?i.return():(n.G=e,n.F=t,n.g.$b(),m(i,n.g.destroy(),2));n.g=null,n.g=new ll(e,function(){return Hp(n)},function(){return Xp(n)},function(r,o){return Yp(n,r,o)},function(){return Wp(n)},function(){return fl(n)},t),n.g.init(),P(i)})};function hT(e){e.g.init(),e.m=new ye;for(var t=p(jp),n=t.next();!n.done;n=t.next())e.m.o(e.i,n.value,function(o){e.g.na()||(o=gh(o),e.j.dispatchEvent(o))});for(var i in yo)e.m.o(e.h,yo[i],function(o){e.g.na()||e.s.dispatchEvent(o)});e.l={},t={};for(var r in e.i)t.vc=r,Object.defineProperty(e.l,t.vc,{configurable:!1,enumerable:!0,get:function(o){return function(){return fT(e,o.vc)}}(t),set:function(o){return function(u){var s=o.vc;e.g.na()?e.g.set("video",s,u):e.i[s]=u}}(t)}),t={vc:t.vc};e.B={},qp(e,function(o){Object.defineProperty(e.B,o,{configurable:!1,enumerable:!0,get:function(){return pT(e,o)}})}),dT(e),e.j=new oe,e.j.Hd=e.l,e.s=new oe,e.s.Hd=e.B}function dT(e){var t=new Map;qp(e,function(n,i){t.has(i)?(i=t.get(i),n.length<i.length?e.C.set(n,i):e.C.set(i,n)):t.set(i,n)})}function qp(e,t){function n(a){return a=="constructor"||typeof i[a]!="function"?!1:!r.has(a)}var i=e.h,r=new Set,o;for(o in i)n(o)&&(r.add(o),t(o,i[o]));for(e=Object.getPrototypeOf(i),o=Object.getPrototypeOf({});e&&e!=o;){for(var u=p(Object.getOwnPropertyNames(e)),s=u.next();!s.done;s=u.next())s=s.value,n(s)&&(r.add(s),t(s,i[s]));e=Object.getPrototypeOf(e)}}function fl(e){var t={video:{},player:{},playerAfterLoad:{},manifest:e.h.le(),startTime:null};e.i.pause();for(var n=p(sl),i=n.next();!i.done;i=n.next())i=i.value,t.video[i]=e.i[i];for(e.i.ended||(t.startTime=e.i.currentTime),n=p(Fp),i=n.next();!i.done;i=n.next()){var r=i.value;i=r[1],r=e.h[r[0]](),t.player[i]=r}for(n=p(Bp),i=n.next();!i.done;i=n.next())r=i.value,i=r[1],r=e.h[r[0]](),t.playerAfterLoad[i]=r;return t}function Hp(e){var t=new U("caststatuschanged");e.dispatchEvent(t)}function Xp(e){var t=new U(e.l.paused?"pause":"play");e.j.dispatchEvent(t)}function Wp(e){for(var t=p(Fp),n=t.next();!n.done;n=t.next()){var i=n.value;n=i[1],i=e.g.get("player",i[0])(),e.h[n](i)}var r=e.g.get("player","getAssetUri")();n=e.g.get("video","ended"),t=Promise.resolve();var o=e.i.autoplay;i=null,n||(i=e.g.get("video","currentTime")),r&&(e.i.autoplay=!1,t=e.h.load(r,i));var u={};for(n=p(sl),i=n.next();!i.done;i=n.next())i=i.value,u[i]=e.g.get("video",i);t.then(function(){if(e.i){for(var s=p(sl),a=s.next();!a.done;a=s.next())a=a.value,e.i[a]=u[a];for(s=p(Bp),a=s.next();!a.done;a=s.next()){var l=a.value;a=l[1],l=e.g.get("player",l[0])(),e.h[a](l)}e.i.autoplay=o,r&&e.i.play()}},function(s){s=new Map().set("detail",s),s=new U("error",s),e.h.dispatchEvent(s)})}function fT(e,t){if(t=="addEventListener")return function(i,r,o){return e.j.addEventListener(i,r,o)};if(t=="removeEventListener")return function(i,r,o){return e.j.removeEventListener(i,r,o)};if(e.g.na()&&Object.keys(e.g.g.video).length==0){var n=e.i[t];if(typeof n!="function")return n}return e.g.na()?e.g.get("video",t):(t=e.i[t],typeof t=="function"&&(t=t.bind(e.i)),t)}function pT(e,t){if(e.C.has(t)&&(t=e.C.get(t)),t=="addEventListener")return function(n,i,r){return e.s.addEventListener(n,i,r)};if(t=="removeEventListener")return function(n,i,r){return e.s.removeEventListener(n,i,r)};if(t=="getMediaElement")return function(){return e.l};if(t=="getSharedConfiguration")return e.g.get("player","getConfiguration");if(t=="getNetworkingEngine")return function(){return e.h.Hc()};if(t=="getDrmEngine")return function(){return e.h.m};if(t=="getAdManager")return function(){return e.h.sd()};if(t=="setVideoContainer")return function(n){return e.h.Te(n)};if(e.g.na()){if(t=="getManifest"||t=="drmInfo")return function(){return pe(t+"() does not work while casting!"),null};if(t=="attach"||t=="detach")return function(){return pe(t+"() does not work while casting!"),Promise.resolve()}}return e.g.na()&&Object.keys(e.g.g.video).length==0&&(wu[t]||Iu[t])||!e.g.na()?e.h[t].bind(e.h):e.g.get("player",t)}function Yp(e,t,n){e.g.na()&&(t=="video"?e.j.dispatchEvent(n):t=="player"&&e.s.dispatchEvent(n))}R("shaka.cast.CastProxy",Ne),Ne.prototype.changeReceiverId=Ne.prototype.yf,Ne.prototype.forceDisconnect=Ne.prototype.$b,Ne.prototype.suggestDisconnect=Ne.prototype.cg,Ne.prototype.setAppData=Ne.prototype.Le,Ne.prototype.cast=Ne.prototype.cast,Ne.prototype.receiverName=Ne.prototype.Jd,Ne.prototype.isCasting=Ne.prototype.na,Ne.prototype.canCast=Ne.prototype.uf,Ne.prototype.getPlayer=Ne.prototype.cc,Ne.prototype.getVideo=Ne.prototype.zb,Ne.prototype.destroy=Ne.prototype.destroy;function Xe(e,t,n,i){oe.call(this);var r=this;this.g=e,this.h=t,this.j=new ye,this.J={video:e,player:t},this.G=n||function(){},this.K=i||function(o){return o},this.i=null,this.H=!1,this.s=!0,this.m=0,this.F=!1,this.C=!0,this.B=this.l=null,this.I=new q(function(){pl(r)}),gT(this)}K(Xe,oe),d=Xe.prototype,d.isConnected=function(){return this.H},d.fh=function(){return this.s},d.Hh=function(e){this.i=e},d.rg=function(){this.i=null},d.Ih=function(e){this.i||(this.i={metadataType:cast.receiver.media.MetadataType.GENERIC}),this.i.title=e},d.Gh=function(e){this.i||(this.i={metadataType:cast.receiver.media.MetadataType.GENERIC}),this.i.images=[{url:e}]},d.Fh=function(e){this.i||(this.i={}),this.i.artist=e,this.i.metadataType=cast.receiver.media.MetadataType.MUSIC_TRACK},d.destroy=function(){var e=this,t,n;return I(function(i){if(i.g==1)return e.j&&(e.j.release(),e.j=null),t=[],e.h&&(t.push(e.h.destroy()),e.h=null),e.I&&(e.I.stop(),e.I=null),e.g=null,e.J=null,e.G=null,e.H=!1,e.s=!0,e.l=null,e.B=null,oe.prototype.release.call(e),m(i,Promise.all(t),2);n=cast.receiver.CastReceiverManager.getInstance(),n.stop(),P(i)})};function gT(e){var t=cast.receiver.CastReceiverManager.getInstance();t.onSenderConnected=function(){return Jp(e)},t.onSenderDisconnected=function(){return Jp(e)},t.onSystemVolumeChanged=function(){var r=cast.receiver.CastReceiverManager.getInstance().getSystemVolume();r&&mn(e,{type:"update",update:{video:{volume:r.level,muted:r.muted}}},e.l),mn(e,{type:"event",targetName:"video",event:{type:"volumechange"}},e.l)},e.B=t.getCastMessageBus("urn:x-cast:com.google.cast.media"),e.B.onMessage=function(r){return yT(e,r)},e.l=t.getCastMessageBus("urn:x-cast:com.google.shaka.v2"),e.l.onMessage=function(r){return vT(e,r)},t.start(),t=p(jp);for(var n=t.next();!n.done;n=t.next())e.j.o(e.g,n.value,function(r){return Zp(e,"video",r)});for(var i in yo)e.j.o(e.h,yo[i],function(r){return Zp(e,"player",r)});cast.__platform__&&cast.__platform__.canDisplayType('video/mp4; codecs="avc1.640028"; width=3840; height=2160')?e.h.Oe(3840,2160):e.h.Oe(1920,1080),e.j.o(e.g,"loadeddata",function(){e.F=!0}),e.j.o(e.h,"loading",function(){e.s=!1,Hi(e)}),e.j.o(e.g,"playing",function(){e.s=!1,Hi(e)}),e.j.o(e.g,"pause",function(){Hi(e)}),e.j.o(e.h,"unloading",function(){e.s=!0,Hi(e)}),e.j.o(e.g,"ended",function(){new q(function(){e.g&&e.g.ended&&(e.s=!0,Hi(e))}).R(TT)})}function Jp(e){e.m=0,e.C=!0,e.H=cast.receiver.CastReceiverManager.getInstance().getSenders().length!=0,Hi(e)}function Hi(e){var t;I(function(n){if(n.g==1)return m(n,Promise.resolve(),2);if(!e.h)return n.return();t=new U("caststatuschanged"),e.dispatchEvent(t),Qp(e)||vn(e),P(n)})}function mT(e,t,n){var i,r,o,u,s,a,l,c,f,h;I(function(g){switch(g.g){case 1:for(i in t.player)r=t.player[i],e.h[i](r);return e.G(n),o=e.g.autoplay,t.manifest?(e.g.autoplay=!1,ee(g,5),m(g,e.h.load(t.manifest,t.startTime),7)):m(g,Promise.resolve(),3);case 7:le(g,3);break;case 5:return u=te(g),s=new Map().set("detail",u),a=new U("error",s),e.h&&e.h.dispatchEvent(a),g.return();case 3:if(!e.h)return g.return();for(l in t.video)c=t.video[l],e.g[l]=c;for(f in t.playerAfterLoad)h=t.playerAfterLoad[f],e.h[f](h);e.g.autoplay=o,t.manifest&&(e.g.play(),vn(e)),P(g)}})}function Zp(e,t,n){e.h&&(pl(e),mn(e,{type:"event",targetName:t,event:n},e.l))}function pl(e){e.I.R(ET);for(var t={video:{},player:{}},n=p(oT),i=n.next();!i.done;i=n.next())i=i.value,t.video[i]=e.g[i];if(e.h.U())for(var r in al)e.m%al[r]==0&&(t.player[r]=e.h[r]());for(var o in wu)e.m%wu[o]==0&&(t.player[o]=e.h[o]());(n=cast.receiver.CastReceiverManager.getInstance().getSystemVolume())&&(t.video.volume=n.level,t.video.muted=n.muted),mn(e,{type:"update",update:t},e.l);for(var u in Iu)e.m%Iu[u]==0&&(t={player:{}},t.player[u]=e.h[u](),mn(e,{type:"update",update:t},e.l));e.F&&(e.m+=1),Qp(e)}function Qp(e){return e.C&&(e.g.duration||e.h.U())?(gl(e),e.C=!1,!0):!1}function gl(e,t){var n={contentId:e.h.le(),streamType:e.h.U()?"LIVE":"BUFFERED",contentType:""};e.h.U()||(n.duration=e.g.duration),e.i&&(n.metadata=e.i),vn(e,t===void 0?0:t,n)}function vT(e,t){var n=ul(t.data);switch(n.type){case"init":e.m=0,e.F=!1,e.C=!0,mT(e,n.initState,n.appData),pl(e);break;case"appData":e.G(n.appData);break;case"set":var i=n.targetName,r=n.property;if(n=n.value,i=="video"){if(t=cast.receiver.CastReceiverManager.getInstance(),r=="volume"){t.setSystemVolumeLevel(n);break}else if(r=="muted"){t.setSystemVolumeMuted(n);break}}e.J[i][r]=n;break;case"call":i=e.J[n.targetName],i[n.methodName].apply(i,n.args);break;case"asyncCall":i=n.targetName,r=n.methodName,i=="player"&&r=="load"&&(e.m=0,e.F=!1);var o=n.id,u=t.senderId;t=e.J[i],n=t[r].apply(t,n.args),i=="player"&&r=="load"&&(n=n.then(function(){e.C=!0})),n.then(function(){return $p(e,u,o,null)},function(s){return $p(e,u,o,s)})}}function yT(e,t){var n=ul(t.data);switch(n.type){case"PLAY":e.g.play(),vn(e);break;case"PAUSE":e.g.pause(),vn(e);break;case"SEEK":t=n.currentTime;var i=n.resumeState;t!=null&&(e.g.currentTime=Number(t)),i&&i=="PLAYBACK_START"?(e.g.play(),vn(e)):i&&i=="PLAYBACK_PAUSE"&&(e.g.pause(),vn(e));break;case"STOP":e.h.bf().then(function(){e.h&&vn(e)});break;case"GET_STATUS":gl(e,Number(n.requestId));break;case"VOLUME":i=n.volume,t=i.level,i=i.muted;var r=e.g.volume,o=e.g.muted;t!=null&&(e.g.volume=Number(t)),i!=null&&(e.g.muted=i),r==e.g.volume&&o==e.g.muted||vn(e);break;case"LOAD":e.m=0,e.F=!1,e.C=!1,t=n.media,i=n.currentTime,r=e.K(t.contentId),o=n.autoplay||!0,e.G(t.customData),o&&(e.g.autoplay=!0),e.h.load(r,i).then(function(){e.h&&gl(e)}).catch(function(u){var s="LOAD_FAILED";u.category==7&&u.code==7e3&&(s="LOAD_CANCELLED"),mn(e,{requestId:Number(n.requestId),type:s},e.B)});break;default:mn(e,{requestId:Number(n.requestId),type:"INVALID_REQUEST",reason:"INVALID_COMMAND"},e.B)}}function $p(e,t,n,i){e.h&&mn(e,{type:"asyncComplete",id:n,error:i},e.l,t)}function mn(e,t,n,i){e.H&&(e=bp(t),i?n.getCastChannel(i).send(e):n.broadcast(e))}function vn(e,t,n){n=n===void 0?null:n;var i={mediaSessionId:0,playbackRate:e.g.playbackRate,playerState:e.s?AT:e.h.Pc()?wT:e.g.paused?IT:ST,currentTime:e.g.currentTime,supportedMediaCommands:63,volume:{level:e.g.volume,muted:e.g.muted}};n&&(i.media=n),mn(e,{requestId:t===void 0?0:t,type:"MEDIA_STATUS",status:[i]},e.B)}R("shaka.cast.CastReceiver",Xe),Xe.prototype.destroy=Xe.prototype.destroy,Xe.prototype.setContentArtist=Xe.prototype.Fh,Xe.prototype.setContentImage=Xe.prototype.Gh,Xe.prototype.setContentTitle=Xe.prototype.Ih,Xe.prototype.clearContentMetadata=Xe.prototype.rg,Xe.prototype.setContentMetadata=Xe.prototype.Hh,Xe.prototype.isIdle=Xe.prototype.fh,Xe.prototype.isConnected=Xe.prototype.isConnected;var ET=.5,TT=5,AT="IDLE",ST="PLAYING",wT="BUFFERING",IT="PAUSED";function e0(e,t,n){var i=LT(e),r=null;e=[];var o=[],u=new Set(i.map(function(s){return s.keyId}));if(u.delete(null),1<u.size)throw new S(2,4,4010);if(t||(o=i.filter(function(s){return s.He=="urn:mpeg:dash:mp4protection:2011"?(r=s.init||r,!1):!0}),o.length&&(e=kT(r,o,n,u),e.length==0&&(e=[Fn("",r)]))),i.length&&(t||!o.length))for(e=[],t=p(Object.values(n)),n=t.next();!n.done;n=t.next())n=n.value,n!="org.w3.clearkey"&&e.push(Fn(n,r));if(u=Array.from(u)[0]||null)for(t=p(e),n=t.next();!n.done;n=t.next())for(n=p(n.value.initData),i=n.next();!i.done;i=n.next())i.value.keyId=u;return{Bf:u,pj:r,drmInfos:e,Ff:!0}}function xT(e,t,n,i){var r=e0(e,n,i);if(t.Ff)e=t.drmInfos.length==1&&!t.drmInfos[0].keySystem,n=r.drmInfos.length==0,(t.drmInfos.length==0||e&&!n)&&(t.drmInfos=r.drmInfos),t.Ff=!1;else if(0<r.drmInfos.length&&(t.drmInfos=t.drmInfos.filter(function(o){return r.drmInfos.some(function(u){return u.keySystem==o.keySystem})}),t.drmInfos.length==0))throw new S(2,4,4008);return r.Bf||t.Bf}function CT(e){var t=0,n=lt(e),i=n.getUint32(t,!0);if(i!=e.byteLength)return[];e:{for(e=t+6,t=[];e<n.byteLength-1;){i=n.getUint16(e,!0),e+=2;var r=n.getUint16(e,!0);if(e+=2,r&1||r+e>n.byteLength){n=[];break e}var o=ue(n,e,r);t.push({type:i,value:o}),e+=r}n=t}return n}function MT(e){e=p(e.getElementsByTagName("DATA"));for(var t=e.next();!t.done;t=e.next()){t=p(t.value.childNodes);for(var n=t.next();!n.done;n=t.next())if(n=n.value,n instanceof Element&&n.tagName=="LA_URL")return n.textContent}return""}function Mu(e){return e=Fo(e.node,"urn:microsoft:playready","pro"),!e||(e=ln(e.textContent),e=CT(e).filter(function(t){return t.type===RT})[0],!e)?"":(e=Mn(e.value,!0),(e=Mr(e,"WRMHEADER"))?MT(e):"")}function kT(e,t,n,i){var r=[];t=p(t);for(var o=t.next();!o.done;o=t.next()){o=o.value;var u=n[o.He];if(u){var s;if(s=Fo(o.node,"urn:microsoft:playready","pro")){s=ln(s.textContent);var a=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);s=[{initData:oa(s,a,new Set,0),initDataType:"cenc",keyId:o.keyId}]}else s=null;if(a=null,o.He==="urn:uuid:e2719d58-a985-b3c9-781a-b030af78d30e")if(a=i,a.size==0)a=null;else{var l=new Uint8Array([16,119,239,236,192,178,77,2,172,227,60,30,82,226,251,75]),c=new Uint8Array([]);a=[{initData:oa(c,l,a,1),initDataType:"cenc",keyId:o.keyId}]}s=Fn(u,o.init||e||s||a),(u=_T.get(u))&&(s.licenseServerUri=u(o)),r.push(s)}}return r}function LT(e){var t=[];e=p(e);for(var n=e.next();!n.done;n=e.next())(n=NT(n.value))&&t.push(n);return t}function NT(e){var t=e.getAttribute("schemeIdUri"),n=Jn(e,"urn:mpeg:cenc:2013","default_KID"),i=xd(e,"urn:mpeg:cenc:2013","pssh").map(Bo);if(!t)return null;if(t=t.toLowerCase(),n&&(n=n.replace(/-/g,"").toLowerCase(),n.includes(" ")))throw new S(2,4,4009);var r=[];try{r=i.map(function(o){return{initDataType:"cenc",initData:ln(o),keyId:null}})}catch{throw new S(2,4,4007)}return{node:e,He:t,keyId:n,init:0<r.length?r:null}}var RT=1,_T=new Map().set("com.widevine.alpha",function(e){return(e=Fo(e.node,"urn:microsoft","laurl"))&&e.getAttribute("licenseUrl")||""}).set("com.microsoft.playready",Mu).set("com.microsoft.playready.recommendation",Mu).set("com.microsoft.playready.software",Mu).set("com.microsoft.playready.hardware",Mu).set("org.w3.clearkey",function(e){return(e=Fo(e.node,"http://dashif.org/guidelines/clearKey","Laurl"))&&e.getAttribute("Lic_type")==="EME-1.0"&&e.textContent?e.textContent:""});function ku(e,t,n,i,r){var o={RepresentationID:t,Number:n,Bandwidth:i,Time:r};return e.replace(/\$(RepresentationID|Number|Bandwidth|Time)?(?:%0([0-9]+)([diouxX]))?\$/g,function(u,s,a,l){if(u=="$$")return"$";var c=o[s];if(c==null)return u;switch(s=="RepresentationID"&&a&&(a=void 0),s=="Time"&&(c=Math.round(c)),l){case void 0:case"d":case"i":case"u":u=c.toString();break;case"o":u=c.toString(8);break;case"x":u=c.toString(16);break;case"X":u=c.toString(16).toUpperCase();break;default:u=c.toString()}return a=M.parseInt(a,10)||1,Array(Math.max(0,a-u.length)+1).join("0")+u})}function t0(e,t){var n=tn(e,t,"timescale"),i=1;n&&(i=Vo(n)||1);var r=tn(e,t,"duration");n=Vo(r||""),e.L.contentType=="image"&&(n=Cr(r||"")),n&&(n/=i);var o=tn(e,t,"startNumber");r=Number(tn(e,t,"presentationTimeOffset"))||0;var u=en(o||"");if((o==null||u==null)&&(u=1),o=Lu(e,t,"SegmentTimeline"),t=null,o){t=i,e=e.Y.duration||1/0,o=Le(o,"S");for(var s=[],a=-r,l=0;l<o.length;++l){var c=o[l],f=o[l+1],h=Ie(c,"t",en),g=Ie(c,"d",en);if(c=Ie(c,"r",Ry),h!=null&&(h-=r),!g)break;if(h=h??a,c=c||0,0>c)if(f){if(f=Ie(f,"t",en),f==null)break;if(h>=f)break;c=Math.ceil((f-h)/g)-1}else{if(e==1/0)break;if(h/t>=e)break;c=Math.ceil((e*t-h)/g)-1}for(0<s.length&&h!=a&&(s[s.length-1].end=h/t),f=0;f<=c;++f)a=h+g,s.push({start:h/t,end:a/t,Mh:h}),h=a}t=s}return{timescale:i,za:n,pc:u,pb:r/i||0,cf:r,timeline:t}}function tn(e,t,n){return[t(e.L),t(e.va),t(e.oa)].filter(Cn).map(function(i){return i.getAttribute(n)}).reduce(function(i,r){return i||r})}function Lu(e,t,n){return[t(e.L),t(e.va),t(e.oa)].filter(Cn).map(function(i){return jo(i,n)}).reduce(function(i,r){return i||r})}function DT(e,t,n,i,r,o){for(var u=Jn(e,"http://www.w3.org/1999/xlink","href"),s=Jn(e,"http://www.w3.org/1999/xlink","actuate")||"onRequest",a=p(Array.from(e.attributes)),l=a.next();!l.done;l=a.next())l=l.value,l.namespaceURI=="http://www.w3.org/1999/xlink"&&e.removeAttributeNS(l.namespaceURI,l.localName);if(5<=o)return Wn(new S(2,4,4028));if(s!="onLoad")return Wn(new S(2,4,4027));var c=at([i],[u]);return r.request(0,St(c,t)).ia(function(f){if(f=kd(f.data,e.tagName),!f)return Wn(new S(2,4,4001,u));for(;e.childNodes.length;)e.removeChild(e.childNodes[0]);for(;f.childNodes.length;){var h=f.childNodes[0];f.removeChild(h),e.appendChild(h)}for(f=p(Array.from(f.attributes)),h=f.next();!h.done;h=f.next())e.setAttributeNode(h.value.cloneNode(!1));return Nu(e,t,n,c[0],r,o+1)})}function Nu(e,t,n,i,r,o){if(o=o===void 0?0:o,Jn(e,"http://www.w3.org/1999/xlink","href")){var u=DT(e,t,n,i,r,o);return n&&(u=u.ia(void 0,function(){return Nu(e,t,n,i,r,o)})),u}u=[];for(var s=p(Array.from(e.childNodes)),a=s.next();!a.done;a=s.next())a=a.value,a instanceof Element&&(Jn(a,"http://www.w3.org/1999/xlink","href")=="urn:mpeg:dash:resolve-to-zero:2013"?e.removeChild(a):a.tagName!="SegmentTimeline"&&u.push(Nu(a,t,n,i,r,o)));return fd(u).ia(function(){return e})}function PT(e,t,n,i,r,o,u){var s,a=new Ae().T("sidx",function(l){s=OT(t,i,r,o,u,n,l)});if(e&&a.parse(e),s)return s;throw new S(2,3,3004)}function OT(e,t,n,i,r,o,u){var s=[];u.reader.skip(4);var a=u.reader.N();if(a==0)throw new S(2,3,3005);if(u.version==0)var l=u.reader.N(),c=u.reader.N();else l=u.reader.Cb(),c=u.reader.Cb();u.reader.skip(2);var f=u.reader.De();for(e=e+u.size+c,c=0;c<f;c++){var h=u.reader.N(),g=(h&2147483648)>>>31;h&=2147483647;var v=u.reader.N();if(u.reader.skip(4),g==1)throw new S(2,3,3006);s.push(new ae(l/a+n,(l+v)/a+n,function(){return o},e,e+h-1,t,n,i,r)),l+=v,e+=h}return u.parser.stop(),s}function Dn(e){this.h=lt(e),this.g=new ge(this.h,0)}Dn.prototype.xa=function(){return this.g.xa()};function yn(e){var t=n0(e);if(7<t.length)throw new S(2,3,3002);var n=0;t=p(t);for(var i=t.next();!i.done;i=t.next())n=256*n+i.value;t=n0(e);e:{i=p(UT);for(var r=i.next();!r.done;r=i.next())if(Vn(t,new Uint8Array(r.value))){i=!0;break e}i=!1}if(i)t=e.h.byteLength-e.g.ma();else{if(t.length==8&&t[1]&224)throw new S(2,3,3001);for(r=i=0;r<t.length;r++){var o=t[r];i=r==0?o&(1<<8-t.length)-1:256*i+o}t=i}return t=e.g.ma()+t<=e.h.byteLength?t:e.h.byteLength-e.g.ma(),i=lt(e.h,e.g.ma(),t),e.g.skip(t),new bT(n,i)}function n0(e){var t=e.g.ma(),n=e.g.ob();if(n==0)throw new S(2,3,3002);return n=8-Math.floor(Math.log2(n)),e.g.skip(n-1),ue(e.h,t,n)}var UT=[[255],[127,255],[63,255,255],[31,255,255,255],[15,255,255,255,255],[7,255,255,255,255,255],[3,255,255,255,255,255,255],[1,255,255,255,255,255,255,255]];function bT(e,t){this.id=e,this.g=t}function ml(e){if(8<e.g.byteLength)throw new S(2,3,3002);if(e.g.byteLength==8&&e.g.getUint8(0)&224)throw new S(2,3,3001);for(var t=0,n=0;n<e.g.byteLength;n++){var i=e.g.getUint8(n);t=256*t+i}return t}function jT(e,t,n,i,r,o,u,s,a){function l(){return r}var c=[];e=new Dn(e.g);for(var f=null,h=null;e.xa();){var g=yn(e);if(g.id==187){var v=FT(g);v&&(g=n*v.Nh,v=t+v.wh,f!=null&&c.push(new ae(f+u,g+u,l,h,v-1,o,u,s,a)),f=g,h=v)}}return f!=null&&c.push(new ae(f+u,i+u,l,h,null,o,u,s,a)),c}function FT(e){var t=new Dn(e.g);if(e=yn(t),e.id!=179)throw new S(2,3,3013);if(e=ml(e),t=yn(t),t.id!=183)throw new S(2,3,3012);t=new Dn(t.g);for(var n=0;t.xa();){var i=yn(t);if(i.id==241){n=ml(i);break}}return{Nh:e,wh:n}}function i0(e,t){if(t=Lu(e,t,"Initialization"),!t)return null;var n=e.L.Na,i=t.getAttribute("sourceURL");i&&(n=at(e.L.Na,[i])),i=0;var r=null;return(t=Ie(t,"range",Go))&&(i=t.start,r=t.end),new It(function(){return n},i,r,s0(e))}function BT(e,t){var n=Number(tn(e,Xi,"presentationTimeOffset"))||0,i=tn(e,Xi,"timescale"),r=1;i&&(r=Vo(i)||1);var o=n/r||0,u=i0(e,Xi);GT(e,u);var s=pd(e);return{ac:function(){var a=Lu(s,Xi,"RepresentationIndex"),l=s.L.Na;return a&&(a=a.getAttribute("sourceURL"))&&(l=at(s.L.Na,[a])),a=o0(s),r0(s,t,u,l,a.start,a.end,o)}}}function r0(e,t,n,i,r,o,u){var s,a,l,c,f,h,g,v,T,E,y,x,A,w,C;return I(function(k){if(k.g==1)return s=e.presentationTimeline,a=!e.vb||!e.Y.oe,l=e.Y.start,c=e.Y.duration,f=e.L.mimeType.split("/")[1],h=t,g=null,v=[h(i,r,o),f=="webm"?h(n.Pa(),n.Ta,n.Ca):null],h=null,m(k,Promise.all(v),2);if(T=k.h,E=T[0],y=T[1]||null,x=null,A=l-u,w=l,C=c?l+c:1/0,f=="mp4")var N=PT(E,r,i,n,A,w,C);else{if(N=new Dn(y),yn(N).id!=440786851)throw new S(2,3,3008);var _=yn(N);if(_.id!=408125543)throw new S(2,3,3009);N=_.g.byteOffset,_=new Dn(_.g);for(var D=null;_.xa();){var V=yn(_);if(V.id==357149030){D=V;break}}if(!D)throw new S(2,3,3010);for(D=new Dn(D.g),V=1e6,_=null;D.xa();){var X=yn(D);if(X.id==2807729)V=ml(X);else if(X.id==17545)if(X.g.byteLength==4)_=X.g.getFloat32(0);else if(X.g.byteLength==8)_=X.g.getFloat64(0);else throw new S(2,3,3003)}if(_==null)throw new S(2,3,3011);if(D=V/1e9,_*=D,V=yn(new Dn(E)),V.id!=475249515)throw new S(2,3,3007);N=jT(V,N,D,_,i,n,A,w,C)}return x=N,s.lc(x),g=new he(x),a&&g.wb(w,C,!0),k.return(g)})}function Xi(e){return e.Yc}function o0(e){var t=Lu(e,Xi,"RepresentationIndex");return e=tn(e,Xi,"indexRange"),e=Go(e||""),t&&(e=Ie(t,"range",Go,e)),e}function GT(e,t){if(u0(e,t),!o0(e))throw new S(2,4,4002)}function u0(e,t){var n=e.L.mimeType.split("/")[1];if(e.L.contentType!=fe&&n!="mp4"&&n!="webm")throw new S(2,4,4006);if(n=="webm"&&!t)throw new S(2,4,4005)}function s0(e){var t=e.L;return{bandwidth:e.bandwidth,audioSamplingRate:t.audioSamplingRate,codecs:t.codecs,contentType:t.contentType,frameRate:t.frameRate||null,height:t.height||null,mimeType:t.mimeType,channelsCount:t.Cd,pixelAspectRatio:t.pixelAspectRatio||null,width:t.width||null}}function VT(e,t){var n=i0(e,a0),i=KT(e);if(!i.za&&!i.timeline&&1<i.jc.length)throw new S(2,4,4002);if(!i.za&&!e.Y.duration&&!i.timeline&&i.jc.length==1)throw new S(2,4,4002);if(i.timeline&&i.timeline.length==0)throw new S(2,4,4002);var r=null,o=null;e.oa.id&&e.L.id&&(o=t[e.oa.id+","+e.L.id])&&(r=o.segmentIndex);var u=zT(e.Y.start,e.Y.duration,e.L.Na,i,n);return t=!r,r?r.kc(u,e.presentationTimeline.kb()):r=new he(u),e.presentationTimeline.lc(u),e.vb&&e.Y.oe||r.wb(e.Y.start,e.Y.duration?e.Y.start+e.Y.duration:1/0,t),o&&(o.segmentIndex=r),{ac:function(){return r&&r.g.length!=0||r.Sc(u),Promise.resolve(r)}}}function a0(e){return e.Db}function KT(e){var t=qT(e);e=t0(e,a0);var n=e.pc;n==0&&(n=1);var i=0;return e.za?i=e.za*(n-1):e.timeline&&0<e.timeline.length&&(i=e.timeline[0].start),{za:e.za,startTime:i,pc:n,pb:e.pb,timeline:e.timeline,jc:t}}function zT(e,t,n,i,r){var o=i.jc.length;i.timeline&&i.timeline.length!=i.jc.length&&(o=Math.min(i.timeline.length,i.jc.length));for(var u=e-i.pb,s=t?e+t:1/0,a=[],l=i.startTime,c={},f=0;f<o;c={Vd:c.Vd},f++){var h=i.jc[f];c.Vd=at(n,[h.lh]);var g=void 0;g=i.za!=null?l+i.za:i.timeline?i.timeline[f].end:l+t,a.push(new ae(e+l,e+g,function(v){return function(){return v.Vd}}(c),h.start,h.end,r,u,e,s)),l=g}return a}function qT(e){return[e.L.Db,e.va.Db,e.oa.Db].filter(Cn).map(function(t){return Le(t,"SegmentURL")}).reduce(function(t,n){return 0<t.length?t:n}).map(function(t){t.getAttribute("indexRange")&&!e.Mf&&(e.Mf=!0);var n=t.getAttribute("media");return t=Ie(t,"mediaRange",Go,{start:0,end:null}),{lh:n,start:t.start,end:t.end}})}function HT(e,t,n,i,r,o){var u=ZT(e),s=XT(e);WT(s);var a=pd(e);if(s.Oc)return u0(e,u),{ac:function(){var g=ku(s.Oc,a.L.id,null,a.bandwidth||null,null);return g=at(a.L.Na,[g]),r0(a,t,u,g,0,null,s.pb)}};if(s.za)return i||e.va.contentType==="image"||(e.presentationTimeline.ze(s.za),e.presentationTimeline.Ae(e.Y.start)),{ac:function(){return YT(a,s,r,u,o)}};var l=null;i=i=null,e.oa.id&&e.L.id&&(i=e.oa.id+","+e.L.id,i=n[i])&&(l=i.segmentIndex);var c=JT(a,s,u);n=e.Y.start;var f=e.Y.duration?e.Y.start+e.Y.duration:1/0,h=!(e.vb&&e.Y.oe);return l?(h&&new he(c).wb(n,f,!0),l.kc(c,e.presentationTimeline.kb())):l=new he(c),e.presentationTimeline.lc(c),h&&l.wb(n,f),i&&e.vb&&(i.segmentIndex=l),{ac:function(){return l&&l.g.length!=0||l.Sc(c),Promise.resolve(l)}}}function Ru(e){return e.Zc}function XT(e){var t=t0(e,Ru),n=tn(e,Ru,"media");return e=tn(e,Ru,"index"),{za:t.za,timescale:t.timescale,pc:t.pc,pb:t.pb,cf:t.cf,timeline:t.timeline,xe:n,Oc:e}}function WT(e){var t=e.Oc?1:0;if(t+=e.timeline?1:0,t+=e.za?1:0,t==0)throw new S(2,4,4002);if(t!=1&&(e.Oc&&(e.timeline=null),e.za=null),!e.Oc&&!e.xe)throw new S(2,4,4002)}function YT(e,t,n,i,r){function o(D){var V=(D-g)*h,X=V+t.pb,W=V+l;V=W+h;var re=Math.min(V,s());return W=new ae(W,re,function(){var B=ku(T,y,D,E,X*v);return at(x,[B])},0,null,i,A,l,s()),W.l=V,W}function u(){var D=[Math.max(a.kb(),l),Math.min(a.Ib(),s())].map(function(V){return V-l});return[Math.ceil(D[0]/h),Math.ceil(D[1]/h)-1].map(function(V){return V+g})}function s(){var D=c!=null&&r[c]||f;return D?l+D:1/0}var a=e.presentationTimeline,l=e.Y.start,c=e.oa.id,f=e.Y.duration,h=t.za,g=t.pc,v=t.timescale,T=t.xe,E=e.bandwidth||null,y=e.L.id,x=e.L.Na,A=l-t.pb,w=u();e=e.vb?Math.max(w[0],w[1]-n+1):w[0],w=w[1],n=[];for(var C=e;C<=w;++C){var k=o(C);n.push(k)}var N=new he(n);if(n=a.Ib()<s(),C=a.U(),n||C){var _=Math.max(e,w+1);N.Nd(h,function(){var D=a.kb();N.Gb(D);var V=p(u());V.next(),V=V.next().value;for(var X=[];_<=V;){var W=o(_);X.push(W),_++}return D>s()&&!X.length?null:X})}return Promise.resolve(N)}function JT(e,t,n){var i=e.Y.start,r=e.Y.duration,o=i-t.pb;r=r?i+r:1/0;for(var u=[],s={},a=0;a<t.timeline.length;s={Ud:s.Ud,Yd:s.Yd,ae:s.ae,Rd:s.Rd,ce:s.ce,Sd:s.Sd},a++){var l=t.timeline[a],c=l.start,f=l.Mh;l=l.end,s.ae=a+t.pc,s.ce=f+t.cf,s.Yd=e.L.id,s.Rd=e.bandwidth||null,s.Ud=t.xe,s.Sd=e.L.Na,u.push(new ae(i+c,i+l,function(h){return function(){var g=ku(h.Ud,h.Yd,h.ae,h.Rd||null,h.ce);return at(h.Sd,[g]).map(function(v){return v.toString()})}}(s),0,null,n,o,i,r))}return u}function ZT(e){var t=tn(e,Ru,"initialization");if(!t)return null;var n=e.L.id,i=e.bandwidth||null,r=e.L.Na;return new It(function(){var o=ku(t,n,null,i,null);return at(r,[o])},0,null,s0(e))}function l0(){this.l=[],this.g=[],this.h=[],this.j=[],this.i=[],this.m=new Set}l0.prototype.release=function(){for(var e=p(this.g.concat(this.h,this.j,this.i)),t=e.next();!t.done;t=e.next())t=t.value,t.segmentIndex&&t.segmentIndex.release();this.g=[],this.h=[],this.j=[],this.i=[],this.l=[]};function QT(e,t,n){var i,r,o,u,s,a,l,c,f,h,g,v,T,E,y,x,A,w,C,k,N,_,D,V,X,W,re,B,Re,Ue;return I(function(me){switch(me.g){case 1:if(i=Ze,$T(t),tA(t),eA(t),nA(t),!n&&t.length==1){r=t[0],e.g=r.nd,e.h=r.Od,e.j=r.textStreams,e.i=r.imageStreams,me.D(2);break}for(o=-1,u=0;u<t.length;u++)s=t[u],e.m.has(s.id)||(e.m.add(s.id),o==-1&&(o=u));if(o==-1)return me.return();for(a=t.map(function(ut){return ut.nd}),l=t.map(function(ut){return ut.Od}),c=t.map(function(ut){return ut.textStreams}),f=t.map(function(ut){return ut.imageStreams}),h=p(c),g=h.next();!g.done;g=h.next())v=g.value,v.push(m0(i.ba));for(T=p(f),E=T.next();!E.done;E=T.next())y=E.value,y.push(m0(i.Ac));return m(me,Pn(e.g,a,o,Jr,Wi),3);case 3:return m(me,Pn(e.h,l,o,Jr,Wi),4);case 4:return m(me,Pn(e.j,c,o,Jr,Wi),5);case 5:return m(me,Pn(e.i,f,o,Jr,Wi),2);case 2:if(x=0,A=[],e.h.length&&e.g.length)for(D=p(e.g),V=D.next();!V.done;V=D.next())for(X=V.value,W=p(e.h),re=W.next();!re.done;re=W.next())B=re.value,Re=zo(X.drmInfos,B.drmInfos),X.drmInfos.length&&B.drmInfos.length&&!Re.length||(Ue=x++,A.push({id:Ue,language:X.language,primary:X.primary,audio:X,video:B,bandwidth:(X.bandwidth||0)+(B.bandwidth||0),drmInfos:Re,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]}));else for(w=e.h.concat(e.g),C=p(w),k=C.next();!k.done;k=C.next())N=k.value,_=x++,A.push({id:_,language:N.language,primary:N.primary,audio:N.type==i.jd?N:null,video:N.type==i.Ma?N:null,bandwidth:N.bandwidth||0,drmInfos:N.drmInfos,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]});e.l=A,P(me)}})}function $T(e){e=p(e);for(var t=e.next();!t.done;t=e.next()){t=t.value;for(var n=[],i=p(t.nd),r=i.next();!r.done;r=i.next()){r=r.value;for(var o=!1,u=p(n),s=u.next();!s.done;s=u.next())s=s.value,r.id!=s.id&&r.channelsCount==s.channelsCount&&r.language==s.language&&r.bandwidth==s.bandwidth&&r.label==s.label&&r.codecs==s.codecs&&r.mimeType==s.mimeType&&cr(r.roles,s.roles)&&r.audioSamplingRate==s.audioSamplingRate&&r.primary==s.primary&&(o=!0);o||n.push(r)}t.nd=n}}function eA(e){e=p(e);for(var t=e.next();!t.done;t=e.next()){t=t.value;for(var n=[],i=p(t.textStreams),r=i.next();!r.done;r=i.next()){r=r.value;for(var o=!1,u=p(n),s=u.next();!s.done;s=u.next())s=s.value,r.id!=s.id&&r.language==s.language&&r.label==s.label&&r.codecs==s.codecs&&r.mimeType==s.mimeType&&r.bandwidth==s.bandwidth&&cr(r.roles,s.roles)&&(o=!0);o||n.push(r)}t.textStreams=n}}function tA(e){e=p(e);for(var t=e.next();!t.done;t=e.next()){t=t.value;for(var n=[],i=p(t.Od),r=i.next();!r.done;r=i.next()){r=r.value;for(var o=!1,u=p(n),s=u.next();!s.done;s=u.next())s=s.value,r.id!=s.id&&r.width==s.width&&r.frameRate==s.frameRate&&r.codecs==s.codecs&&r.mimeType==s.mimeType&&r.label==s.label&&cr(r.roles,s.roles)&&ky(r.closedCaptions,s.closedCaptions)&&r.bandwidth==s.bandwidth&&(o=!0);o||n.push(r)}t.Od=n}}function nA(e){e=p(e);for(var t=e.next();!t.done;t=e.next()){t=t.value;for(var n=[],i=p(t.imageStreams),r=i.next();!r.done;r=i.next()){r=r.value;for(var o=!1,u=p(n),s=u.next();!s.done;s=u.next())s=s.value,r.id!=s.id&&r.width==s.width&&r.codecs==s.codecs&&r.mimeType==s.mimeType&&(o=!0);o||n.push(r)}t.imageStreams=n}}function c0(e){var t,n,i,r,o,u,s,a,l,c,f,h,g,v,T,E,y,x,A,w,C,k,N,_,D,V,X;return I(function(W){switch(W.g){case 1:if(t=Ze,e.length==1)return W.return(e[0]);for(n=e.map(function(re){return re.filter(function(B){return B.type==t.jd})}),i=e.map(function(re){return re.filter(function(B){return B.type==t.Ma})}),r=e.map(function(re){return re.filter(function(B){return B.type==t.ba})}),o=e.map(function(re){return re.filter(function(B){return B.type==t.Ac})}),u=p(r),s=u.next();!s.done;s=u.next())a=s.value,a.push(g0(t.ba));for(l=p(o),c=l.next();!c.done;c=l.next())f=c.value,f.push(g0(t.Ac));return m(W,Pn([],n,0,_u,Du),2);case 2:return h=W.h,m(W,Pn([],i,0,_u,Du),3);case 3:return g=W.h,m(W,Pn([],r,0,_u,Du),4);case 4:return v=W.h,m(W,Pn([],o,0,_u,Du),5);case 5:if(T=W.h,E=0,g.length&&h.length)for(C=p(h),k=C.next();!k.done;k=C.next())for(N=k.value,_=p(g),D=_.next();!D.done;D=_.next())V=D.value,X=E++,V.variantIds.push(X),N.variantIds.push(X);else for(y=g.concat(h),x=p(y),A=x.next();!A.done;A=x.next())w=A.value,w.variantIds=[E++];return W.return(g.concat(h).concat(v).concat(T))}})}function Pn(e,t,n,i,r){var o,u,s,a,l,c,f,h,g,v,T,E,y,x,A,w,C,k,N,_;return I(function(D){switch(D.g){case 1:for(o=Ze,u=[],s=0;s<t.length;s++)s>=n?u.push(new Set(t[s])):u.push(new Set);a=p(e),l=a.next();case 2:if(l.done){D.D(4);break}return c=l.value,m(D,iA(c,t,n,r,u),5);case 5:if(f=D.h,!f)throw new S(2,4,4037);l=a.next(),D.D(2);break;case 4:for(h=p(u),g=h.next();!g.done;g=h.next())for(v=g.value,T=p(v),E=T.next();!E.done;E=T.next())y=E.value,(x=rA(y,t,i,r,u))&&e.push(x);for(A=p(u),g=A.next();!g.done;g=A.next())for(w=g.value,C={},k=p(w),E=k.next();!E.done;C={sb:C.sb},E=k.next())if(C.sb=E.value,N=C.sb.type==o.ba&&!C.sb.language,_=C.sb.type==o.Ac&&!C.sb.tilesLayout,!N&&!_&&e.some(function(V){return function(X){return X.mimeType==V.sb.mimeType&&Nn(X.codecs)==Nn(V.sb.codecs)}}(C)))throw new S(2,4,4037);return D.return(e)}})}function iA(e,t,n,i,r){return I(function(o){return o.g==1?(f0(t,e),e.matchedStreams?e.segmentIndex?m(o,h0(e,n),2):o.D(2):o.return(!1)):(d0(e,n,i,r),o.return(!0))})}function h0(e,t){var n,i,r,o,u,s,a;return I(function(l){if(l.g==1){for(n=[],i=e.matchedStreams,r=p(i),o=r.next();!o.done;o=r.next())u=o.value,n.push(u.createSegmentIndex()),u.trickModeVideo&&!u.trickModeVideo.segmentIndex&&n.push(u.trickModeVideo.createSegmentIndex());return m(l,Promise.all(n),2)}if(e.segmentIndex instanceof De)for(s=t;s<i.length;s++)a=i[s],a.segmentIndex&&e.segmentIndex.l.push(a.segmentIndex);P(l)})}function rA(e,t,n,i,r){var o=n(e);return f0(t,o),o.createSegmentIndex&&(o.createSegmentIndex=function(){return I(function(u){return o.segmentIndex?u.D(0):(o.segmentIndex=new De,m(u,h0(o,0),0))})}),!o.matchedStreams||!o.matchedStreams.length?null:(d0(o,0,i,r),o)}function d0(e,t,n,i){for(var r=e.matchedStreams,o=0;o<r.length;o++)if(o>=t){var u=r[o];n(e,u);var s=!0;e.type=="audio"&&Bn(e.language,u.language)==0&&(s=!1),s&&i[o].delete(u)}}function Jr(e){var t=Object.assign({},e);return t.originalId=null,t.createSegmentIndex=function(){return Promise.resolve()},t.closeSegmentIndex=function(){if(t.segmentIndex&&(t.segmentIndex.release(),t.segmentIndex=null),t.matchedStreams)for(var n=p(t.matchedStreams),i=n.next();!i.done;i=n.next())i=i.value,i.segmentIndex&&(i.segmentIndex.release(),i.segmentIndex=null)},t.segmentIndex=null,t.emsgSchemeIdUris=[],t.keyIds=new Set,t.closedCaptions=null,t.trickModeVideo=null,t}function _u(e){return e=Object.assign({},e),e.keyIds=new Set,e.segments=[],e.variantIds=[],e.closedCaptions=null,e}function Wi(e,t){e.roles=Array.from(new Set(e.roles.concat(t.roles))),t.emsgSchemeIdUris&&(e.emsgSchemeIdUris=Array.from(new Set(e.emsgSchemeIdUris.concat(t.emsgSchemeIdUris)))),e.keyIds=function(o,u){return new Set([].concat(se(o),se(u)))}(e.keyIds,t.keyIds),e.originalId==null?e.originalId=t.originalId:e.originalId+=","+(t.originalId||"");var n=zo(e.drmInfos,t.drmInfos);if(t.drmInfos.length&&e.drmInfos.length&&!n.length)throw new S(2,4,4038);if(e.drmInfos=n,e.encrypted=e.encrypted||t.encrypted,t.closedCaptions){e.closedCaptions||(e.closedCaptions=new Map),n=p(t.closedCaptions);for(var i=n.next();!i.done;i=n.next()){var r=p(i.value);i=r.next().value,r=r.next().value,e.closedCaptions.set(i,r)}}t.trickModeVideo?(e.trickModeVideo||(e.trickModeVideo=Jr(t.trickModeVideo),e.trickModeVideo.createSegmentIndex=function(){return e.trickModeVideo.segmentIndex=e.segmentIndex.clone(),Promise.resolve()}),Wi(e.trickModeVideo,t.trickModeVideo)):e.trickModeVideo&&Wi(e.trickModeVideo,t)}function Du(e,t){e.roles=Array.from(new Set(e.roles.concat(t.roles)));var n=t.keyIds;if(n=new Set([].concat(se(e.keyIds),se(n))),e.keyIds=n,e.encrypted=e.encrypted&&t.encrypted,e.segments.push.apply(e.segments,se(t.segments)),t.closedCaptions)for(e.closedCaptions||(e.closedCaptions=new Map),t=p(t.closedCaptions),n=t.next();!n.done;n=t.next()){var i=p(n.value);n=i.next().value,i=i.next().value,e.closedCaptions.set(n,i)}}function f0(e,t){var n=[];e=p(e);for(var i=e.next();!i.done;i=e.next()){var r=t,o={audio:p0,video:p0,text:oA,image:uA}[r.type],u={audio:sA,video:aA,text:lA,image:cA}[r.type],s=null;i=p(i.value);for(var a=i.next();!a.done;a=i.next())a=a.value,!o(r,a)||s&&!u(r,s,a)||(s=a);if(r=s,!r)return;n.push(r)}t.matchedStreams=n}function p0(e,t){var n;return!(n=t.mimeType!=e.mimeType||Nn(t.codecs)!=Nn(e.codecs))&&(n=e.drmInfos)&&(e=e.drmInfos,t=t.drmInfos,n=!(!(e.length&&t.length)||0<zo(e,t).length)),!n}function oA(e,t){return e.language?t.language?!(Bn(e.language,t.language)==0||t.kind!=e.kind):!0:!1}function uA(e){return!!e.tilesLayout}function sA(e,t,n){if(e.id==n.id)return!0;var i=Bn(e.language,t.language),r=Bn(e.language,n.language);return r>i?!0:r<i?!1:e.roles.length?(i=t.roles.filter(function(o){return e.roles.includes(o)}),r=n.roles.filter(function(o){return e.roles.includes(o)}),r.length>i.length?!0:r.length<i.length?!1:n.roles.length<t.roles.length):!n.roles.length&&t.roles.length?!0:n.roles.length&&!t.roles.length?!1:!t.primary&&n.primary?!0:t.primary&&!n.primary?!1:(i=Zr(e.channelsCount,t.channelsCount,n.channelsCount),i==Vt?!0:i==En?!1:(i=Zr(e.audioSamplingRate,t.audioSamplingRate,n.audioSamplingRate),i==Vt?!0:i==En?!1:!!(e.bandwidth&&v0(e.bandwidth,t.bandwidth,n.bandwidth)==Vt)))}function aA(e,t,n){if(e.id==n.id)return!0;var i=Zr(e.width*e.height,t.width*t.height,n.width*n.height);if(i==Vt)return!0;if(i==En)return!1;if(e.frameRate){if(i=Zr(e.frameRate,t.frameRate,n.frameRate),i==Vt)return!0;if(i==En)return!1}return!!(e.bandwidth&&v0(e.bandwidth,t.bandwidth,n.bandwidth)==Vt)}function lA(e,t,n){if(e.id==n.id)return!0;var i=Bn(e.language,t.language),r=Bn(e.language,n.language);if(r>i)return!0;if(r<i)return!1;if(!t.primary&&n.primary)return!0;if(t.primary&&!n.primary)return!1;if(e.roles.length){if(i=t.roles.filter(function(o){return e.roles.includes(o)}),r=n.roles.filter(function(o){return e.roles.includes(o)}),r.length>i.length)return!0;if(r.length<i.length)return!1}else{if(!n.roles.length&&t.roles.length)return!0;if(n.roles.length&&!t.roles.length)return!1}return!(n.mimeType!=e.mimeType||n.codecs!=e.codecs||t.mimeType==e.mimeType&&t.codecs==e.codecs)}function cA(e,t,n){return e.id==n.id?!0:Zr(e.width*e.height,t.width*t.height,n.width*n.height)==Vt}function g0(e){return{id:0,originalId:"",primary:!1,type:e,mimeType:"",codecs:"",language:"",label:null,width:null,height:null,encrypted:!1,keyIds:new Set,segments:[],variantIds:[],roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null}}function m0(e){return{id:0,originalId:"",createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new he([]),mimeType:"",codecs:"",encrypted:!1,drmInfos:[],keyIds:new Set,language:"",label:null,type:e,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null}}function Zr(e,t,n){if(t==e&&e!=n)return En;if(n==e&&e!=t)return Vt;if(t>e){if(n<=e||n-e<t-e)return Vt;if(n-e>t-e)return En}else{if(n>e)return En;if(e-n<e-t)return Vt;if(e-n>e-t)return En}return y0}function v0(e,t,n){return t=Math.abs(e-t),e=Math.abs(e-n),e<t?Vt:t<e?En:y0}var Vt=1,y0=0,En=-1;function Qr(){var e=this;this.h=this.g=null,this.m=[],this.i=null,this.I=1,this.l={},this.M={},this.j=new l0,this.H=0,this.J=new wo(5),this.G=new q(function(){mA(e)}),this.s=new Po,this.B=null,this.K=[],this.C=1/0,this.F=!1}d=Qr.prototype,d.configure=function(e){this.g=e},d.start=function(e,t){var n=this,i;return I(function(r){if(r.g==1)return n.F=t.isLowLatencyMode(),n.m=[e],n.h=t,m(r,vl(n),2);if(i=r.h,n.h&&T0(n,i),!n.h)throw new S(2,7,7001);return r.return(n.i)})},d.stop=function(){for(var e=p(Object.values(this.l)),t=e.next();!t.done;t=e.next())t=t.value,t.segmentIndex&&t.segmentIndex.release();return this.j&&this.j.release(),this.g=this.h=null,this.m=[],this.i=null,this.l={},this.j=null,this.G!=null&&(this.G.stop(),this.G=null),this.s.destroy()},d.update=function(){var e=this,t;return I(function(n){if(n.g==1)return ee(n,2),m(n,vl(e),4);if(n.g!=2)return le(n,0);if(t=te(n),!e.h||!t)return n.return();e.h.onError(t),P(n)})},d.onExpirationUpdated=function(){};function vl(e){var t,n,i,r,o,u,s;return I(function(a){return a.g==1?(t=St(e.m,e.g.retryParameters),n=e.h.networkingEngine,e.h.modifyManifestRequest(t,{format:"d"}),i=Date.now(),r=n.request(0,t),Di(e.s,r),m(a,r.promise,2)):a.g!=3?(o=a.h,e.h?(o.uri&&!e.m.includes(o.uri)&&e.m.unshift(o.uri),m(a,hA(e,o.data,o.uri),3)):a.return(0)):(u=Date.now(),s=(u-i)/1e3,e.J.sample(1,s),a.return(s))})}function hA(e,t,n){var i,r,o,u;return I(function(s){if(s.g==1){if(i=kd(t,"MPD"),!i)throw new S(2,4,4001,n);return e.g.dash.disableXlinkProcessing?s.return(E0(e,i,n)):(r=e.g.dash.xlinkFailGracefully,o=Nu(i,e.g.retryParameters,r,n,e.h.networkingEngine),Di(e.s,o),m(s,o.promise,2))}return u=s.h,s.return(E0(e,u,n))})}function E0(e,t,n){var i,r,o,u,s,a,l,c,f,h,g,v,T,E,y,x,A,w,C,k,N,_,D,V,X,W,re,B,Re,Ue;return I(function(me){switch(me.g){case 1:if((i=e.g.dash.manifestPreprocessor)&&i(t),r=[n],o=Le(t,"Location").map(Bo).filter(Cn),0<o.length&&(u=at(r,o),r=e.m=u),s=Le(t,"BaseURL"),a=s.map(Bo),l=at(r,a),c=0,s&&s.length&&(c=Ie(s[0],"availabilityTimeOffset",Cr)||0),f=e.g.dash.ignoreMinBufferTime,h=0,f||(h=Ie(t,"minBufferTime",pn)||0),e.H=Ie(t,"minimumUpdatePeriod",pn,-1),g=Ie(t,"availabilityStartTime",Md),v=Ie(t,"timeShiftBufferDepth",pn),T=e.g.dash.ignoreSuggestedPresentationDelay,E=null,T||(E=Ie(t,"suggestedPresentationDelay",pn)),y=e.g.dash.ignoreMaxSegmentDuration,x=null,y||(x=Ie(t,"maxSegmentDuration",pn)),A=t.getAttribute("type")||"static",e.i)for(w=e.i.presentationTimeline,C=p(Object.values(e.l)),k=C.next();!k.done;k=C.next())N=k.value,N.segmentIndex&&N.segmentIndex.Gb(w.kb());else _=e.g.defaultPresentationDelay||1.5*h,D=E??_,w=new H(g,D,e.g.dash.autoCorrectDrift);return w.$c(A=="static"),w.U()&&!isNaN(e.g.availabilityWindowOverride)&&(v=e.g.availabilityWindowOverride),v==null&&(v=1/0),w.Re(v),V=t.getAttribute("profiles")||"",X={vb:A!="static",presentationTimeline:w,oa:null,Y:null,va:null,L:null,bandwidth:0,Mf:!1,Zb:c,profiles:V.split(",")},W=dA(e,X,l,t),re=W.duration,B=W.periods,A!="static"&&W.Df||w.Sa(re||1/0),e.C&&!e.F&&e.h.isAutoLowLatencyMode()&&(e.h.enableLowLatencyMode(),e.F=e.h.isLowLatencyMode()),e.F?w.Tf(e.C):e.C&&pe("Low-latency DASH live stream detected, but low-latency streaming mode is not enabled in Shaka Player. Set streaming.lowLatencyMode configuration to true, and see https://bit.ly/3clctcj for details."),w.ze(x||1),m(me,QT(e.j,B,X.vb),2);case 2:if(e.i){e.i.variants=e.j.l,e.i.textStreams=e.j.j.slice(),e.i.imageStreams=e.j.i,e.h.filter(e.i),me.D(3);break}if(e.i={presentationTimeline:w,variants:e.j.l,textStreams:e.j.j.slice(),imageStreams:e.j.i,offlineSessionIds:[],minBufferTime:h||0,sequenceMode:e.g.dash.sequenceMode},!w.eg()){me.D(4);break}return Re=Le(t,"UTCTiming"),m(me,EA(e,l,Re),5);case 5:if(Ue=me.h,!e.h)return me.return();w.Uf(Ue);case 4:w.ve();case 3:e.h.makeTextStreamsForClosedCaptions(e.i),P(me)}})}function dA(e,t,n,i){var r=Ie(i,"mediaPresentationDuration",pn),o=[],u=0;i=Le(i,"Period");for(var s=0;s<i.length;s++){var a=i[s],l=i[s+1],c=Ie(a,"start",pn,u),f=a.id,h=Ie(a,"duration",pn),g=null;if(l){var v=Ie(l,"start",pn);v!=null&&(g=v-c)}else r!=null&&(g=r-c);if(g==null&&(g=h),!(e.B!==null&&f!==null&&c!==null&&c<e.B)||e.K.includes(f)||s+1==i.length){if(c!==null&&(e.B===null||c>e.B)&&(e.B=c),u=fA(e,t,n,{start:c,duration:g,node:a,oe:g==null||!l}),o.push(u),t.oa.id&&g&&(e.M[t.oa.id]=g),g==null){u=null;break}u=c+g}}return e.K=o.map(function(T){return T.id}),r!=null?{periods:o,duration:r,Df:!1}:{periods:o,duration:u,Df:!0}}function fA(e,t,n,i){t.oa=yl(i.node,null,n),t.Y=i,t.oa.Zb=t.Zb,t.oa.id||(t.oa.id="__shaka_period_"+i.start);var r=Le(i.node,"EventStream");n=t.presentationTimeline.kb(),r=p(r);for(var o=r.next();!o.done;o=r.next())TA(e,i.start,i.duration,o.value,n);if(n=Le(i.node,"AdaptationSet").map(function(c){return pA(e,t,c)}).filter(Cn),t.vb){for(i=[],r=p(n),o=r.next();!o.done;o=r.next()){o=p(o.value.Ah);for(var u=o.next();!u.done;u=o.next())i.push(u.value)}if(i.length!=new Set(i).size)throw new S(2,4,4018)}for(i=n.filter(function(c){return!c.Ye}),n=n.filter(function(c){return c.Ye}),n=p(n),r=n.next();!r.done;r=n.next()){r=r.value,o=r.Ye.split(" "),u=p(i);for(var s=u.next();!s.done;s=u.next()){var a=s.value;if(o.includes(a.id)){s={},a=p(a.streams);for(var l=a.next();!l.done;s={hd:s.hd},l=a.next())s.hd=l.value,s.hd.trickModeVideo=r.streams.find(function(c){return function(f){return Nn(c.hd.codecs)==Nn(f.codecs)}}(s))}}}if(r=e.g.disableAudio?[]:Pu(i,"audio"),u=e.g.disableVideo?[]:Pu(i,"video"),o=e.g.disableText?[]:Pu(i,fe),n=e.g.disableThumbnails?[]:Pu(i,"image"),!u.length&&!r.length)throw new S(2,4,4004);for(i=[],r=p(r),s=r.next();!s.done;s=r.next())i.push.apply(i,se(s.value.streams));for(r=[],u=p(u),s=u.next();!s.done;s=u.next())r.push.apply(r,se(s.value.streams));for(u=[],o=p(o),s=o.next();!s.done;s=o.next())u.push.apply(u,se(s.value.streams));for(o=[],n=p(n),s=n.next();!s.done;s=n.next())o.push.apply(o,se(s.value.streams));return{id:t.oa.id,nd:i,Od:r,textStreams:u,imageStreams:o}}function Pu(e,t){return e.filter(function(n){return n.contentType==t})}function pA(e,t,n){function i(k){switch(k){case 1:case 6:case 13:case 14:case 15:return"SDR";case 16:return"PQ";case 18:return"HLG"}}t.va=yl(n,t.oa,null);var r=!1,o=Le(n,"Role"),u=o.map(function(k){return k.getAttribute("value")}).filter(Cn),s=void 0,a=t.va.contentType==fe;a&&(s="subtitle"),o=p(o);for(var l=o.next();!l.done;l=o.next()){l=l.value;var c=l.getAttribute("schemeIdUri");if(c==null||c=="urn:mpeg:dash:role:2011")switch(l=l.getAttribute("value"),l){case"main":r=!0;break;case"caption":case"subtitle":s=l}}var f;c=Le(n,"EssentialProperty"),o=null,l=!1,c=p(c);for(var h=c.next();!h.done;h=c.next()){h=h.value;var g=h.getAttribute("schemeIdUri");g=="http://dashif.org/guidelines/trickmode"?o=h.getAttribute("value"):g=="urn:mpeg:mpegB:cicp:TransferCharacteristics"?f=i(parseInt(h.getAttribute("value"),10)):l=!0}for(c=Le(n,"SupplementalProperty"),c=p(c),h=c.next();!h.done;h=c.next())h=h.value,h.getAttribute("schemeIdUri")=="urn:mpeg:mpegB:cicp:TransferCharacteristics"&&(f=i(parseInt(h.getAttribute("value"),10)));c=Le(n,"Accessibility");var v=new Map;for(c=p(c),h=c.next();!h.done;h=c.next())if(g=h.value,h=g.getAttribute("schemeIdUri"),g=g.getAttribute("value"),h=="urn:scte:dash:cc:cea-608:2015")if(h=1,g!=null){g=g.split(";");for(var T=p(g),E=T.next();!E.done;E=T.next()){var y=E.value,x=E=void 0;y.includes("=")?(y=y.split("="),E=y[0].startsWith("CC")?y[0]:"CC"+y[0],x=y[1]||"und"):(E="CC"+h,g.length==2?h+=2:h++,x=y),v.set(E,ce(x))}}else v.set("CC1","und");else if(h=="urn:scte:dash:cc:cea-708:2015")if(h=1,g!=null)for(g=p(g.split(";")),E=g.next();!E.done;E=g.next())E=E.value,y=T=void 0,E.includes("=")?(E=E.split("="),T="svc"+E[0],y=E[1].split(",")[0].split(":").pop()):(T="svc"+h,h++,y=E),v.set(T,ce(y));else v.set("svc1","und");else h=="urn:mpeg:dash:role:2011"&&g!=null&&(u.push(g),g=="captions"&&(s="caption"));if(l)return null;l=Le(n,"ContentProtection");var A=e0(l,e.g.dash.ignoreDrmInfo,e.g.dash.keySystemsByURI),w=ce(n.getAttribute("lang")||"und"),C=n.getAttribute("label");if((l=Le(n,"Label"))&&l.length&&(l=l[0],l.textContent&&(C=l.textContent)),l=Le(n,"Representation"),n=l.map(function(k){return(k=gA(e,t,A,s,w,C,r,u,v,k))&&(k.hdr=k.hdr||f),k}).filter(function(k){return!!k}),n.length==0){if(o=t.va.contentType=="image",e.g.dash.ignoreEmptyAdaptationSet||a||o)return null;throw new S(2,4,4003)}if(!t.va.contentType||t.va.contentType=="application")for(t.va.contentType=S0(n[0].mimeType,n[0].codecs),a=p(n),c=a.next();!c.done;c=a.next())c.value.type=t.va.contentType;for(a=p(n),c=a.next();!c.done;c=a.next())for(c=c.value,h=p(A.drmInfos),g=h.next();!g.done;g=h.next())g=g.value,g.keyIds=g.keyIds&&c.keyIds?new Set([].concat(se(g.keyIds),se(c.keyIds))):g.keyIds||c.keyIds;return a=l.map(function(k){return k.getAttribute("id")}).filter(Cn),{id:t.va.id||"__fake__"+e.I++,contentType:t.va.contentType,language:w,qj:r,streams:n,drmInfos:A.drmInfos,Ye:o,Ah:a}}function gA(e,t,n,i,r,o,u,s,a,l){if(t.L=yl(l,t.va,null),e.C=Math.min(e.C,t.L.Zb),!yA(t.L))return null;var c=t.Y.start;t.bandwidth=Ie(l,"bandwidth",Vo)||0;var f=t.L.contentType,h=f==fe||f=="application";f=f=="image";try{var g=function(k,N,_){return AA(e,k,N,_)};if(t.L.Yc)var v=BT(t,g);else if(t.L.Db)v=VT(t,e.l);else if(t.L.Zc)v=HT(t,g,e.l,!!e.i,e.g.dash.initialSegmentLimit,e.M);else{var T=t.L.Na,E=t.Y.duration||0;v={ac:function(){return Promise.resolve(La(c,E,T))}}}}catch(k){if((h||f)&&k.code==4002)return null;throw k}g=Le(l,"ContentProtection"),g=xT(g,n,e.g.dash.ignoreDrmInfo,e.g.dash.keySystemsByURI),g=new Set(g?[g]:[]);var y=!1;Le(l,"SupplementalProperty").some(function(k){return k.getAttribute("schemeIdUri")=="tag:dolby.com,2018:dash:EC3_ExtensionType:2018"&&k.getAttribute("value")=="JOC"})&&(y=!0);var x=!1;h&&(x=s.includes("forced_subtitle")||s.includes("forced-subtitle"));var A;if(f&&((l=Le(l,"EssentialProperty").find(function(k){return["http://dashif.org/thumbnail_tile","http://dashif.org/guidelines/thumbnail_tile"].includes(k.getAttribute("schemeIdUri"))}))&&(A=l.getAttribute("value")),!A))return null;var w;l=t.L.codecs,t.profiles.includes("http://dashif.org/guidelines/dash-if-uhd#hevc-hdr-pq10")&&(l.includes("hvc1.2.4.L153.B0")||l.includes("hev1.2.4.L153.B0"))&&(w="PQ"),l=t.L.id?t.oa.id+","+t.L.id:"";var C=l&&e.l[l]?e.l[l]:{id:e.I++,originalId:t.L.id,createSegmentIndex:function(){return Promise.resolve()},closeSegmentIndex:function(){C.segmentIndex&&(C.segmentIndex.release(),C.segmentIndex=null)},segmentIndex:null,mimeType:t.L.mimeType,codecs:t.L.codecs,frameRate:t.L.frameRate,pixelAspectRatio:t.L.pixelAspectRatio,bandwidth:t.bandwidth,width:t.L.width,height:t.L.height,kind:i,encrypted:0<n.drmInfos.length,drmInfos:n.drmInfos,keyIds:g,language:r,label:o,type:t.va.contentType,primary:u,trickModeVideo:null,emsgSchemeIdUris:t.L.emsgSchemeIdUris,roles:s,forced:x,channelsCount:t.L.Cd,audioSamplingRate:t.L.audioSamplingRate,spatialAudio:y,closedCaptions:a,hdr:w,tilesLayout:A,matchedStreams:[]};return C.createSegmentIndex=function(){var k;return I(function(N){if(N.g==1)return C.segmentIndex?N.D(0):(k=C,m(N,v.ac(),3));k.segmentIndex=N.h,P(N)})},l&&t.vb&&!e.l[l]&&(e.l[l]=C),C}function mA(e){var t,n;I(function(i){switch(i.g){case 1:return t=0,ee(i,2),m(i,vl(e),4);case 4:t=i.h,le(i,3);break;case 2:n=te(i),e.h&&(n.severity=1,e.h.onError(n));case 3:if(!e.h)return i.return();T0(e,t),P(i)}})}function T0(e,t){0>e.H||e.G.R(Math.max(3,e.H-t,Ds(e.J)))}function yl(e,t,n){t=t||{contentType:"",mimeType:"",codecs:"",emsgSchemeIdUris:[],frameRate:void 0,pixelAspectRatio:void 0,Cd:null,audioSamplingRate:null,Zb:0},n=n||t.Na;var i=Le(e,"BaseURL"),r=i.map(Bo),o=e.getAttribute("contentType")||t.contentType,u=e.getAttribute("mimeType")||t.mimeType,s=e.getAttribute("codecs")||t.codecs,a=Ie(e,"frameRate",_y)||t.frameRate,l=e.getAttribute("sar")||t.pixelAspectRatio,c=Le(e,"InbandEventStream"),f=t.emsgSchemeIdUris.slice();c=p(c);for(var h=c.next();!h.done;h=c.next())h=h.value.getAttribute("schemeIdUri"),f.includes(h)||f.push(h);c=Le(e,"AudioChannelConfiguration"),c=vA(c)||t.Cd,h=Ie(e,"audioSamplingRate",en)||t.audioSamplingRate,o||(o=S0(u,s));var g=jo(e,"SegmentBase"),v=jo(e,"SegmentTemplate"),T=g&&Ie(g,"availabilityTimeOffset",Cr)||0,E=v&&Ie(v,"availabilityTimeOffset",Cr)||0;return i=i&&i.length&&Ie(i[0],"availabilityTimeOffset",Cr)||0,i=t.Zb+i+T+E,{Na:at(n,r),Yc:g||t.Yc,Db:jo(e,"SegmentList")||t.Db,Zc:v||t.Zc,width:Ie(e,"width",en)||t.width,height:Ie(e,"height",en)||t.height,contentType:o,mimeType:u,codecs:s,frameRate:a,pixelAspectRatio:l,emsgSchemeIdUris:f,id:e.getAttribute("id"),Cd:c,audioSamplingRate:h,Zb:i}}function vA(e){e=p(e);for(var t=e.next();!t.done;t=e.next()){var n=t.value;if((t=n.getAttribute("schemeIdUri"))&&(n=n.getAttribute("value")))switch(t){case"urn:mpeg:dash:outputChannelPositionList:2012":return n.trim().split(/ +/).length;case"urn:mpeg:dash:23003:3:audio_channel_configuration:2011":case"urn:dts:dash:audio_channel_configuration:2012":if(t=parseInt(n,10),!t)continue;return t;case"tag:dolby.com,2014:dash:audio_channel_configuration:2011":case"urn:dolby:dash:audio_channel_configuration:2011":if(t=parseInt(n,16),!t)continue;for(e=0;t;)t&1&&++e,t>>=1;return e;case"urn:mpeg:mpegB:cicp:ChannelConfiguration":if(t=[0,1,2,3,4,5,6,8,2,3,4,7,8,24,8,12,10,12,14,12,14],(n=parseInt(n,10))&&0<n&&n<t.length)return t[n]}}return null}function yA(e){var t=e.Yc?1:0;return t+=e.Db?1:0,t+=e.Zc?1:0,t==0?e.contentType==fe||e.contentType=="application":(t!=1&&(e.Yc&&(e.Db=null),e.Zc=null),!0)}function A0(e,t,n,i){var r,o,u,s,a,l;return I(function(c){if(c.g==1)return r=at(t,[n]),o=St(r,e.g.retryParameters),o.method=i,u=e.h.networkingEngine.request(4,o),Di(e.s,u),m(c,u.promise,2);if(s=c.h,i=="HEAD"){if(!s.headers||!s.headers.date)return c.return(0);a=s.headers.date}else a=_e(s.data);return l=Date.parse(a),isNaN(l)?c.return(0):c.return(l-Date.now())})}function EA(e,t,n){var i,r,o,u,s,a,l,c;return I(function(f){switch(f.g){case 1:i=n.map(function(h){return{scheme:h.getAttribute("schemeIdUri"),value:h.getAttribute("value")}}),r=e.g.dash.clockSyncUri,!i.length&&r&&i.push({scheme:"urn:mpeg:dash:utc:http-head:2014",value:r}),o=p(i),u=o.next();case 2:if(u.done){f.D(4);break}switch(s=u.value,ee(f,5),a=s.scheme,l=s.value,a){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":return f.D(7);case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":return f.D(8);case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":return c=Date.parse(l),f.return(isNaN(c)?0:c-Date.now());case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":pe("NTP UTCTiming scheme is not supported");break;default:pe("Unrecognized scheme in UTCTiming element",a)}f.D(9);break;case 7:return m(f,A0(e,t,l,"HEAD"),10);case 10:return f.return(f.h);case 8:return m(f,A0(e,t,l,"GET"),11);case 11:return f.return(f.h);case 9:le(f,3);break;case 5:te(f);case 3:u=o.next(),f.D(2);break;case 4:return pe("A UTCTiming element should always be given in live manifests! This content may not play on clients with bad clocks!"),f.return(0)}})}function TA(e,t,n,i,r){var o=i.getAttribute("schemeIdUri")||"",u=i.getAttribute("value")||"",s=Ie(i,"timescale",en)||1;i=p(Le(i,"Event"));for(var a=i.next();!a.done;a=i.next()){a=a.value;var l=Ie(a,"presentationTime",en)||0,c=Ie(a,"duration",en)||0;l=l/s+t,c=l+c/s,n!=null&&(l=Math.min(l,t+n),c=Math.min(c,t+n)),c<r||(a={schemeIdUri:o,value:u,startTime:l,endTime:c,id:a.getAttribute("id")||"",eventElement:a},e.h.onTimelineRegionAdded(a))}}function AA(e,t,n,i){var r,o,u,s,a;return I(function(l){return l.g==1?(r=Rn,o=Ra(t,n,i,e.g.retryParameters),u=e.h.networkingEngine,s=u.request(r,o),Di(e.s,s),m(l,s.promise,2)):(a=l.h,l.return(a.data))})}function S0(e,t){return Mo(Qt(e,t))?fe:e.split("/")[0]}R("shaka.dash.DashParser",Qr),Zn.mpd=function(){return new Qr},wt["application/dash+xml"]=function(){return new Qr},wt["video/vnd.mpeg.dash.mpd"]=function(){return new Qr};function w0(e,t,n,i){this.h=e,this.type=t,this.g=n,this.segments=i||null}function El(e,t,n,i){this.id=e,this.name=t,this.g=n,this.value=i===void 0?null:i}El.prototype.toString=function(){function e(i){return i.name+"="+(isNaN(Number(i.value))?'"'+i.value+'"':i.value)}var t="#"+this.name,n=this.g?this.g.map(e):[];return this.value&&n.unshift(this.value),0<n.length&&(t+=":"+n.join(",")),t},El.prototype.getAttribute=function(e){var t=this.g.filter(function(n){return n.name==e});return t.length?t[0]:null};function Z(e,t,n){return(e=e.getAttribute(t))?e.value:n||null}function Oe(e,t){if(e=e.getAttribute(t),!e)throw new S(2,4,4023,t);return e.value}function I0(e,t,n){n=n===void 0?[]:n,this.g=t,this.i=e,this.h=n}function x0(e,t){this.name=e,this.value=t}function nn(e,t){return e.filter(function(n){return n.name==t})}function C0(e,t){return e.filter(function(n){return Oe(n,"TYPE")==t})}function nt(e,t){return e=nn(e,t),e.length?e[0]:null}function Ou(e,t){var n=0;return n=n===void 0?0:n,(e=nt(e,t))?Number(e.value):n}function Yi(e,t){return at([e],[t])[0]}function ui(e){this.h=e,this.g=0}function Ji(e){On(e,/[ \t]+/gm)}function On(e,t){return t.lastIndex=e.g,t=t.exec(e.h),t=t==null?null:{position:t.index,length:t[0].length,results:t},e.g==e.h.length||t==null||t.position!=e.g?null:(e.g+=t.length,t.results)}function si(e){return e.g==e.h.length?null:(e=On(e,/[^ \t\n]*/gm))?e[0]:null}function SA(){this.g=0}function Tl(e,t,n){t=_e(t),t=t.replace(/\r\n|\r(?=[^\n]|$)/gm,`
`).trim();var i=t.split(/\n+/m);if(!/^#EXTM3U($|[ \t\n])/m.test(i[0]))throw new S(2,4,4015);t=0;for(var r=!0,o=p(i),u=o.next();!u.done;u=o.next())if(u=u.value,/^#(?!EXT)/m.test(u)||r)r=!1;else if(u=Al(e,u),--e.g,M0.includes(u.name)){t=1;break}else u.name=="EXT-X-STREAM-INF"&&(r=!0);for(o=[],r=!0,u=0;u<i.length;u++){var s=i[u],a=i[u+1];if(/^#(?!EXT)/m.test(s)||r)r=!1;else{if(s=Al(e,s),wA.includes(s.name)){if(t!=1)throw new S(2,4,4017);var l=i.splice(u,i.length-u);i=n,r=[],u=[],a=[],s=null,l=p(l);for(var c=l.next();!c.done;c=l.next())c=c.value,/^(#EXT)/.test(c)?(c=Al(e,c),M0.includes(c.name)?o.push(c):c.name=="EXT-X-MAP"?s=c:c.name=="EXT-X-PART"?a.push(c):c.name=="EXT-X-PRELOAD-HINT"?Z(c,"TYPE")=="PART"?a.push(c):Z(c,"TYPE")=="MAP"&&(c.name="EXT-X-MAP",s=c):u.push(c)):/^#(?!EXT)/m.test(c)||(c=Yi(i,c.trim()),s&&u.push(s),r.push(new I0(c,u,a)),u=[],a=[]);return a.length&&(s&&u.push(s),r.push(new I0("",u,a))),new w0(n,t,o,r)}o.push(s),s.name=="EXT-X-STREAM-INF"&&(s.g.push(new x0("URI",a)),r=!0)}}return new w0(n,t,o)}function Al(e,t){e=e.g++;var n=t.match(/^#(EXT[^:]*)(?::(.*))?$/);if(!n)throw new S(2,4,4016,t);t=n[1];var i=n[2];n=[];var r;if(i){i=new ui(i);var o;(o=On(i,/^([^,=]+)(?:,|$)/g))&&(r=o[1]);for(var u=/([^=]+)=(?:"([^"]*)"|([^",]*))(?:,|$)/g;o=On(i,u);)n.push(new x0(o[1],o[2]||o[3])),Ji(i)}return new El(e,t,n,r)}var M0="EXT-X-TARGETDURATION EXT-X-MEDIA-SEQUENCE EXT-X-DISCONTINUITY-SEQUENCE EXT-X-PLAYLIST-TYPE EXT-X-I-FRAMES-ONLY EXT-X-ENDLIST EXT-X-SERVER-CONTROL EXT-X-SKIP".split(" "),wA="EXTINF EXT-X-BYTERANGE EXT-X-DISCONTINUITY EXT-X-PROGRAM-DATE-TIME EXT-X-KEY EXT-X-DATERANGE EXT-X-MAP".split(" ");function k0(){}function L0(e){try{var t=Sl(e);return Ri({uri:e,originalUri:e,data:t.data,headers:{"content-type":t.contentType}})}catch(n){return Wn(n)}}function Sl(e){var t=e.split(":");if(2>t.length||t[0]!="data")throw new S(2,1,1004,e);if(t=t.slice(1).join(":").split(","),2>t.length)throw new S(2,1,1004,e);var n=t[0];e=M.decodeURIComponent(t.slice(1).join(",")),t=n.split(";"),n=t[0];var i=!1;1<t.length&&t[t.length-1]=="base64"&&(i=!0,t.pop());var r;return i?r=ln(e):r=kn(e),{data:r,contentType:n}}R("shaka.net.DataUriPlugin",k0),k0.parse=L0,hn("data",L0);function $r(){var e=this;this.g=this.i=null,this.sa=1,this.s=new Map,this.C=new Map,this.H=new Map,this.H.set("video",new Map),this.H.set("audio",new Map),this.H.set(fe,new Map),this.H.set("image",new Map),this.ka=new Set,this.h=new Map,this.j=null,this.O="",this.X=new SA,this.P=0,this.F=-1,this.J=1/0,this.ua=!1,this.m=new q(function(){GA(e)}),this.aa=bu,this.G=null,this.$=0,this.K=1/0,this.V=this.ra=0,this.I=new Po,this.M=new Map,this.B=new Map,this.Z=new Map,this.l=!1}d=$r.prototype,d.configure=function(e){this.g=e},d.start=function(e,t){var n=this,i;return I(function(r){return r.g==1?(n.i=t,n.l=t.isLowLatencyMode(),m(r,Nl(n,e),2)):r.g!=3?(i=r.h,n.O=i.uri,m(r,MA(n,i.data,e),3)):r.return(n.G)})},d.stop=function(){this.m&&(this.m.stop(),this.m=null);var e=[];return this.I&&(e.push(this.I.destroy()),this.I=null),this.g=this.i=null,this.ka.clear(),this.G=null,this.h.clear(),this.C.clear(),this.B.clear(),this.s.clear(),Promise.all(e)},d.update=function(){var e=this,t,n,i,r,o,u,s,a,l;return I(function(c){if(c.g==1){if(!kt(e))return c.return();for(t=[],n=Array.from(e.h.values()),i=n.filter(function(f){return f.stream.segmentIndex}),r=p(i),o=r.next();!o.done;o=r.next())u=o.value,t.push(IA(e,u));return m(c,Promise.all(t),2)}O0(e,i.map(function(f){return f.stream})),s=i.some(function(f){return f.Lc==0}),i.length&&!s&&(a=VA,Uu(e,a.ig),l=i.map(function(f){return f.Ab}),e.j.Sa(Math.min.apply(Math,se(l))),e.i.updateDuration()),P(c)})};function wl(e,t){return kt(e)?e.H.get(t.type):t.zd}function IA(e,t){var n,i,r,o,u,s,a,l,c,f,h,g,v,T,E,y;return I(function(x){if(x.g==1)return n=t.ld,i=new ft(n),e.l&&t.pd&&To(i,new Ti("_HLS_skip=YES")),m(x,Nl(e,i.toString()),2);if(r=x.h,!t.stream.segmentIndex)return x.return();if(o=Tl(e.X,r.data,r.uri),o.type!=1)throw new S(2,4,4017);u=nn(o.g,"EXT-X-DEFINE"),s=_0(e,u),a=t.stream,l=wl(e,t),c=j0(o,a.mimeType),f=c.keyIds,h=c.drmInfos,g=function(A,w){return A.size===w.size&&[].concat(se(A)).every(function(C){return w.has(C)})},g(a.keyIds,f)||(a.keyIds=f,a.drmInfos=h,e.i.newDrmInfo(a)),v=V0(e,o,a.type,l,s),a.segmentIndex.kc(v,e.j.kb()),v.length&&(T=Ou(o.g,"EXT-X-MEDIA-SEQUENCE"),E=l.get(T),a.segmentIndex.Gb(E)),y=v[v.length-1],nt(o.g,"EXT-X-ENDLIST")&&(t.Lc=!0,t.Ab=y.endTime),P(x)})}d.onExpirationUpdated=function(){};function xA(e,t){for(var n=e.F==-1,i=p(t),r=i.next();!r.done;r=i.next()){r=r.value;var o=r.stream.segmentIndex,u=wl(e,r);if(o=o.g[0]||null){u=p(u);for(var s=u.next();!s.done;s=u.next()){s=p(s.value);var a=s.next().value;if(s.next().value==o.startTime){n&&(e.F=Math.max(e.F,a)),r.ke=a;break}}}}if(!(0>e.F))for(t=p(t),r=t.next();!r.done;r=t.next())n=r.value,(i=n.stream.segmentIndex)&&(i.g.splice(0,e.F-n.ke),(i=i.g[0]||null)&&(i=-i.startTime,n.stream.segmentIndex.offset(i),N0(e,n,i)))}function CA(e,t){if(e.J==1/0){t=p(t);for(var n=t.next();!n.done;n=t.next()){var i=n.value.stream.segmentIndex.g[0]||null;i!=null&&i.g!=null&&(e.J=Math.min(e.J,i.g))}}if(t=e.J,t!=1/0)for(i=p(e.h.values()),n=i.next();!n.done;n=i.next()){n=n.value;var r=n.stream.segmentIndex;if(r!=null){var o=r.g[0]||null;if(o.g==null)bn("Missing EXT-X-PROGRAM-DATE-TIME for stream",n.bd,"Expect AV sync issues!");else for(N0(e,n,o.g-t-o.startTime),n=p(r),r=n.next();!r.done;r=n.next())r.value.Ve(t)}}}function N0(e,t,n){t.Ab+=n,e=wl(e,t),t=p(e);for(var i=t.next();!i.done;i=t.next()){var r=p(i.value);i=r.next().value,r=r.next().value,e.set(i,r+n)}}function MA(e,t,n){var i,r,o,u,s,a,l,c,f,h,g,v,T,E,y,x,A,w,C,k,N,_,D,V,X,W,re,B,Re,Ue,me,ut;return I(function(Rt){switch(Rt.g){case 1:i=Tl(e.X,t,e.O),r=nn(i.g,"EXT-X-DEFINE");for(var sn=p(r),qe=sn.next();!qe.done;qe=sn.next()){var rt=qe.value;qe=Z(rt,"NAME"),rt=Z(rt,"VALUE"),qe&&rt&&(e.s.has(qe)||e.s.set(qe,rt))}if(o=[],u=[],s=[],i.type==1)return k=e.g.hls.mediaPlaylistFullMimeType,i.segments.length&&(N=new ft(i.segments[0].i),_=N.Ha.split(".").pop(),(D=K0[_])?k=D:_!=="ts"&&_!=="mp4"&&(_l[_]?(D=_l[_],V=e.g.hls.defaultAudioCodec,k=D+'; codecs="'+V+'"'):Dl[_]&&(D=Dl[_],X=e.g.hls.defaultVideoCodec,k=D+'; codecs="'+X+'"'))),W=k.split(";")[0],re=W.split("/")[0],B=Vh(k),Re=new Map,m(Rt,U0(e,i,n,n,B,re,"",!0,"Media Playlist",null,Re,null,!1,!1,W),5);for(a=nn(i.g,"EXT-X-MEDIA"),l=nn(i.g,"EXT-X-STREAM-INF"),c=nn(i.g,"EXT-X-IMAGE-STREAM-INF"),f=nn(i.g,"EXT-X-SESSION-KEY"),sn=p(l),qe=sn.next();!qe.done;qe=sn.next()){var An=qe.value;rt=Z(An,"AUDIO"),qe=Z(An,"VIDEO");var _t=Z(An,"SUBTITLES");if(An=D0(e,An),_t){var Tv=Ai(fe,An);e.B.set(_t,Tv),bt(An,Tv)}rt&&(_t=Ai("audio",An),_t||(_t=e.g.hls.defaultAudioCodec),e.B.set(rt,_t)),qe&&(rt=Ai("video",An),rt||(rt=e.g.hls.defaultVideoCodec),e.B.set(qe,rt))}for(h=nn(i.g,"EXT-X-SESSION-DATA"),g=p(h),v=g.next();!v.done;v=g.next())T=v.value,E=Z(T,"DATA-ID"),y=Z(T,"URI"),x=Z(T,"LANGUAGE"),A=Z(T,"VALUE"),w=new Map().set("id",E),y&&w.set("uri",Yi(e.O,y)),x&&w.set("language",x),A&&w.set("value",A),C=new U("sessiondata",w),e.i&&e.i.onEvent(C);for(NA(e,a),sn=C0(a,"CLOSED-CAPTIONS"),sn=p(sn),qe=sn.next();!qe.done;qe=sn.next())_t=qe.value,qe=Il(_t),rt=Oe(_t,"GROUP-ID"),_t=Oe(_t,"INSTREAM-ID"),e.M.get(rt)||e.M.set(rt,new Map),e.M.get(rt).set(_t,qe);return o=RA(e,l,f),u=kA(e,a),m(Rt,LA(e,c),4);case 4:s=Rt.h,Rt.D(3);break;case 5:Ue=Rt.h,e.h.set(n,Ue),o.push({id:0,language:"und",disabledUntilTime:0,primary:!0,audio:re=="audio"?Ue.stream:null,video:re=="video"?Ue.stream:null,bandwidth:0,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]});case 3:if(!e.i)throw new S(2,7,7001);e.j=new H(null,0),e.j.$c(!0),i.type==1&&(kt(e)&&(B0(e),me=e.P,e.m.R(me)),ut=Array.from(e.h.values()),Ml(e,ut),R0(e)),e.G={presentationTimeline:e.j,variants:o,textStreams:u,imageStreams:s,offlineSessionIds:[],minBufferTime:0,sequenceMode:!0},e.i.makeTextStreamsForClosedCaptions(e.G),P(Rt)}})}function R0(e){if(kt(e)){if(e.P=e.K,e.aa==Pl){var t=Cl(e);e.g.hls.useSafariBehaviorForLive&&(t=e.j.m),isNaN(e.g.availabilityWindowOverride)||(t=e.g.availabilityWindowOverride),e.j.Re(t)}}else e.j.Sa(Cl(e));e.j.ve()}function _0(e,t){var n=new Map;t=p(t);for(var i=t.next();!i.done;i=t.next()){var r=i.value;i=Z(r,"NAME");var o=Z(r,"VALUE");r=Z(r,"IMPORT"),i&&o&&n.set(i,o),r&&(i=e.s.get(r))&&n.set(r,i)}return n}function kA(e,t){var n=C0(t,"SUBTITLES");t=n.map(function(u){if(e.g.disableText)return null;try{return P0(e,u).stream}catch(s){if(e.g.hls.ignoreTextStreamFailures)return null;throw s}}),n=p(n);for(var i=n.next();!i.done;i=n.next()){var r=Oe(i.value,"GROUP-ID");if((i=e.B.get(r))&&(r=e.C.get(r))){r=p(r);for(var o=r.next();!o.done;o=r.next())o=o.value,o.stream.codecs=i,o.stream.mimeType=kl(fe,i)||Ll(fe)}}return t.filter(function(u){return u})}function LA(e,t){var n,i;return I(function(r){return r.g==1?(n=t.map(function(o){var u,s;return I(function(a){if(a.g==1)return e.g.disableThumbnails?a.return(null):(ee(a,2),m(a,DA(e,o),4));if(a.g!=2)return u=a.h,a.return(u.stream);if(s=te(a),e.g.hls.ignoreImageStreamFailures)return a.return(null);throw s})}),m(r,Promise.all(n),2)):(i=r.h,r.return(i.filter(function(o){return o})))})}function NA(e,t){t=t.filter(function(i){var r=Z(i,"URI")||"";return Z(i,"TYPE")!="SUBTITLES"&&r!=""}),t=p(t);for(var n=t.next();!n.done;n=t.next())P0(e,n.value)}function RA(e,t,n){var i=[],r=new Set;if(0<n.length){n=p(n);for(var o=n.next();!o.done;o=n.next()){o=o.value;var u=Oe(o,"METHOD");if(u!="NONE"&&u!="AES-128"&&(u=Z(o,"KEYFORMAT")||"identity",o=(u=q0[u])?u(o,""):null)){if(o.keyIds){u=p(o.keyIds);for(var s=u.next();!s.done;s=u.next())r.add(s.value)}i.push(o)}}}return t=t.map(function(a){var l=Z(a,"FRAME-RATE"),c=Number(Z(a,"AVERAGE-BANDWIDTH"))||Number(Oe(a,"BANDWIDTH")),f=Z(a,"RESOLUTION");f=p(f?f.split("x"):[null,null]);var h=f.next().value,g=f.next().value,v=Z(a,"VIDEO-RANGE");a=_A(e,a),f=a.audio,a=a.video;for(var T=p(a),E=T.next();!E.done;E=T.next())(E=E.value.stream)&&(E.width=Number(h)||void 0,E.height=Number(g)||void 0,E.frameRate=Number(l)||void 0,E.hdr=v||void 0);for(l=e.g.disableAudio,(!f.length||l)&&(f=[null]),l=e.g.disableVideo,(!a.length||l)&&(a=[null]),l=[],f=p(f),h=f.next();!h.done;h=f.next())for(h=h.value,g=p(a),v=g.next();!v.done;v=g.next()){var y=v.value;(v=h?h.stream:null)&&(v.drmInfos=i,v.keyIds=r),(T=y?y.stream:null)&&(T.drmInfos=i,T.keyIds=r),E=h?h.stream.drmInfos:null;var x=y?y.stream.drmInfos:null;y=(y?y.bd:"")+" - "+(h?h.bd:""),v&&T&&E.length&&x.length&&!(0<zo(E,x).length)||e.ka.has(y)||(v={id:e.sa++,language:v?v.language:"und",primary:!!v&&v.primary||!!T&&T.primary,audio:v,video:T,bandwidth:c,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]},l.push(v),e.ka.add(y))}return l}).reduce(Ls,[]),t=t.filter(function(a){return a!=null})}function _A(e,t){var n=D0(e,t),i=Z(t,"AUDIO"),r=Z(t,"VIDEO"),o=i||r;o=o&&e.C.has(o)?e.C.get(o):[],i={audio:i?o:[],video:r?o:[]},r=!1;var u=Oe(t,"URI"),s=i.audio.find(function(c){return c&&c.bd==u}),a=Ai("video",n),l=Ai("audio",n);return l&&!a?o="audio":!o.length&&l&&a?(o="video",n=[[a,l].join()]):i.audio.length&&s?(o="audio",r=!0):o=i.video.length&&!i.audio.length?"audio":"video",r||(e=PA(e,t,n,o),i[e.stream.type]=[e]),i}function D0(e,t){var n=[];e.g.disableVideo||n.push(e.g.hls.defaultVideoCodec),e.g.disableAudio||n.push(e.g.hls.defaultAudioCodec),n=Z(t,"CODECS",n.join(",")).split(/\s*,\s*/),e=new Set,t=[],n=p(n);for(var i=n.next();!i.done;i=n.next()){i=i.value;var r=Ar(i)[0];e.has(r)||(t.push(i),e.add(r))}return t}function Il(e){return e=Z(e,"LANGUAGE")||"und",ce(e)}function P0(e,t){var n=Oe(t,"GROUP-ID"),i="",r=Oe(t,"TYPE").toLowerCase();r=="subtitles"&&(r=fe);var o=r;if(o==fe?i=Z(t,"CODECS")||"":n&&e.B.has(n)&&(i=e.B.get(n)),r=Zi(Oe(t,"URI"),e.s),e.h.has(r))return e.h.get(r);var u=Il(t),s=Z(t,"NAME"),a=Z(t,"DEFAULT")=="YES",l=o=="audio"&&(l=Z(t,"CHANNELS"))?parseInt(l.split("/")[0],10):null,c=o=="audio"&&(c=Z(t,"CHANNELS"))?c.includes("/JOC"):!1,f=Z(t,"CHARACTERISTICS");return t=Z(t,"FORCED")=="YES",i=xl(e,r,i,o,u,a,s,l,null,f,t,c),e.C.has(n)?e.C.get(n).push(i):e.C.set(n,[i]),e.h.has(r)?e.h.get(r):(e.h.set(r,i),i)}function DA(e,t){var n,i,r,o,u,s,a,l,c,f;return I(function(h){return h.g==1?(n=Zi(Oe(t,"URI"),e.s),i=Z(t,"CODECS","jpeg")||"",e.h.has(n)?h.return(e.h.get(n)):(r=Il(t),o=Z(t,"NAME"),u=Z(t,"CHARACTERISTICS"),s=xl(e,n,i,"image",r,!1,o,null,null,u,!1,!1),e.h.has(n)?h.return(e.h.get(n)):(a=Z(t,"RESOLUTION"))?m(h,s.stream.createSegmentIndex(),3):h.D(2))):(h.g!=2&&(l=s.stream.segmentIndex.get(0),c=l.tilesLayout)&&(s.stream.width=Number(a.split("x")[0])*Number(c.split("x")[0]),s.stream.height=Number(a.split("x")[1])*Number(c.split("x")[1])),(f=Z(t,"BANDWIDTH"))&&(s.stream.bandwidth=Number(f)),e.h.set(n,s),h.return(s))})}function PA(e,t,n,i){var r=Zi(Oe(t,"URI"),e.s);return e.h.has(r)||(t=Z(t,"CLOSED-CAPTIONS"),t=i=="video"&&t&&t!="NONE"?e.M.get(t):null,n=sr(i,n),i=xl(e,r,n,i,"und",!1,null,null,t,null,!1,!1),e.h.has(r))?e.h.get(r):(e.h.set(r,i),i)}function xl(e,t,n,i,r,o,u,s,a,l,c,f){function h(x){var A,w,C,k,N,_,D,V,X,W,re,B,Re,Ue;return I(function(me){if(me.g==1)return m(me,Nl(e,T.ld),2);if(me.g!=3)return A=me.h,x.aborted?me.return():(w=A.uri,C=Tl(e.X,A.data,w),k=kt(e),m(me,U0(e,C,t,w,n,i,r,o,u,s,a,l,c,f),3));if(N=me.h,x.aborted)return me.return();if(_=N.stream,kt(e)&&!k&&B0(e),T.ld=w,T.Ab=N.Ab,T.pd=N.pd,T.Lc=N.Lc,T.zd=N.zd,T.ue=!0,v.segmentIndex=_.segmentIndex,v.encrypted=_.encrypted,v.drmInfos=_.drmInfos,v.keyIds=_.keyIds,v.mimeType=_.mimeType,bi.includes(v.mimeType)&&(v.codecs=""),v.drmInfos.length&&e.i.newDrmInfo(v),D=Ze,i==D.Ma||i==D.jd)for(V=p(e.h.values()),X=V.next();!X.done;X=V.next())W=X.value,W.ue||W.type!=i||(W.stream.mimeType=_.mimeType,bi.includes(W.stream.mimeType)&&(W.stream.codecs=""));i==D.ba&&(re=_.segmentIndex.get(0))&&re.h&&(v.mimeType="application/mp4"),OA(e)&&(e.ua?Ml(e,[T]):(e.ua=!0,B=Array.from(e.h.values()),Re=B.filter(function(ut){return ut.stream.segmentIndex}),Ml(e,Re),R0(e),Ue=e.P,0<Ue&&e.m.R(Ue))),P(me)})}var g=Yi(e.O,t),v=b0(e,n,i,r,o,u,s,a,l,c,f);bi.includes(v.mimeType)&&(v.codecs="");var T={stream:v,type:i,bd:t,ld:g,Ab:0,zd:new Map,pd:!1,Lc:!1,ke:-1,ue:!1},E=null,y=new AbortController;return v.createSegmentIndex=function(){return E||(y=new AbortController,E=new Promise(function(x){x(h(y.signal))}))},v.closeSegmentIndex=function(){E&&!v.segmentIndex&&y.abort(),v.segmentIndex&&(v.segmentIndex.release(),v.segmentIndex=null),E=null},T}function Cl(e){var t=1/0;e=p(e.h.values());for(var n=e.next();!n.done;n=e.next())n=n.value,n.stream.segmentIndex&&n.stream.type!="text"&&(t=Math.min(t,n.Ab));return t}function O0(e,t){var n=[];t=p(t);for(var i=t.next();!i.done;i=t.next())i=i.value,i.segmentIndex&&G1(i.segmentIndex,function(r){n.push(r)});e.j.lc(n)}function Ml(e,t){if(!kt(e))for(var n=Cl(e),i=p(t),r=i.next();!r.done;r=i.next())r.value.stream.segmentIndex.wb(0,n);for(n=p(t),r=n.next();!r.done;r=n.next())r=r.value.stream,bi.includes(r.mimeType)&&(r.codecs="");O0(e,t.map(function(o){return o.stream})),e.g.hls.ignoreManifestProgramDateTime?xA(e,t):CA(e,t)}function OA(e){if(!e.G)return!1;var t=[],n=[];e=p(e.G.variants);for(var i=e.next();!i.done;i=e.next())i=i.value,i.video&&t.push(i.video),i.audio&&n.push(i.audio);return!(0<t.length&&!t.some(function(r){return r.segmentIndex})||0<n.length&&!n.some(function(r){return r.segmentIndex}))}function U0(e,t,n,i,r,o,u,s,a,l,c,f,h,g,v){var T,E,y,x,A,w,C,k,N,_,D,V,X,W,re;return I(function(B){if(B.g==1){if(t.type!=1)throw new S(2,4,4017);return T=nn(t.g,"EXT-X-DEFINE"),E=_0(e,T),F0(e,t),v?B.D(2):m(B,BA(e,o,r,t,E),3)}if(B.g!=2&&(v=B.h),y=j0(t,v),x=y.drmInfos,A=y.keyIds,w=y.encrypted,C=y.mg,w&&!x.length&&!C)throw new S(2,4,4026);return k=kt(e)?e.H.get(o):new Map,N=e.l,_=V0(e,t,o,k,E),N!=e.l&&F0(e,t),D=_[_.length-1].endTime,V=new he(_),W=(X=nt(t.g,"EXT-X-SERVER-CONTROL"))?X.getAttribute("CAN-SKIP-UNTIL")!=null:!1,re=b0(e,r,o,u,s,a,l,c,f,h,g),re.segmentIndex=V,re.encrypted=w,re.drmInfos=x,re.keyIds=A,re.mimeType=v,B.return({stream:re,type:o,bd:n,ld:i,Ab:D,pd:W,Lc:!1,ke:-1,zd:k,ue:!1})})}function b0(e,t,n,i,r,o,u,s,a,l,c){var f=kl(n,t)||Ll(n);return{id:e.sa++,originalId:o,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:null,mimeType:f,codecs:t,kind:n==fe?"subtitle":void 0,encrypted:!1,drmInfos:[],keyIds:new Set,language:i,label:o,type:n,primary:r,trickModeVideo:null,emsgSchemeIdUris:null,frameRate:void 0,pixelAspectRatio:void 0,width:void 0,height:void 0,bandwidth:void 0,roles:a?a.split(","):[],forced:l,channelsCount:u,audioSamplingRate:null,spatialAudio:c,closedCaptions:s,hdr:void 0,tilesLayout:void 0}}function j0(e,t){var n=[];if(e.segments){e=p(e.segments);for(var i=e.next();!i.done;i=e.next())i=nn(i.value.g,"EXT-X-KEY"),n.push.apply(n,se(i))}i=e=!1;var r=[],o=new Set;n=p(n);for(var u=n.next();!u.done;u=n.next()){u=u.value;var s=Oe(u,"METHOD");if(s!="NONE"){if(e=!0,s=="AES-128")i=!0;else if(s=Z(u,"KEYFORMAT")||"identity",u=(s=q0[s])?s(u,t):null){if(u.keyIds){s=p(u.keyIds);for(var a=s.next();!a.done;a=s.next())o.add(a.value)}r.push(u)}}}return{drmInfos:r,keyIds:o,encrypted:e,mg:i}}function UA(e,t,n){if(!M.crypto||!M.crypto.subtle)throw pe("Web Crypto API is not available to decrypt AES-128. (Web Crypto only exists in secure origins like https)"),new S(2,4,4042);var i=0,r=Z(t,"IV","");if(r){var o=yr(r.substr(2));if(o.byteLength!=16)throw new S(2,4,4043)}else i=Ou(n.g,"EXT-X-MEDIA-SEQUENCE");t=Yi(n.h,Oe(t,"URI"));var u=St([t],e.g.retryParameters),s={method:"AES-128",iv:o,firstMediaSequenceNumber:i,fetchKey:function(){var a,l,c;return I(function(f){if(f.g==1)return m(f,Rl(e,u,6),2);if(f.g!=3){if(a=f.h,!a.data||a.data.byteLength!=16)throw new S(2,4,4044);return l={name:"AES-CBC"},c=s,m(f,M.crypto.subtle.importKey("raw",a.data,l,!0,["decrypt"]),3)}c.cryptoKey=f.h,s.fetchKey=void 0,P(f)})}};return s}function F0(e,t){var n=nt(t.g,"EXT-X-PLAYLIST-TYPE"),i=nt(t.g,"EXT-X-ENDLIST");if(i=n&&n.value=="VOD"||i,n=n&&n.value=="EVENT"&&!i,n=!i&&!n,i)Uu(e,bu);else{if(n?Uu(e,Pl):Uu(e,H0),i=nt(t.g,"EXT-X-TARGETDURATION"),!i)throw new S(2,4,4024,"EXT-X-TARGETDURATION");i=Number(i.value),n=nt(t.g,"EXT-X-PART-INF"),e.l&&n?(e.ra=Number(Oe(n,"PART-TARGET")),e.K=Math.min(e.ra,e.K),t=nt(t.g,"EXT-X-SERVER-CONTROL"),e.V=t?Number(Oe(t,"PART-HOLD-BACK")):0):e.K=Math.min(i,e.K),e.$=Math.max(i,e.$)}}function B0(e){var t=e.g.defaultPresentationDelay?e.g.defaultPresentationDelay:e.V?e.V:e.$*e.g.hls.liveSegmentsDelay;e.j.Yf(0),e.j.Vf(t),e.j.$c(!1)}function bA(e,t,n,i){if(n=nt(n,"EXT-X-MAP"),!n)return null;var r=Oe(n,"URI");return i=Zi(Yi(t,r),i),t=[i,Z(n,"BYTERANGE","")].join("-"),e.Z.has(t)||(n=jA(i,n),e.Z.set(t,n)),e.Z.get(t)}function jA(e,t){var n=0,i=null;return(t=Z(t,"BYTERANGE"))&&(n=t.split("@"),i=Number(n[0]),n=Number(n[1]),i=n+i-1),new It(function(){return[e]},n,i)}function FA(e,t,n,i,r,o,u,s,a,l){var c=i.g,f=Zi(i.i,o),h=nt(c,"EXTINF"),g=o=0,v=null;i.h.length&&!e.l&&pe("Low-latency HLS live stream detected, but low-latency streaming mode is not enabled in Shaka Player. Set streaming.lowLatencyMode configuration to true, and see https://bit.ly/3clctcj for details.");var T=null;if(!e.g.hls.ignoreManifestProgramDateTime){var E=nt(c,"EXT-X-PROGRAM-DATE-TIME");E&&E.value&&(T=Md(E.value))}if(E=$o,nt(c,"EXT-X-GAP")&&(E=2),!h){if(i.h.length==0)throw new S(2,4,4024,"EXTINF");if(!e.l)return null}var y=[];if(e.l)for(var x={},A=0;A<i.h.length;x={Wd:x.Wd},A++){var w=i.h[A],C=A==0?n:y[y.length-1],k=A==0?r:C.endTime,N=Number(Z(w,"DURATION"))||e.ra;if(N){N=k+N;var _=0,D=null;w.name=="EXT-X-PRELOAD-HINT"?_=(_=Z(w,"BYTERANGE-START"))?Number(_):0:(_=Z(w,"BYTERANGE"),D=p(G0(C,_)),_=D.next().value,D=D.next().value),(C=Z(w,"URI"))&&(x.Wd=Yi(u,C),C=$o,Z(w,"GAP")=="YES"&&(C=2),y.push(new ae(k,N,function(V){return function(){return[V.Wd]}}(x),_,D,t,0,0,1/0,[],"",null,null,C)))}}return h?o=r+Number(h.value.split(",")[0]):o=y[y.length-1].endTime,(e=nt(c,"EXT-X-BYTERANGE"))?(v=p(G0(n,e.value)),g=v.next().value,v=v.next().value):y.length&&(g=y[0].Ta,v=y[y.length-1].Ca),n="",e=null,s=="image"&&(n="1x1",s=nt(c,"EXT-X-TILES"))&&(n=Oe(s,"LAYOUT"),(s=Z(s,"DURATION"))&&(e=Number(s))),new ae(r,o,function(){return f.length?[f]:[]},g,v,t,a,0,1/0,y,n,e,T,E,l)}function G0(e,t){var n=0,i=null;return t&&(n=t.split("@"),t=Number(n[0]),n=n[1]?Number(n[1]):e.Ca+1,i=n+t-1),[n,i]}function V0(e,t,n,i,r){var o=t.segments,u=void 0,s=Ou(t.g,"EXT-X-DISCONTINUITY-SEQUENCE"),a=Ou(t.g,"EXT-X-MEDIA-SEQUENCE"),l=nt(t.g,"EXT-X-SKIP");l=l?Number(Z(l,"SKIPPED-SEGMENTS")):0;var c=a+l,f=0;kt(e)&&i.has(c)&&(f=i.get(c));for(var h=[],g=null,v=f,T=0;T<o.length;T++){var E=o[T],y=T==0?f:g.endTime;c=a+l+T,nt(E.g,"EXT-X-DISCONTINUITY")&&(s++,v=y);for(var x=p(E.g),A=x.next();!A.done;A=x.next())A=A.value,A.name=="EXT-X-KEY"&&(Oe(A,"METHOD")=="AES-128"?u=UA(e,A,t):u=void 0);i.set(c,y),x=bA(e,t.h,E.g,r),!e.l&&e.i.isAutoLowLatencyMode()&&(e.i.enableLowLatencyMode(),e.l=e.i.isLowLatencyMode()),(g=E=FA(e,x,g,E,y,r,t.h,n,v,u))&&(E.j=s,e.g.hls.ignoreManifestProgramDateTime&&e.F!=null&&c<e.F||h.push(E))}if(t=h.some(function(w){return w.g!=null})){for(n={},i=0;i<h.length;n={tc:n.tc,sc:n.sc,cd:n.cd,qb:n.qb,rc:n.rc},i++)if(n.qb=h[i],n.qb.g==null)for(n.sc=0,n.tc=i,r=function(w){return function(){var C=h[w.tc];if(C){if(C.g!=null)return C.g+w.sc;w.sc-=C.endTime-C.startTime,w.tc+=1}return null}}(n),n.rc=0,n.cd=i,o=function(w){return function(){var C=h[w.cd];if(C){if(C!=w.qb&&(w.rc+=C.endTime-C.startTime),C.g!=null)return C.g+w.rc;--w.cd}return null}}(n);n.qb.g==null;)n.qb.g=o(),n.qb.g==null&&(n.qb.g=r())}if(t)for(n=p(h),i=n.next();!i.done;i=n.next())for(r=i.value,i=r.g,r=p(r.i),o=r.next();!o.done;o=r.next())o=o.value,o.g=i,i+=o.endTime-o.startTime;if(e=e.J,t&&e!=1/0)for(t=p(h),i=t.next();!i.done;i=t.next())i.value.Ve(e);return h}function Zi(e,t){e=String(e).replace(/%7B/g,"{").replace(/%7D/g,"}");var n=e.match(/{\$\w*}/g);if(n){n=p(n);for(var i=n.next();!i.done;i=n.next()){i=i.value;var r=i.slice(2,i.length-1),o=t.get(r);if(o)e=e.replace(i,o);else throw new S(2,4,4039,r)}}return e}function kl(e,t){if(e==fe){if(t=="vtt"||t=="wvtt")return"text/vtt";if(t&&t!=="")return"application/mp4"}return e!="image"||t&&t!="jpeg"?e=="audio"&&t=="mp4a.40.34"?"audio/mpeg":null:"image/jpeg"}function Ll(e){return e==fe?"text/vtt":z0[e].mp4}function BA(e,t,n,i,r){var o,u,s,a,l,c,f,h,g,v;return I(function(T){return T.g==1?(o=Rn,u=Math.trunc((i.segments.length-1)/2),s=Zi(i.segments[u].i,r),a=new ft(s),l=a.Ha.split(".").pop(),c=z0[t],(f=c[l])||(f=K0[l])||(f=kl(t,n))?T.return(f):(h=St([s],e.g.retryParameters),h.method="HEAD",m(T,Rl(e,h,o),2))):(g=T.h,(v=g.headers["content-type"])?T.return(v.split(";")[0]):T.return(Ll(t)))})}function Nl(e,t){return t=St([t],e.g.retryParameters),e.i.modifyManifestRequest(t,{format:"h"}),Rl(e,t,0)}function GA(e){var t,n;I(function(i){if(i.g==1)return e.i?(ee(i,2),m(i,e.update(),4)):i.return();if(i.g!=2)return kt(e)&&(t=e.P,e.m.R(t)),le(i,0);if(n=te(i),!e.i)return i.return();n.severity=1,e.i.onError(n),e.m.R(.1),P(i)})}function kt(e){return e.aa!=bu}function Uu(e,t){e.aa=t,e.j&&e.j.$c(!kt(e)),kt(e)||e.m.stop()}function Rl(e,t,n){if(!e.I)throw new S(2,7,7001);return t=e.i.networkingEngine.request(n,t),Di(e.I,t),t.promise}R("shaka.hls.HlsParser",$r);var K0={aac:"audio/aac",ac3:"audio/ac3",ec3:"audio/ec3",mp3:"audio/mpeg"},_l={mp4:"audio/mp4",mp4a:"audio/mp4",m4s:"audio/mp4",m4i:"audio/mp4",m4a:"audio/mp4",m4f:"audio/mp4",cmfa:"audio/mp4",ts:"video/mp2t",tsa:"video/mp2t"},Dl={mp4:"video/mp4",mp4v:"video/mp4",m4s:"video/mp4",m4i:"video/mp4",m4v:"video/mp4",m4f:"video/mp4",cmfv:"video/mp4",ts:"video/mp2t",tsv:"video/mp2t"},z0={audio:_l,video:Dl,text:{mp4:"application/mp4",m4s:"application/mp4",m4i:"application/mp4",m4f:"application/mp4",cmft:"application/mp4",vtt:"text/vtt",webvtt:"text/vtt",ttml:"application/ttml+xml"},image:{jpg:"image/jpeg",png:"image/png",svg:"image/svg+xml",webp:"image/webp",avif:"image/avif"}},q0={"com.apple.streamingkeydelivery":function(e,t){if(t=="video/mp2t")throw new S(2,4,4040);if(M.shakaMediaKeysPolyfill)throw new S(2,4,4041);return Fn("com.apple.fps",[{initDataType:"sinf",initData:new Uint8Array(0),keyId:null}])},"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":function(e){var t=Oe(e,"METHOD");return["SAMPLE-AES","SAMPLE-AES-CTR"].includes(t)?(t=Oe(e,"URI"),t=Sl(t),t=ue(t.data),t=Fn("com.widevine.alpha",[{initDataType:"cenc",initData:t}]),(e=Z(e,"KEYID"))&&(t.keyIds=new Set([e.toLowerCase().substr(2)])),t):null},"com.microsoft.playready":function(e){var t=Oe(e,"METHOD");return["SAMPLE-AES","SAMPLE-AES-CTR"].includes(t)?(e=Oe(e,"URI"),e=Sl(e),e=ue(e.data),t=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),e=oa(e,t,new Set,0),Fn("com.microsoft.playready",[{initDataType:"cenc",initData:e}])):null},identity:function(e){return e=Oe(e,"METHOD"),["SAMPLE-AES","SAMPLE-AES-CTR"].includes(e)?Fn("org.w3.clearkey",null):null}},bu="VOD",H0="EVENT",Pl="LIVE",VA={ig:bu,ei:H0,gg:Pl};xe("Tizen 3")||xe("Tizen 2")||Ph()||(Zn.m3u8=function(){return new $r},wt["application/x-mpegurl"]=function(){return new $r},wt["application/vnd.apple.mpegurl"]=function(){return new $r});function X0(e,t,n,i,r,o){if(200<=n&&299>=n&&n!=202)return{uri:r||i,originalUri:i,data:t,status:n,headers:e,fromCache:!!e["x-shaka-from-cache"]};r=null;try{r=qn(t)}catch{}throw new S(n==401||n==403?2:1,1,1001,i,n,r,e,o)}function Ol(){}function ju(e,t,n,i,r){var o=new XA;wr(t.headers).forEach(function(l,c){o.append(c,l)});var u=new qA,s={wf:!1,dg:!1};if(e=KA(e,n,{body:t.body||void 0,headers:o,method:t.method,signal:u.signal,credentials:t.allowCrossSiteCredentials?"include":void 0},s,i,r,t.streamDataCallback),e=new Ce(e,function(){return s.wf=!0,u.abort(),Promise.resolve()}),t=t.retryParameters.timeout){var a=new q(function(){s.dg=!0,u.abort()});a.R(t/1e3),e.finally(function(){a.stop()})}return e}function KA(e,t,n,i,r,o,u){var s,a,l,c,f,h,g,v,T,E,y,x,A;return I(function(w){switch(w.g){case 1:return s=zA,a=HA,h=f=0,g=Date.now(),ee(w,2),m(w,s(e,n),4);case 4:if(l=w.h,o(W0(l.headers)),n.method=="HEAD"){w.D(5);break}return v=l.clone().body.getReader(),E=(T=l.headers.get("Content-Length"))?parseInt(T,10):0,y=function(C){function k(){var N,_;return I(function(D){switch(D.g){case 1:return ee(D,2),m(D,v.read(),4);case 4:N=D.h,le(D,3);break;case 2:return te(D),D.return();case 3:if(N.done){D.D(5);break}if(f+=N.value.byteLength,!u){D.D(5);break}return m(D,u(N.value),5);case 5:_=Date.now(),(100<_-g||N.done)&&(r(_-g,f-h,E-f),h=f,g=_),N.done?C.close():(C.enqueue(N.value),k()),P(D)}})}k()},new a({start:y}),m(w,l.arrayBuffer(),6);case 6:c=w.h;case 5:le(w,3);break;case 2:throw x=te(w),i.wf?new S(1,1,7001,e,t):i.dg?new S(1,1,1003,e,t):new S(1,1,1002,e,x,t);case 3:return A=W0(l.headers),w.return(X0(A,c,l.status,e,l.url,t))}})}function W0(e){var t={};return e.forEach(function(n,i){t[i.trim()]=n}),t}function Y0(){if(M.ReadableStream)try{new ReadableStream({})}catch{return!1}else return!1;if(M.Response){if(!new Response("").body)return!1}else return!1;return!(!M.fetch||!M.AbortController)}R("shaka.net.HttpFetchPlugin",Ol),Ol.isSupported=Y0,Ol.parse=ju;var zA=M.fetch,qA=M.AbortController,HA=M.ReadableStream,XA=M.Headers;Y0()&&(hn("http",ju,2,!0),hn("https",ju,2,!0),hn("blob",ju,2,!0));function J0(){}function Fu(e,t,n,i,r){var o=new WA,u=Date.now(),s=0,a=new Promise(function(l,c){o.open(t.method,e,!0),o.responseType="arraybuffer",o.timeout=t.retryParameters.timeout,o.withCredentials=t.allowCrossSiteCredentials,o.onabort=function(){c(new S(1,1,7001,e,n))};var f=!1;o.onreadystatechange=function(){if(o.readyState==2&&!f){var g=Z0(o);r(g),f=!0}},o.onload=function(){var g=Z0(o),v=o.response;try{var T=X0(g,v,o.status,e,o.responseURL,n);l(T)}catch(E){c(E)}},o.onerror=function(g){c(new S(1,1,1002,e,g,n))},o.ontimeout=function(){c(new S(1,1,1003,e,n))},o.onprogress=function(g){var v=Date.now();(100<v-u||g.lengthComputable&&g.loaded==g.total)&&(i(v-u,g.loaded-s,g.total-g.loaded),s=g.loaded,u=v)};for(var h in t.headers)o.setRequestHeader(h.toLowerCase(),t.headers[h]);o.send(t.body)});return new Ce(a,function(){return o.abort(),Promise.resolve()})}function Z0(e){var t=e.getAllResponseHeaders().trim().split(`\r
`);e={},t=p(t);for(var n=t.next();!n.done;n=t.next())n=n.value.split(": "),e[n[0].toLowerCase()]=n.slice(1).join(": ");return e}R("shaka.net.HttpXHRPlugin",J0),J0.parse=Fu;var WA=M.XMLHttpRequest;hn("http",Fu,1,!0),hn("https",Fu,1,!0),hn("blob",Fu,1,!0);function Q0(e,t,n,i){this.g=e,this.i=t,this.groupId=n,this.h=i}function Ul(e){return e.Pa().map(function(t){return"{"+encodeURI(t)+"}"}).join("")+":"+e.Ta+":"+e.Ca}function YA(e,t){return Ra(e.g.Pa(),e.g.Ta,e.g.Ca,t.streaming.retryParameters)}function $0(){this.h=this.j=this.i=0,this.g=new Map,this.l=0}function eg(e,t){e.i+=t;var n=e.l;return e.l++,e.g.set(n,t),n}$0.prototype.close=function(e,t){if(this.g.has(e)){var n=this.g.get(e);this.g.delete(e),this.j+=n,this.h+=t}};function tg(e){var t=this;this.s=e,this.j=new Map,this.i=new Yn(function(){return bl(t).catch(function(){})}),this.h=[],this.m=function(){},this.l=function(){},this.g=new $0}tg.prototype.destroy=function(){return this.i.destroy()};function JA(e,t,n){e.m=t,e.l=n}function bl(e){var t=e.h.map(function(n){return n()});return e.h=[],Promise.all(t)}function ZA(e,t,n,i,r,o){ve(e.i);var u=(e.j.get(t)||Promise.resolve()).then(function(){var s,a,l,c,f,h,g;return I(function(v){if(v.g==1)return m(v,$A(e,n),2);if(s=v.h,e.i.g)throw new S(2,9,7001);if(r)for(c in a=ue(s),l=new Id(a),l.data)f=Number(c),h=l.data[f],g=l.g[f],e.l(h,g);e.g.close(i,s.byteLength);var T=e.g;return e.m(T.i==0?0:T.j/T.i,e.g.h),v.return(o(s))})});e.j.set(t,u)}function QA(e){return I(function(t){return t.g==1?m(t,Promise.all(e.j.values()),2):t.return(e.g.h)})}function $A(e,t){var n,i,r,o;return I(function(u){return u.g==1?(n=Rn,i=e.s.request(n,t),r=function(){return i.abort()},e.h.push(r),m(u,i.promise,2)):(o=u.h,bt(e.h,r),u.return(o.data))})}function Bu(e,t){var n=this;this.i=e,this.h=e.objectStore(t),this.g=new we,e.onabort=function(i){i.preventDefault(),n.g.reject()},e.onerror=function(i){i.preventDefault(),n.g.reject()},e.oncomplete=function(){n.g.resolve()}}Bu.prototype.abort=function(){var e=this;return I(function(t){if(t.g==1){try{e.i.abort()}catch{}return ee(t,2),m(t,e.g,4)}if(t.g!=2)return le(t,0);te(t),P(t)})};function jl(e,t){return new Promise(function(n,i){var r=e.h.openCursor();r.onerror=i,r.onsuccess=function(){var o;return I(function(u){if(u.g==1)return r.result==null?(n(),u.return()):(o=r.result,m(u,t(o.key,o.value,o),2));o.continue(),P(u)})}})}Bu.prototype.store=function(){return this.h},Bu.prototype.promise=function(){return this.g};function Fl(e){this.h=e,this.g=[]}Fl.prototype.destroy=function(){return Promise.all(this.g.map(function(e){return e.abort()}))};function ai(e,t){return Gu(e,t,"readwrite")}function Gu(e,t,n){n=e.h.transaction([t],n);var i=new Bu(n,t);return e.g.push(i),i.promise().then(function(){bt(e.g,i)},function(){bt(e.g,i)}),i}function li(e,t,n){this.h=new Fl(e),this.i=t,this.g=n}d=li.prototype,d.destroy=function(){return this.h.destroy()},d.hasFixedKeySpace=function(){return!0},d.addSegments=function(){return ng(this.i)},d.removeSegments=function(e,t){return ig(this,this.i,e,t)},d.getSegments=function(e){var t=this,n;return I(function(i){return i.g==1?m(i,rg(t,t.i,e),2):(n=i.h,i.return(n.map(function(r){return t.zf(r)})))})},d.addManifests=function(){return ng(this.g)},d.updateManifest=function(){return Promise.reject(new S(2,9,9016,"Cannot modify values in "+this.g))};function eS(e,t,n){e=ai(e.h,e.g);var i=e.store();return i.get(t).onsuccess=function(){i.put(n,t)},e.promise()}d.updateManifestExpiration=function(e,t){var n=ai(this.h,this.g),i=n.store();return i.get(e).onsuccess=function(r){(r=r.target.result)&&(r.expiration=t,i.put(r,e))},n.promise()},d.removeManifests=function(e,t){return ig(this,this.g,e,t)},d.getManifests=function(e){var t=this,n;return I(function(i){return i.g==1?m(i,rg(t,t.g,e),2):(n=i.h,i.return(Promise.all(n.map(function(r){return t.Dc(r)}))))})},d.getAllManifests=function(){var e=this,t,n;return I(function(i){return i.g==1?(t=Gu(e.h,e.g,"readonly"),n=new Map,m(i,jl(t,function(r,o){var u;return I(function(s){if(s.g==1)return m(s,e.Dc(o),2);u=s.h,n.set(r,u),P(s)})}),2)):i.g!=3?m(i,t.promise(),3):i.return(n)})},d.zf=function(e){return e},d.Dc=function(e){return Promise.resolve(e)};function ng(e){return Promise.reject(new S(2,9,9011,"Cannot add new value to "+e))}d.add=function(e,t){var n=this,i,r,o,u,s,a,l;return I(function(c){if(c.g==1){for(i=ai(n.h,e),r=i.store(),o=[],u={},s=p(t),a=s.next();!a.done;u={gd:u.gd},a=s.next())l=a.value,u.gd=r.add(l),u.gd.onsuccess=function(f){return function(){o.push(f.gd.result)}}(u);return m(c,i.promise(),2)}return c.return(o)})};function ig(e,t,n,i){e=ai(e.h,t),t=e.store();var r={};n=p(n);for(var o=n.next();!o.done;r={fd:r.fd},o=n.next())r.fd=o.value,t.delete(r.fd).onsuccess=function(u){return function(){return i(u.fd)}}(r);return e.promise()}function rg(e,t,n){var i,r,o,u,s,a,l;return I(function(c){if(c.g==1){for(i=Gu(e.h,t,"readonly"),r=i.store(),o={},u=[],s={},a=p(n),l=a.next();!l.done;s={zc:s.zc,wc:s.wc},l=a.next())s.wc=l.value,s.zc=r.get(s.wc),s.zc.onsuccess=function(f){return function(){f.zc.result==null&&u.push(f.wc),o[f.wc]=f.zc.result}}(s);return m(c,i.promise(),2)}if(u.length)throw new S(2,9,9012,"Could not find values for "+u);return c.return(n.map(function(f){return o[f]}))})}function eo(e){this.g=new Fl(e)}eo.prototype.destroy=function(){return this.g.destroy()},eo.prototype.getAll=function(){var e=this,t,n;return I(function(i){return i.g==1?(t=Gu(e.g,"session-ids","readonly"),n=[],m(i,jl(t,function(r,o){n.push(o)}),2)):i.g!=3?m(i,t.promise(),3):i.return(n)})},eo.prototype.add=function(e){var t=ai(this.g,"session-ids"),n=t.store();e=p(e);for(var i=e.next();!i.done;i=e.next())n.add(i.value);return t.promise()},eo.prototype.remove=function(e){var t=this,n;return I(function(i){return i.g==1?(n=ai(t.g,"session-ids"),m(i,jl(n,function(r,o,u){e.includes(o.sessionId)&&u.delete()}),2)):m(i,n.promise(),0)})};function it(){this.g=new Map}it.prototype.destroy=function(){for(var e=[],t=p(this.g.values()),n=t.next();!n.done;n=t.next())e.push(n.value.destroy());return this.g.clear(),Promise.all(e)},it.prototype.init=function(){var e=this;to.forEach(function(r,o){(r=r())&&e.g.set(o,r)});for(var t=[],n=p(this.g.values()),i=n.next();!i.done;i=n.next())t.push(i.value.init());return Promise.all(t)};function og(e){var t=null;if(e.g.forEach(function(n,i){n.getCells().forEach(function(r,o){r.hasFixedKeySpace()||t||(t={path:{Ra:i,Ba:o},Ba:r})})}),t)return t;throw new S(2,9,9013,"Could not find a cell that supports add-operations")}function tS(e,t){e.g.forEach(function(n,i){n.getCells().forEach(function(r,o){t({Ra:i,Ba:o},r)})})}function Vu(e,t,n){if(e=e.g.get(t),!e)throw new S(2,9,9013,"Could not find mechanism with name "+t);if(t=e.getCells().get(n),!t)throw new S(2,9,9013,"Could not find cell with name "+n);return t}function nS(e,t){e.g.forEach(function(n){t(n.getEmeSessionCell())})}function iS(e){var t=Array.from(e.g.keys());if(!t.length)throw new S(2,9,9e3,"No supported storage mechanisms found");return e.g.get(t[0]).getEmeSessionCell()}function rS(e){var t,n,i;return I(function(r){return r.g==1?(t=Array.from(e.g.values()),n=0<t.length,n||(i=to,i.forEach(function(o){(o=o())&&t.push(o)})),m(r,Promise.all(t.map(function(o){return o.erase()})),2)):n?r.D(0):m(r,Promise.all(t.map(function(o){return o.destroy()})),0)})}function ug(e,t){to.set(e,t)}R("shaka.offline.StorageMuxer",it),it.unregister=function(e){to.delete(e)},it.register=ug,it.prototype.destroy=it.prototype.destroy;var to=new Map;function no(){li.apply(this,arguments)}K(no,li),no.prototype.updateManifestExpiration=function(e,t){var n=this,i,r,o;return I(function(u){return i=ai(n.h,n.g),r=i.store(),o=new we,r.get(e).onsuccess=function(s){(s=s.target.result)?(s.expiration=t,r.put(s),o.resolve()):o.reject(new S(2,9,9012,"Could not find values for "+e))},m(u,Promise.all([i.promise(),o]),0)})},no.prototype.Dc=function(e){var t,n,i,r,o,u;return I(function(s){if(s.g==1){for(t=[],n=0;n<e.periods.length;++n)i=n==e.periods.length-1?e.duration:e.periods[n+1].startTime,r=i-e.periods[n].startTime,o=oS(e.periods[n],r),t.push(o);return m(s,c0(t),2)}return u=s.h,s.return({creationTime:0,originalManifestUri:e.originalManifestUri,duration:e.duration,size:e.size,expiration:e.expiration==null?1/0:e.expiration,streams:u,sessionIds:e.sessionIds,drmInfo:e.drmInfo,appMetadata:e.appMetadata,sequenceMode:!1})})};function oS(e,t){sS(e);for(var n=p(e.streams),i=n.next();!i.done;i=n.next());return e.streams.map(function(r){return uS(r,e.startTime,t)})}function uS(e,t,n){var i=e.initSegmentUri?sg(e.initSegmentUri):null,r=t+e.presentationTimeOffset,o=t+n;return{id:e.id,originalId:null,primary:e.primary,type:e.contentType,mimeType:e.mimeType,codecs:e.codecs,frameRate:e.frameRate,pixelAspectRatio:void 0,hdr:void 0,kind:e.kind,language:e.language,label:e.label,width:e.width,height:e.height,initSegmentKey:i,encrypted:e.encrypted,keyIds:new Set([e.keyId]),segments:e.segments.map(function(u){var s=sg(u.uri);return{startTime:t+u.startTime,endTime:t+u.endTime,dataKey:s,initSegmentKey:i,appendWindowStart:t,appendWindowEnd:o,timestampOffset:r,tilesLayout:""}}),variantIds:e.variantIds,roles:[],forced:!1,audioSamplingRate:null,channelsCount:null,spatialAudio:!1,closedCaptions:null,tilesLayout:void 0}}no.prototype.zf=function(e){return{data:e.data}};function sg(e){var t;if((t=/^offline:[0-9]+\/[0-9]+\/([0-9]+)$/.exec(e))||(t=/^offline:segment\/([0-9]+)$/.exec(e)))return Number(t[1]);throw new S(2,9,9004,"Could not parse uri "+e)}function sS(e){var t=e.streams.filter(function(s){return s.contentType=="audio"});if(e=e.streams.filter(function(s){return s.contentType=="video"}),!t.every(function(s){return s.variantIds})||!e.every(function(s){return s.variantIds})){for(var n=p(t),i=n.next();!i.done;i=n.next())i.value.variantIds=[];for(n=p(e),i=n.next();!i.done;i=n.next())i.value.variantIds=[];if(n=0,e.length&&!t.length){var r=n++,o=p(e);for(i=o.next();!i.done;i=o.next())i.value.variantIds.push(r)}if(!e.length&&t.length)for(r=n++,o=p(t),i=o.next();!i.done;i=o.next())i.value.variantIds.push(r);if(e.length&&t.length)for(t=p(t),i=t.next();!i.done;i=t.next())for(i=i.value,r=p(e),o=r.next();!o.done;o=r.next()){o=o.value;var u=n++;i.variantIds.push(u),o.variantIds.push(u)}}}function Ku(){li.apply(this,arguments)}K(Ku,li),Ku.prototype.Dc=function(e){var t,n,i,r,o,u;return I(function(s){if(s.g==1){for(t=[],n=0;n<e.periods.length;++n){i=n==e.periods.length-1?e.duration:e.periods[n+1].startTime,r=i-e.periods[n].startTime;for(var a=e.periods[n],l=[],c=p(a.streams),f=c.next();!f.done;f=c.next())f=f.value,f.variantIds.length!=0&&l.push(aS(f,a.startTime,a.startTime+r));o=l,t.push(o)}return m(s,c0(t),2)}return u=s.h,s.return({appMetadata:e.appMetadata,creationTime:0,drmInfo:e.drmInfo,duration:e.duration,expiration:e.expiration==null?1/0:e.expiration,originalManifestUri:e.originalManifestUri,sessionIds:e.sessionIds,size:e.size,streams:u,sequenceMode:!1})})};function aS(e,t,n){return{id:e.id,originalId:e.originalId,primary:e.primary,type:e.contentType,mimeType:e.mimeType,codecs:e.codecs,frameRate:e.frameRate,pixelAspectRatio:e.pixelAspectRatio,hdr:void 0,kind:e.kind,language:e.language,label:e.label,width:e.width,height:e.height,encrypted:e.encrypted,keyIds:new Set([e.keyId]),segments:e.segments.map(function(i){return{startTime:t+i.startTime,endTime:t+i.endTime,initSegmentKey:e.initSegmentKey,appendWindowStart:t,appendWindowEnd:n,timestampOffset:t-e.presentationTimeOffset,dataKey:i.dataKey,tilesLayout:""}}),variantIds:e.variantIds,roles:[],forced:!1,audioSamplingRate:null,channelsCount:null,spatialAudio:!1,closedCaptions:null,tilesLayout:void 0}}function Bl(){li.apply(this,arguments)}K(Bl,li),d=Bl.prototype,d.hasFixedKeySpace=function(){return!1},d.addSegments=function(e){return this.add(this.i,e)},d.addManifests=function(e){return this.add(this.g,e)},d.updateManifest=function(e,t){return eS(this,e,t)},d.Dc=function(e){return e.expiration==null&&(e.expiration=1/0),Promise.resolve(e)};function ag(){this.m=this.j=this.i=this.h=this.g=this.l=null}d=ag.prototype,d.init=function(){var e=this,t=new we,n=!1,i=new q(function(){n=!0,t.reject(new S(2,9,9017))});i.R(5);var r=M.indexedDB.open("shaka_offline_db",5);return r.onsuccess=function(){if(!n){var o=r.result;e.l=o;var u=o.objectStoreNames;u=u.contains("manifest")&&u.contains("segment")?new no(o,"segment","manifest"):null,e.g=u,u=o.objectStoreNames,u=u.contains("manifest-v2")&&u.contains("segment-v2")?new Ku(o,"segment-v2","manifest-v2"):null,e.h=u,u=o.objectStoreNames,u=u.contains("manifest-v3")&&u.contains("segment-v3")?new Ku(o,"segment-v3","manifest-v3"):null,e.i=u,u=o.objectStoreNames,u=u.contains("manifest-v5")&&u.contains("segment-v5")?new Bl(o,"segment-v5","manifest-v5"):null,e.j=u,o=o.objectStoreNames.contains("session-ids")?new eo(o):null,e.m=o,i.stop(),t.resolve()}},r.onupgradeneeded=function(){for(var o=r.result,u=p(["segment-v5","manifest-v5","session-ids"]),s=u.next();!s.done;s=u.next())s=s.value,o.objectStoreNames.contains(s)||o.createObjectStore(s,{autoIncrement:!0})},r.onerror=function(o){n||(t.reject(new S(2,9,9001,r.error)),i.stop(),o.preventDefault())},t},d.destroy=function(){var e=this;return I(function(t){switch(t.g){case 1:if(!e.g){t.D(2);break}return m(t,e.g.destroy(),2);case 2:if(!e.h){t.D(4);break}return m(t,e.h.destroy(),4);case 4:if(!e.i){t.D(6);break}return m(t,e.i.destroy(),6);case 6:if(!e.j){t.D(8);break}return m(t,e.j.destroy(),8);case 8:if(!e.m){t.D(10);break}return m(t,e.m.destroy(),10);case 10:e.l&&e.l.close(),P(t)}})},d.getCells=function(){var e=new Map;return this.g&&e.set("v1",this.g),this.h&&e.set("v2",this.h),this.i&&e.set("v3",this.i),this.j&&e.set("v5",this.j),e},d.getEmeSessionCell=function(){return this.m},d.erase=function(){var e=this;return I(function(t){switch(t.g){case 1:if(!e.g){t.D(2);break}return m(t,e.g.destroy(),2);case 2:if(!e.h){t.D(4);break}return m(t,e.h.destroy(),4);case 4:if(!e.i){t.D(6);break}return m(t,e.i.destroy(),6);case 6:if(!e.j){t.D(8);break}return m(t,e.j.destroy(),8);case 8:return e.l&&e.l.close(),m(t,lS(),10);case 10:return e.l=null,e.g=null,e.h=null,e.i=null,e.j=null,m(t,e.init(),0)}})};function lS(){var e=new we,t=M.indexedDB.deleteDatabase("shaka_offline_db");return t.onblocked=function(){},t.onsuccess=function(){e.resolve()},t.onerror=function(n){e.reject(new S(2,9,9001,t.error)),n.preventDefault()},e}ug("idb",function(){return xe("CrKey")||gr()||!M.indexedDB?null:new ag});function rn(e,t,n,i){this.g=e,this.i=t,this.h=n,this.l=i,this.j=["offline:",e,"/",t,"/",n,"/",i].join("")}rn.prototype.Ra=function(){return this.i},rn.prototype.Ba=function(){return this.h},rn.prototype.key=function(){return this.l},rn.prototype.toString=function(){return this.j};function Gl(e){if(e=/^offline:([a-z]+)\/([^/]+)\/([^/]+)\/([0-9]+)$/.exec(e),e==null)return null;var t=e[1];if(t!="manifest"&&t!="segment")return null;var n=e[2];if(!n)return null;var i=e[3];return i&&t!=null?new rn(t,n,i,Number(e[4])):null}function lg(e,t){this.h=e,this.g=t}function cg(e,t){var n=new H(null,0);n.Sa(t.duration);var i=t.streams.filter(function(l){return l.type=="audio"}),r=t.streams.filter(function(l){return l.type=="video"});i=cS(e,i,r,n),r=t.streams.filter(function(l){return l.type==fe}).map(function(l){return zu(e,l,n)});var o=t.streams.filter(function(l){return l.type=="image"}).map(function(l){return zu(e,l,n)}),u=t.drmInfo?[t.drmInfo]:[];if(t.drmInfo)for(var s=p(i.values()),a=s.next();!a.done;a=s.next())a=a.value,a.audio&&a.audio.encrypted&&(a.audio.drmInfos=u),a.video&&a.video.encrypted&&(a.video.drmInfos=u);return{presentationTimeline:n,minBufferTime:2,offlineSessionIds:t.sessionIds,variants:Array.from(i.values()),textStreams:r,imageStreams:o,sequenceMode:t.sequenceMode||!1}}function cS(e,t,n,i){for(var r=new Set,o=p(t),u=o.next();!u.done;u=o.next()){var s=p(u.value.variantIds);for(u=s.next();!u.done;u=s.next())r.add(u.value)}for(o=p(n),u=o.next();!u.done;u=o.next())for(s=p(u.value.variantIds),u=s.next();!u.done;u=s.next())r.add(u.value);for(o=new Map,r=p(r),u=r.next();!u.done;u=r.next())u=u.value,o.set(u,{id:u,language:"",disabledUntilTime:0,primary:!1,audio:null,video:null,bandwidth:0,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]});for(t=p(t),r=t.next();!r.done;r=t.next())for(r=r.value,u=zu(e,r,i),s=p(r.variantIds),r=s.next();!r.done;r=s.next())r=o.get(r.value),r.language=u.language,r.primary=r.primary||u.primary,r.audio=u;for(n=p(n),t=n.next();!t.done;t=n.next())for(r=t.value,t=zu(e,r,i),u=p(r.variantIds),r=u.next();!r.done;r=u.next())r=o.get(r.value),r.primary=r.primary||t.primary,r.video=t;return o}function zu(e,t,n){var i=t.segments.map(function(r){return hS(e,r)});return n.lc(i),{id:t.id,originalId:t.originalId,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new he(i),mimeType:t.mimeType,codecs:t.codecs,width:t.width||void 0,height:t.height||void 0,frameRate:t.frameRate,pixelAspectRatio:t.pixelAspectRatio,hdr:t.hdr,kind:t.kind,encrypted:t.encrypted,drmInfos:[],keyIds:t.keyIds,language:t.language,label:t.label,type:t.type,primary:t.primary,trickModeVideo:null,emsgSchemeIdUris:null,roles:t.roles,forced:t.forced,channelsCount:t.channelsCount,audioSamplingRate:t.audioSamplingRate,spatialAudio:t.spatialAudio,closedCaptions:t.closedCaptions,tilesLayout:t.tilesLayout}}function hS(e,t){var n=new rn("segment",e.h,e.g,t.dataKey);return new ae(t.startTime,t.endTime,function(){return[n.toString()]},0,null,t.initSegmentKey!=null?dS(e,t.initSegmentKey):null,t.timestampOffset,t.appendWindowStart,t.appendWindowEnd,[],t.tilesLayout||"")}function dS(e,t){var n=new rn("segment",e.h,e.g,t);return new It(function(){return[n.toString()]},0,null)}function hg(){this.g=null}d=hg.prototype,d.configure=function(){},d.start=function(e,t){var n=this,i,r,o,u,s,a,l;return I(function(c){switch(c.g){case 1:if(i=Gl(e),n.g=i,i==null||i.g!="manifest")throw new S(2,1,9004,e);return r=new it,vi(c),m(c,r.init(),4);case 4:return m(c,Vu(r,i.Ra(),i.Ba()),5);case 5:return o=c.h,m(c,o.getManifests([i.key()]),6);case 6:return u=c.h,s=u[0],a=new lg(i.Ra(),i.Ba()),l=cg(a,s),t.makeTextStreamsForClosedCaptions(l),c.return(l);case 2:return In(c),m(c,r.destroy(),7);case 7:xn(c,0)}})},d.stop=function(){return Promise.resolve()},d.update=function(){},d.onExpirationUpdated=function(e,t){var n=this,i,r,o,u,s,a,l;return I(function(c){switch(c.g){case 1:return i=n.g,r=new it,ee(c,2,3),m(c,r.init(),5);case 5:return m(c,Vu(r,i.Ra(),i.Ba()),6);case 6:return o=c.h,m(c,o.getManifests([i.key()]),7);case 7:if(u=c.h,s=u[0],a=s.sessionIds.includes(e),l=s.expiration==null||s.expiration>t,!a||!l){c.D(3);break}return m(c,o.updateManifestExpiration(i.key(),t),3);case 3:return In(c),m(c,r.destroy(),10);case 10:xn(c,0);break;case 2:te(c),c.D(3)}})},wt["application/x-offline-manifest"]=function(){return new hg};function dg(){}function fg(e){var t=Gl(e);return t&&t.g=="manifest"?(e={uri:e,originalUri:e,data:new ArrayBuffer(0),headers:{"content-type":"application/x-offline-manifest"}},e=Ri(e)):e=t&&t.g=="segment"?fS(t.key(),t):Wn(new S(2,1,9004,e)),e}function fS(e,t){var n=new it;return Ri(void 0).ia(function(){return n.init()}).ia(function(){return Vu(n,t.Ra(),t.Ba())}).ia(function(i){return i.getSegments([t.key()])}).ia(function(i){return{uri:t,data:i[0].data,headers:{}}}).finally(function(){return n.destroy()})}R("shaka.offline.OfflineScheme",dg),dg.plugin=fg,hn("offline",fg);function pg(e,t,n){var i,r,o,u,s,a;return I(function(l){switch(l.g){case 1:i=[];for(var c=[],f=p(n),h=f.next();!h.done;h=f.next()){h=h.value;for(var g=!1,v=p(c),T=v.next();!T.done;T=v.next())if(T=T.value,gS(T.info,h)){T.sessionIds.push(h.sessionId),g=!0;break}g||c.push({info:h,sessionIds:[h.sessionId]})}r=p(c),o=r.next();case 2:if(o.done){l.D(4);break}return u=o.value,s=pS(e,t,u),m(l,s,5);case 5:a=l.h,i=i.concat(a),o=r.next(),l.D(2);break;case 4:return l.return(i)}})}function pS(e,t,n){var i,r;return I(function(o){switch(o.g){case 1:return i=new Ko({Ob:t,onError:function(){},Fd:function(){},onExpirationUpdated:function(){},onEvent:function(){}}),ee(o,2),i.configure(e),m(o,Uy(i,n.info.keySystem,n.info.licenseUri,n.info.serverCertificate,n.info.audioCapabilities,n.info.videoCapabilities),4);case 4:le(o,3);break;case 2:return te(o),m(o,i.destroy(),5);case 5:return o.return([]);case 3:return ee(o,6),m(o,ua(i),8);case 8:le(o,7);break;case 6:return te(o),m(o,i.destroy(),9);case 9:return o.return([]);case 7:return r=[],m(o,Promise.all(n.sessionIds.map(function(u){return I(function(s){if(s.g==1)return ee(s,2),m(s,jy(i,u),4);if(s.g!=2)return r.push(u),le(s,0);te(s),P(s)})})),10);case 10:return m(o,i.destroy(),11);case 11:return o.return(r)}})}function gS(e,t){function n(i,r){return i.robustness==r.robustness&&i.contentType==r.contentType}return e.keySystem==t.keySystem&&e.licenseUri==t.licenseUri&&cr(e.audioCapabilities,t.audioCapabilities,n)&&cr(e.videoCapabilities,t.videoCapabilities,n)}function mS(e,t,n){var i=t.presentationTimeline.getDuration();return t=gg(t),{offlineUri:null,originalManifestUri:e,duration:i,size:0,expiration:1/0,tracks:t,appMetadata:n,isIncomplete:!1}}function Vl(e,t){var n=cg(new lg(e.Ra(),e.Ba()),t),i=t.appMetadata||{};return n=gg(n),{offlineUri:e.toString(),originalManifestUri:t.originalManifestUri,duration:t.duration,size:t.size,expiration:t.expiration,tracks:n,appMetadata:i,isIncomplete:t.isIncomplete||!1}}function gg(e){var t=[],n=cy(e.variants);n=p(n);for(var i=n.next();!i.done;i=n.next())t.push(Xn(i.value));for(e=p(e.textStreams),n=e.next();!n.done;n=e.next())t.push(Lo(n.value));return t}function vS(){this.g={}}function yS(e,t){var n=t.audio,i=t.video;if(n&&!i&&(e.g[n.id]=n.bandwidth||t.bandwidth),!n&&i&&(e.g[i.id]=i.bandwidth||t.bandwidth),n&&i){var r=n.bandwidth||393216,o=i.bandwidth||t.bandwidth-r;0>=o&&(o=t.bandwidth),e.g[n.id]=r,e.g[i.id]=o}}function ES(e,t){e.g[t.id]=t.bandwidth||2048}function mg(e,t){return e=e.g[t],e==null&&(e=0),e}function Ge(e){var t=this;if(e&&e.constructor!=L)throw new S(2,9,9008);this.g=this.h=null,e?(this.h=e.h,this.g=e.Hc()):(this.h=Gi(),this.g=new Te),this.i=[],this.j=[];var n=!e;this.l=new Yn(function(){var i,r,o,u,s;return I(function(a){switch(a.g){case 1:return m(a,Promise.all(t.j.map(function(l){return bl(l)})),2);case 2:for(i=function(){},r=[],o=p(t.i),u=o.next();!u.done;u=o.next())s=u.value,r.push(s.then(i,i));return m(a,Promise.all(r),3);case 3:if(!n){a.D(4);break}return m(a,t.g.destroy(),4);case 4:t.h=null,t.g=null,P(a)}})})}function Kl(){if(jt())e:{for(var e=p(to.values()),t=e.next();!t.done;t=e.next())if(t=t.value,t=t()){t.destroy(),e=!0;break e}e=!1}else e=!1;return e}d=Ge.prototype,d.destroy=function(){return this.l.destroy()},d.configure=function(e,t){return arguments.length==2&&typeof e=="string"&&(e=cu(e,t)),Vi(this.h,e)},d.getConfiguration=function(){var e=Gi();return Vi(e,this.h,Gi()),e},d.Hc=function(){return this.g},d.store=function(e,t,n){var i=this,r=this.getConfiguration(),o=new tg(this.g);return this.j.push(o),t=TS(this,e,t||{},function(){var u;return I(function(s){return s.g==1?m(s,Gd(e,i.g,r.manifest.retryParameters,n||null),2):(u=s.h,s.return(u()))})},r,o),t=new Ce(t,function(){return bl(o)}),t.finally(function(){bt(i.j,o)}),OS(this,t)};function TS(e,t,n,i,r,o){var u,s,a,l,c,f,h,g,v,T,E,y,x,A;return I(function(w){switch(w.g){case 1:return qu(),s=u=null,a=new it,f=c=l=null,ee(w,2,3),m(w,i(),5);case 5:return u=w.h,m(w,NS(e,t,u,r),6);case 6:if(h=w.h,Ye(e),g=!h.presentationTimeline.U()&&!h.presentationTimeline.Lb(),!g)throw new S(2,9,9005,t);return m(w,RS(e,h,function(C){f=f||C},r),7);case 7:if(s=w.h,Ye(e),f)throw f;return m(w,SS(h,r),8);case 8:return m(w,a.init(),9);case 9:return Ye(e),m(w,og(a),10);case 10:return l=w.h,Ye(e),v=wS(s,h,t,n,r,o),T=v.ih,E=v.We,m(w,l.Ba.addManifests([T]),11);case 11:if(y=w.h,Ye(e),c=y[0],Ye(e),f)throw f;return m(w,AS(e,E,c,T,o,r,l.Ba,h,s),12);case 12:return Ye(e),x=new rn("manifest",l.path.Ra,l.path.Ba,c),w.return(Vl(x,T));case 3:return In(w),m(w,a.destroy(),13);case 13:if(!u){w.D(14);break}return m(w,u.stop(),14);case 14:if(!s){w.D(16);break}return m(w,s.destroy(),16);case 16:xn(w,0);break;case 2:if(A=te(w),c==null){w.D(18);break}return m(w,vg(c),18);case 18:throw f||A}})}function AS(e,t,n,i,r,o,u,s,a){var l,c,f,h,g,v,T,E,y,x;return I(function(A){switch(A.g){case 1:if(l={},c=0,f=function(w,C){var k,N,_,D,V,X,W;return I(function(re){if(re.g==1){for(k={},N=p(w),_=N.next();!_.done;k={Fb:k.Fb},_=N.next())k.Fb=_.value,D=YA(k.Fb,o),V=k.Fb.i,X=k.Fb.h,W=function(B){return function(Re){var Ue,me,ut;return I(function(Rt){if(Rt.g==1)return m(Rt,u.addSegments([{data:Re}]),2);Ue=Rt.h,Ye(e),me=B.Fb.g,ut=Ul(me),l[ut]=Ue[0],c+=Re.byteLength,P(Rt)})}}(k),ZA(r,k.Fb.groupId,D,V,X,W);return m(re,QA(r),2)}return C?(Ye(e),IS(s,i,a,o),m(re,u.updateManifest(n,i),0)):re.D(0)})},h=!1,ee(A,2),!zl(s)||!h||Eg(s)){A.D(4);break}return m(A,f(t.filter(function(w){return w.h}),!0),5);case 5:return Ye(e),t=t.filter(function(w){return!w.h}),g=l,v=c,l={},c=0,m(A,yg(u,n,i,g,v,function(){return Ye(e)}),6);case 6:Ye(e);case 4:if(h){A.D(7);break}return m(A,f(t,!1),8);case 8:return Ye(e),T=l,E=c,l={},c=0,m(A,yg(u,n,i,T,E,function(){return Ye(e)}),9);case 9:Ye(e);case 7:le(A,0);break;case 2:return y=te(A),x=Object.values(l),m(A,u.removeSegments(x,function(){}),10);case 10:throw y}})}function vg(e){var t,n,i,r;return I(function(o){switch(o.g){case 1:return t=new it,m(o,t.init(),2);case 2:return m(o,og(t),3);case 3:return n=o.h,i=new rn("manifest",n.path.Ra,n.path.Ba,e),m(o,t.destroy(),4);case 4:return r=new Ge,m(o,r.remove(i.toString()),0)}})}function yg(e,t,n,i,r,o){var u,s,a,l,c,f,h,g,v,T,E;return I(function(y){switch(y.g){case 1:for(u=!1,ee(y,2),s=!0,a=p(n.streams),l=a.next();!l.done;l=a.next())for(c=l.value,f=p(c.segments),h=f.next();!h.done;h=f.next())g=h.value,v=g.pendingSegmentRefId?i[g.pendingSegmentRefId]:null,v!=null&&(g.dataKey=v,g.pendingSegmentRefId=void 0),v=g.pendingInitSegmentRefId?i[g.pendingInitSegmentRefId]:null,v!=null&&(g.initSegmentKey=v,g.pendingInitSegmentRefId=void 0),g.pendingSegmentRefId&&(s=!1),g.pendingInitSegmentRefId&&(s=!1);return n.size+=r,s&&(n.isIncomplete=!1),m(y,e.updateManifest(t,n),4);case 4:u=!0,o(),le(y,0);break;case 2:return T=te(y),m(y,vg(t),5);case 5:if(u){y.D(6);break}return E=Object.values(i),m(y,e.removeSegments(E,function(){}),6);case 6:throw T}})}function SS(e,t){var n,i,r,o,u,s,a,l,c,f,h,g,v,T,E,y,x,A,w,C,k,N,_,D,V,X,W,re,B;return I(function(Re){switch(Re.g){case 1:return n={width:1/0,height:1/0},ry(e,t.restrictions,n),m(Re,Wh(e,t.offline.usePersistentLicense),2);case 2:for(i=[],r=t.preferredAudioChannelCount,o=t.preferredDecodingAttributes,u=t.preferredVideoCodecs,s=t.preferredAudioCodecs,Hh(e,u,s,r,o),a=p(e.variants),l=a.next();!l.done;l=a.next())c=l.value,i.push(Xn(c));for(f=p(e.textStreams),h=f.next();!h.done;h=f.next())g=h.value,i.push(Lo(g));for(v=p(e.imageStreams),T=v.next();!T.done;T=v.next())E=T.value,i.push(Zs(E));return m(Re,t.offline.trackSelectionCallback(i),3);case 3:for(y=Re.h,x=e.presentationTimeline.getDuration(),A=0,w=p(y),C=w.next();!C.done;C=w.next())k=C.value,N=k.bandwidth*x/8,A+=N;return ee(Re,4),m(Re,t.offline.downloadSizeCallback(A),6);case 6:if(_=Re.h,!_)throw new S(2,9,9014);le(Re,5);break;case 4:throw D=te(Re),D instanceof S?D:new S(2,9,9015);case 5:for(V=new Set,X=new Set,W=new Set,re=p(y),C=re.next();!C.done;C=re.next())B=C.value,B.type=="variant"&&V.add(B.id),B.type=="text"&&X.add(B.id),B.type=="image"&&W.add(B.id);e.variants=e.variants.filter(function(Ue){return V.has(Ue.id)}),e.textStreams=e.textStreams.filter(function(Ue){return X.has(Ue.id)}),e.imageStreams=e.imageStreams.filter(function(Ue){return W.has(Ue.id)}),jS(e),P(Re)}})}function wS(e,t,n,i,r,o){var u=mS(n,t,i),s=r.offline.progressCallback;JA(o,function(g,v){u.size=v,s(u,g)},function(g,v){a&&r.offline.usePersistentLicense&&l==v&&kr(e,"cenc",g)});var a=zl(t)&&!Eg(t),l=null;a&&(l=FS.get(e.g.keySystem));for(var c=new vS,f=p(t.textStreams),h=f.next();!h.done;h=f.next())c.g[h.value.id]=52;for(f=p(t.imageStreams),h=f.next();!h.done;h=f.next())ES(c,h.value);for(h=p(t.variants),f=h.next();!f.done;f=h.next())yS(c,f.value);return c=_S(o,c,t,r),o=c.streams,c=c.We,h=e.g,f=r.offline.usePersistentLicense,h&&f&&(h.initData=[]),{ih:{creationTime:Date.now(),originalManifestUri:n,duration:t.presentationTimeline.getDuration(),size:0,expiration:e.Gc(),streams:o,sessionIds:f?Pd(e):[],drmInfo:h,appMetadata:i,isIncomplete:!0,sequenceMode:t.sequenceMode},We:c}}function zl(e){return e.variants.some(function(t){var n=t.audio&&t.audio.encrypted;return t.video&&t.video.encrypted||n})}function Eg(e){return e.variants.some(function(t){return(t.video?t.video.drmInfos:[]).concat(t.audio?t.audio.drmInfos:[]).some(function(n){return n.initData&&n.initData.length})})}function IS(e,t,n,i){if(t.expiration=n.Gc(),n=Pd(n),t.sessionIds=i.offline.usePersistentLicense?n:[],zl(e)&&i.offline.usePersistentLicense&&!n.length)throw new S(2,9,9007)}d.remove=function(e){return ql(this,xS(this,e))};function xS(e,t){var n,i,r,o,u,s;return I(function(a){switch(a.g){case 1:if(qu(),n=Gl(t),n==null||n.g!="manifest")throw new S(2,9,9004,t);return i=n,r=new it,vi(a),m(a,r.init(),4);case 4:return m(a,Vu(r,i.Ra(),i.Ba()),5);case 5:return o=a.h,m(a,o.getManifests([i.key()]),6);case 6:return u=a.h,s=u[0],m(a,Promise.all([CS(e,s,r),MS(o,i,s)]),2);case 2:return In(a),m(a,r.destroy(),8);case 8:xn(a,0)}})}function Tg(e,t){for(var n=[],i=p(e.streams),r=i.next();!r.done;r=i.next())r=r.value,t&&r.type=="video"?n.push({contentType:Qt(r.mimeType,r.codecs),robustness:e.drmInfo.videoRobustness}):t||r.type!="audio"||n.push({contentType:Qt(r.mimeType,r.codecs),robustness:e.drmInfo.audioRobustness});return n}function CS(e,t,n){return I(function(i){return m(i,bS(e.g,e.h.drm,n,t),0)})}function MS(e,t,n){function i(){}var r=US(n);return Vl(t,n),Promise.all([e.removeSegments(r,i),e.removeManifests([t.key()],i)])}d.yh=function(){return ql(this,kS(this))};function kS(e){var t,n,i,r,o,u,s,a,l,c;return I(function(f){switch(f.g){case 1:return qu(),t=e.g,n=e.h.drm,i=new it,r=!1,vi(f),m(f,i.init(),4);case 4:o=[],nS(i,function(h){return o.push(h)}),u=p(o),s=u.next();case 5:if(s.done){f.D(2);break}return a=s.value,m(f,a.getAll(),8);case 8:return l=f.h,m(f,pg(n,t,l),9);case 9:return c=f.h,m(f,a.remove(c),10);case 10:c.length!=l.length&&(r=!0),s=u.next(),f.D(5);break;case 2:return In(f),m(f,i.destroy(),11);case 11:xn(f,3);break;case 3:return f.return(!r)}})}d.list=function(){return ql(this,LS())};function LS(){var e,t,n;return I(function(i){switch(i.g){case 1:return qu(),e=[],t=new it,vi(i),m(i,t.init(),4);case 4:return n=Promise.resolve(),tS(t,function(r,o){n=n.then(function(){var u;return I(function(s){if(s.g==1)return m(s,o.getAllManifests(),2);u=s.h,u.forEach(function(a,l){a=Vl(new rn("manifest",r.Ra,r.Ba,l),a),e.push(a)}),P(s)})})}),m(i,n,2);case 2:return In(i),m(i,t.destroy(),6);case 6:xn(i,3);break;case 3:return i.return(e)}})}function NS(e,t,n,i){var r,o,u,s,a;return I(function(l){if(l.g==1)return r=null,o=e.g,u={networkingEngine:o,modifyManifestRequest:function(){},modifySegmentRequest:function(){},filter:function(){return Promise.resolve()},makeTextStreamsForClosedCaptions:function(){},onTimelineRegionAdded:function(){},onEvent:function(){},onError:function(c){r=c},isLowLatencyMode:function(){return!1},isAutoLowLatencyMode:function(){return!1},enableLowLatencyMode:function(){},updateDuration:function(){},newDrmInfo:function(){}},n.configure(i.manifest),Ye(e),m(l,n.start(t,u),2);if(l.g!=3)return s=l.h,Ye(e),a=Ag(s),m(l,Promise.all(vh(a,function(c){return c.createSegmentIndex()})),3);if(Ye(e),r)throw r;return l.return(s)})}function RS(e,t,n,i){var r;return I(function(o){switch(o.g){case 1:return r=new Ko({Ob:e.g,onError:n,Fd:function(){},onExpirationUpdated:function(){},onEvent:function(){}}),r.configure(i.drm),m(o,Oy(r,t.variants,i.offline.usePersistentLicense),2);case 2:return m(o,ua(r),3);case 3:return m(o,_d(r),4);case 4:return o.return(r)}})}function _S(e,t,n,i){var r=new Map,o=Ag(n),u=new Map;o=p(o);for(var s=o.next();!s.done;s=o.next()){s=s.value;var a=DS(e,t,n,s,i,r);u.set(s.id,a)}for(e=p(n.variants),t=e.next();!t.done;t=e.next())t=t.value,t.audio&&u.get(t.audio.id).variantIds.push(t.id),t.video&&u.get(t.video.id).variantIds.push(t.id);return{streams:Array.from(u.values()),We:Array.from(r.values())}}function DS(e,t,n,i,r,o){var u={id:i.id,originalId:i.originalId,primary:i.primary,type:i.type,mimeType:i.mimeType,codecs:i.codecs,frameRate:i.frameRate,pixelAspectRatio:i.pixelAspectRatio,hdr:i.hdr,kind:i.kind,language:i.language,label:i.label,width:i.width||null,height:i.height||null,encrypted:i.encrypted,keyIds:i.keyIds,segments:[],variantIds:[],roles:i.roles,forced:i.forced,channelsCount:i.channelsCount,audioSamplingRate:i.audioSamplingRate,spatialAudio:i.spatialAudio,closedCaptions:i.closedCaptions,tilesLayout:i.tilesLayout},s=r.offline.numberOfParallelDownloads,a=0;return PS(i,n.presentationTimeline.kb(),function(l){var c=Ul(l),f=void 0;if(!o.has(c)){var h=l.endTime-l.startTime;h=mg(t,i.id)*h,h=eg(e.g,h),o.set(c,new Q0(l,h,a,!1))}l.h&&(f=Ul(l.h),o.has(f)||(h=.5*mg(t,i.id),h=eg(e.g,h),o.set(f,new Q0(l.h,h,a,!0)))),u.segments.push({pendingInitSegmentRefId:f,initSegmentKey:f?0:null,startTime:l.startTime,endTime:l.endTime,appendWindowStart:l.appendWindowStart,appendWindowEnd:l.appendWindowEnd,timestampOffset:l.timestampOffset,tilesLayout:l.tilesLayout,pendingSegmentRefId:c,dataKey:0}),a=(a+1)%s}),u}function PS(e,t,n){if(t=e.segmentIndex.find(t),t!=null)for(var i=e.segmentIndex.get(t);i;)n(i),i=e.segmentIndex.get(++t)}function Ye(e){if(e.l.g)throw new S(2,9,7001)}function qu(){if(!Kl())throw new S(2,9,9e3)}function ql(e,t){return I(function(n){return n.g==1?(e.i.push(t),vi(n),m(n,t,4)):n.g!=2?n.return(n.h):(In(n),bt(e.i,t),xn(n,0))})}function OS(e,t){var n=t.promise;return e.i.push(n),t.finally(function(){bt(e.i,n)})}function US(e){var t=new Set;e=p(e.streams);for(var n=e.next();!n.done;n=e.next()){n=p(n.value.segments);for(var i=n.next();!i.done;i=n.next())i=i.value,i.initSegmentKey!=null&&t.add(i.initSegmentKey),t.add(i.dataKey)}return Array.from(t)}function bS(e,t,n,i){var r,o,u;return I(function(s){return s.g==1?i.drmInfo?(r=iS(n),o=i.sessionIds.map(function(a){return{sessionId:a,keySystem:i.drmInfo.keySystem,licenseUri:i.drmInfo.licenseServerUri,serverCertificate:i.drmInfo.serverCertificate,audioCapabilities:Tg(i,!1),videoCapabilities:Tg(i,!0)}}),m(s,pg(t,e,o),2)):s.return():s.g!=3?(u=s.h,m(s,r.remove(u),3)):m(s,r.add(o.filter(function(a){return!u.includes(a.sessionId)})),0)})}function Ag(e){for(var t=new Set,n=p(e.textStreams),i=n.next();!i.done;i=n.next())t.add(i.value);for(n=p(e.imageStreams),i=n.next();!i.done;i=n.next())t.add(i.value);for(e=p(e.variants),n=e.next();!n.done;n=e.next())n=n.value,n.audio&&t.add(n.audio),n.video&&t.add(n.video);return t}function jS(e){e.variants.map(function(o){return o.video});var t=new Set(e.variants.map(function(o){return o.audio}));e=e.textStreams;for(var n=p(t),i=n.next();!i.done;i=n.next()){i=p(t);for(var r=i.next();!r.done;r=i.next());}for(t=p(e),n=t.next();!n.done;n=t.next())for(n=p(e),i=n.next();!i.done;i=n.next());}R("shaka.offline.Storage",Ge),Ge.deleteAll=function(){var e;return I(function(t){return t.g==1?(e=new it,vi(t),m(t,rS(e),2)):t.g!=5?(In(t),m(t,e.destroy(),5)):xn(t,0)})},Ge.prototype.list=Ge.prototype.list,Ge.prototype.removeEmeSessions=Ge.prototype.yh,Ge.prototype.remove=Ge.prototype.remove,Ge.prototype.store=Ge.prototype.store,Ge.prototype.getNetworkingEngine=Ge.prototype.Hc,Ge.prototype.getConfiguration=Ge.prototype.getConfiguration,Ge.prototype.configure=Ge.prototype.configure,Ge.prototype.destroy=Ge.prototype.destroy,Ge.support=Kl;var FS=new Map().set("org.w3.clearkey","1077efecc0b24d02ace33c1e52e2fb4b").set("com.widevine.alpha","edef8ba979d64acea3c827dcd51d21ed").set("com.microsoft.playready","9a04f07998404286ab92e65be0885f95").set("com.microsoft.playready.recommendation","9a04f07998404286ab92e65be0885f95").set("com.microsoft.playready.software","9a04f07998404286ab92e65be0885f95").set("com.microsoft.playready.hardware","9a04f07998404286ab92e65be0885f95").set("com.adobe.primetime","f239e769efa348509c16a903c6932efb");rl.offline=Kl;function ze(){}function Sg(){for(var e=p(io),t=e.next();!t.done;t=e.next()){t=t.value;try{t.og()}catch(n){pe("Error installing polyfill!",n)}}}function Qe(e,t){for(e={priority:t||0,og:e},t=0;t<io.length;t++)if(io[t].priority<e.priority){io.splice(t,0,e);return}io.push(e)}R("shaka.polyfill",ze),ze.register=Qe,ze.installAll=Sg;var io=[];function ro(){this.g=new Hu}function wg(){M.AbortController||(M.AbortController=ro,M.AbortSignal=Hu)}ro.prototype.abort=function(e){var t=this.g;t.h||(t.h=!0,t.g=e,t.g===void 0&&(t.g=new DOMException("signal is aborted without reason","AbortError")),e=new U("abort"),t.onabort&&t.onabort(e),t.dispatchEvent(e))},je.Object.defineProperties(ro.prototype,{signal:{configurable:!0,enumerable:!0,get:function(){return this.g}}}),ze.AbortController=ro,ro.install=wg;function Hu(){oe.call(this),this.h=!1,this.g=void 0,this.onabort=null}K(Hu,oe),je.Object.defineProperties(Hu.prototype,{aborted:{configurable:!0,enumerable:!0,get:function(){return this.h}},reason:{configurable:!0,enumerable:!0,get:function(){return this.g}}}),Qe(wg);function Ig(){}function xg(){if(!Object.getOwnPropertyDescriptor(Element.prototype,"ariaHidden"))for(var e=p(["ariaHidden","ariaLabel","ariaPressed","ariaSelected"]),t=e.next();!t.done;t=e.next())BS(t.value)}function BS(e){var t="aria-"+e.toLowerCase().replace(/^aria/,"");Object.defineProperty(Element.prototype,e,{get:function(){return this.getAttribute(t)},set:function(n){n==null||n==null?this.removeAttribute(t):this.setAttribute(t,n)}})}ze.Aria=Ig,Ig.install=xg,Qe(xg);function Cg(){}function Mg(){Um()}ze.EncryptionScheme=Cg,Cg.install=Mg,Qe(Mg,-2);function kg(){}function Lg(){if(M.Document){var e=Element.prototype;e.requestFullscreen=e.requestFullscreen||e.mozRequestFullScreen||e.msRequestFullscreen||e.webkitRequestFullscreen,e=Document.prototype,e.exitFullscreen=e.exitFullscreen||e.mozCancelFullScreen||e.msExitFullscreen||e.webkitCancelFullScreen,"fullscreenElement"in document||(Object.defineProperty(document,"fullscreenElement",{get:function(){return document.mozFullScreenElement||document.msFullscreenElement||document.webkitCurrentFullScreenElement||document.webkitFullscreenElement}}),Object.defineProperty(document,"fullscreenEnabled",{get:function(){return document.mozFullScreenEnabled||document.msFullscreenEnabled||document.webkitFullscreenEnabled}})),document.addEventListener("webkitfullscreenchange",Qi),document.addEventListener("webkitfullscreenerror",Qi),document.addEventListener("mozfullscreenchange",Qi),document.addEventListener("mozfullscreenerror",Qi),document.addEventListener("MSFullscreenChange",Qi),document.addEventListener("MSFullscreenError",Qi)}}function Qi(e){var t=e.type.replace(/^(webkit|moz|MS)/,"").toLowerCase(),n=document.createEvent("Event");n.initEvent(t,e.bubbles,e.cancelable),e.target.dispatchEvent(n)}ze.Fullscreen=kg,kg.install=Lg,Qe(Lg);function Hl(){}function Ng(){var e=!0;(mr()||xe("PlayStation 5")||vr()||xe("Web0S")||Kn()||xe("CrKey")||xe("PC=EOS")||xe("Hisense")||xe("VIDAA"))&&(e=!1),e&&navigator.mediaCapabilities||(navigator.mediaCapabilities||(navigator.mediaCapabilities={}),Rg=navigator.mediaCapabilities,navigator.mediaCapabilities.decodingInfo=GS)}function GS(e){var t,n,i,r,o,u,s,a,l,c,f,h,g,v,T,E,y,x;return I(function(A){switch(A.g){case 1:if(t={supported:!1,powerEfficient:!0,smooth:!0,keySystemAccess:null,configuration:e},!e)return A.return(t);if(n=e.video,i=e.audio,e.type=="media-source"){if(!jt())return A.return(t);if(n){if(xe("CrKey"))if(M.cast&&cast.__platform__&&cast.__platform__.canDisplayType){var w=n.contentType;n.width&&n.height&&(w+="; width="+n.width+"; height="+n.height),n.framerate&&(w+="; framerate="+n.framerate),n.transferFunction==="pq"&&(w+="; eotf=smpte2084"),r=cast.__platform__.canDisplayType(w)}else r=pt(n.contentType);else Kn()?(o=n.contentType,n.width&&n.height&&(o+="; width="+n.width,o+="; height="+n.height),n.framerate&&(o+="; framerate="+n.framerate),n.bitrate&&(o+="; bitrate="+n.bitrate),r=pt(o)):r=pt(n.contentType);if(!r)return A.return(t)}if(i&&(u=i.contentType,s=pt(u),!s))return A.return(t)}else if(e.type=="file"){if(n&&(a=n.contentType,l=xi(a),!l)||i&&(c=i.contentType,f=xi(c),!f))return A.return(t)}else return A.return(t);return e.keySystemConfiguration?(h=e.keySystemConfiguration,g=[],v=[],h.audio&&(T={robustness:h.audio.robustness||"",contentType:e.audio.contentType},g.push(T)),h.video&&(E={robustness:h.video.robustness||"",contentType:e.video.contentType},v.push(E)),y={initDataTypes:[h.initDataType],distinctiveIdentifier:h.distinctiveIdentifier,persistentState:h.persistentState,sessionTypes:h.sessionTypes},g.length&&(y.audioCapabilities=g),v.length&&(y.videoCapabilities=v),ee(A,3),m(A,navigator.requestMediaKeySystemAccess(h.keySystem,[y]),5)):(t.supported=!0,A.return(Promise.resolve(t)));case 5:x=A.h,le(A,4);break;case 3:te(A);case 4:x&&(t.supported=!0,t.keySystemAccess=x);case 2:return A.return(t)}})}ze.MediaCapabilities=Hl,Hl.install=Ng;var Rg=null;Hl.originalMcap=Rg,Qe(Ng,-1);function _g(){}function Dg(){var e=Ks();M.MediaSource&&(M.cast&&cast.__platform__&&cast.__platform__.canDisplayType?qS():e?12>=e?(Pg(),VS()):15>=e&&Pg():Vs()?KS():(xe("Tizen 2")||xe("Tizen 3")||xe("Tizen 4"))&&zS()),M.MediaSource&&MediaSource.isTypeSupported('video/webm; codecs="vp9"')&&!MediaSource.isTypeSupported('video/webm; codecs="vp09.00.10.08"')&&HS()}function Pg(){var e=MediaSource.prototype.addSourceBuffer;MediaSource.prototype.addSourceBuffer=function(){var t=e.apply(this,Ot.apply(0,arguments));return t.abort=function(){},t}}function VS(){var e=SourceBuffer.prototype.remove;SourceBuffer.prototype.remove=function(t,n){return e.call(this,t,n-.001)}}function KS(){var e=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(t){return t.split(";")[0].split("/")[1]!="mp2t"&&e(t)}}function zS(){var e=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(t){return Ar(t)[0]!="opus"&&e(t)}}function qS(){var e=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(t){var n=t.split(/ *; */);return n.shift(),n.some(function(i){return i.startsWith("codecs=")})?cast.__platform__.canDisplayType(t):e(t)}}function HS(){var e=MediaSource.isTypeSupported;xe("Web0S")||(MediaSource.isTypeSupported=function(t){var n=t.split(/ *; */),i=n.findIndex(function(u){return u.startsWith("codecs=")});if(0>i)return e(t);var r=n[i].replace("codecs=","").replace(/"/g,"").split(/\s*,\s*/),o=r.findIndex(function(u){return u.startsWith("vp09")});return 0<=o&&(r[o]="vp9",n[i]='codecs="'+r.join(",")+'"',t=n.join("; ")),e(t)})}ze.MediaSource=_g,_g.install=Dg,Qe(Dg);function Og(){}function Ug(){screen.orientation||M.orientation!=null&&XS()}function XS(){function e(){switch(M.orientation){case-90:t.type="landscape-secondary",t.angle=270;break;case 0:t.type="portrait-primary",t.angle=0;break;case 90:t.type="landscape-primary",t.angle=90;break;case 180:t.type="portrait-secondary",t.angle=180}}var t=new Xu;screen.orientation=t,e(),M.addEventListener("orientationchange",function(){e();var n=new U("change");t.dispatchEvent(n)})}ze.Orientation=Og,Og.install=Ug;function Xu(){oe.call(this),this.type="",this.angle=0}K(Xu,oe),Xu.prototype.lock=function(e){function t(i){return screen.lockOrientation?screen.lockOrientation(i):screen.mozLockOrientation?screen.mozLockOrientation(i):screen.msLockOrientation?screen.msLockOrientation(i):!1}var n=!1;switch(e){case"natural":n=t("default");break;case"any":n=!0,this.unlock();break;default:n=t(e)}return n?Promise.resolve():(e=Error("screen.orientation.lock() is not available on this device"),e.name="NotSupportedError",e.code=DOMException.NOT_SUPPORTED_ERR,Promise.reject(e))},Xu.prototype.unlock=function(){screen.unlockOrientation?screen.unlockOrientation():screen.mozUnlockOrientation?screen.mozUnlockOrientation():screen.msUnlockOrientation&&screen.msUnlockOrientation()},Qe(Ug);function Xl(){}var Wl,Yl,Jl,Zl,Ql,$l;function WS(e,t){try{var n=new Wu(e,t);return Promise.resolve(n)}catch(i){return Promise.reject(i)}}function YS(e){var t=this.mediaKeys;return t&&t!=e&&bg(t,null),delete this.mediaKeys,(this.mediaKeys=e)?bg(e,this):Promise.resolve()}function JS(e){if(e=ue(e.initData),lt(e).getUint32(0,!0)+4!=e.byteLength)throw new RangeError("Malformed FairPlay init data");e=Mn(e.subarray(4),!0),e=kn(e);var t=new Event("encrypted");t.initDataType="skd",t.initData=At(e),this.dispatchEvent(t)}ze.PatchedMediaKeysApple=Xl,Xl.uninstall=function(){Wl&&(Wl=!1,Object.defineProperty(HTMLMediaElement.prototype,"mediaKeys",Yl),HTMLMediaElement.prototype.setMediaKeys=Jl,M.MediaKeys=Zl,M.MediaKeySystemAccess=Ql,navigator.requestMediaKeySystemAccess=$l,Yl=$l=Jl=Ql=Zl=null,M.shakaMediaKeysPolyfill=!1)},Xl.install=function(e){M.HTMLVideoElement&&M.WebKitMediaKeys&&(e!==void 0&&e&&(Wl=!0,Yl=Object.getOwnPropertyDescriptor(HTMLMediaElement.prototype,"mediaKeys"),Jl=HTMLMediaElement.prototype.setMediaKeys,Zl=M.MediaKeys,Ql=M.MediaKeySystemAccess,$l=navigator.requestMediaKeySystemAccess),delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=YS,M.MediaKeys=Yu,M.MediaKeySystemAccess=Wu,navigator.requestMediaKeySystemAccess=WS,M.shakaMediaKeysPolyfill=!0)};function Wu(e,t){if(this.keySystem=e,e.startsWith("com.apple.fps"))for(e=p(t),t=e.next();!t.done;t=e.next()){var n=t.value;if(n.persistentState=="required")t=null;else{t={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:n.initDataTypes,sessionTypes:["temporary"],label:n.label};var i=!1,r=!1;if(n.audioCapabilities)for(var o=p(n.audioCapabilities),u=o.next();!u.done;u=o.next())u=u.value,u.contentType&&(i=!0,WebKitMediaKeys.isTypeSupported(this.keySystem,u.contentType.split(";")[0])&&(t.audioCapabilities.push(u),r=!0));if(n.videoCapabilities)for(n=p(n.videoCapabilities),u=n.next();!u.done;u=n.next())o=u.value,o.contentType&&(i=!0,WebKitMediaKeys.isTypeSupported(this.keySystem,o.contentType.split(";")[0])&&(t.videoCapabilities.push(o),r=!0));i||(r=WebKitMediaKeys.isTypeSupported(this.keySystem,"video/mp4")),t=r?t:null}if(t){this.g=t;return}}throw e=Error("Unsupported keySystem"),e.name="NotSupportedError",e.code=DOMException.NOT_SUPPORTED_ERR,e}Wu.prototype.createMediaKeys=function(){var e=new Yu(this.keySystem);return Promise.resolve(e)},Wu.prototype.getConfiguration=function(){return this.g};function Yu(e){this.h=new WebKitMediaKeys(e),this.g=new ye}Yu.prototype.createSession=function(e){if(e=e||"temporary",e!="temporary")throw new TypeError("Session type "+e+" is unsupported on this platform.");return new ec(this.h)},Yu.prototype.setServerCertificate=function(){return Promise.resolve(!1)};function bg(e,t){if(e.g.Rb(),!t)return Promise.resolve();e.g.o(t,"webkitneedkey",JS);try{return ji(t,HTMLMediaElement.HAVE_METADATA,e.g,function(){t.webkitSetMediaKeys(e.h)}),Promise.resolve()}catch(n){return Promise.reject(n)}}function ec(e){oe.call(this),this.i=null,this.l=e,this.g=this.h=null,this.j=new ye,this.sessionId="",this.expiration=NaN,this.closed=new we,this.keyStatuses=new jg}K(ec,oe),d=ec.prototype,d.generateRequest=function(e,t){var n=this;this.h=new we;try{var i=this.l.createSession("video/mp4",ue(t));this.i=i,this.sessionId=i.sessionId||"",this.j.o(this.i,"webkitkeymessage",function(r){n.h&&(n.h.resolve(),n.h=null),r=new Map().set("messageType",n.keyStatuses.ec()==null?"license-request":"license-renewal").set("message",At(r.message)),r=new U("message",r),n.dispatchEvent(r)}),this.j.o(i,"webkitkeyadded",function(){n.g&&(Ju(n,"usable"),n.g.resolve(),n.g=null)}),this.j.o(i,"webkitkeyerror",function(){var r=Error("EME PatchedMediaKeysApple key error");if(r.errorCode=n.i.error,n.h!=null)n.h.reject(r),n.h=null;else if(n.g!=null)n.g.reject(r),n.g=null;else switch(n.i.error.code){case WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT:case WebKitMediaKeyError.MEDIA_KEYERR_HARDWARECHANGE:Ju(n,"output-not-allowed");break;default:Ju(n,"internal-error")}}),Ju(this,"status-pending")}catch(r){this.h.reject(r)}return this.h},d.load=function(){return Promise.reject(Error("MediaKeySession.load not yet supported"))},d.update=function(e){this.g=new we;try{this.i.update(ue(e))}catch(t){this.g.reject(t)}return this.g},d.close=function(){try{this.i.close(),this.closed.resolve(),this.j.Rb()}catch(e){this.closed.reject(e)}return this.closed},d.remove=function(){return Promise.reject(Error("MediaKeySession.remove is only applicable for persistent licenses, which are not supported on this platform"))};function Ju(e,t){var n=e.keyStatuses;n.size=t==null?0:1,n.g=t,t=new U("keystatuseschange"),e.dispatchEvent(t)}function jg(){this.size=0,this.g=void 0}d=jg.prototype,d.ec=function(){return this.g},d.forEach=function(e){this.g&&e(this.g,Ho.value())},d.get=function(e){if(this.has(e))return this.g},d.has=function(e){var t=Ho.value();return!!(this.g&&Vn(e,t))},d.entries=function(){},d.keys=function(){},d.values=function(){};function Fg(){}function Bg(){!M.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration||(navigator.requestMediaKeySystemAccess=ZS,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=QS,M.MediaKeys=tc,M.MediaKeySystemAccess=nc,M.shakaMediaKeysPolyfill=!0)}function ZS(){return Promise.reject(Error("The key system specified is not supported."))}function QS(e){return e==null?Promise.resolve():Promise.reject(Error("MediaKeys not supported."))}ze.PatchedMediaKeysNop=Fg,Fg.install=Bg;function tc(){throw new TypeError("Illegal constructor.")}tc.prototype.createSession=function(){},tc.prototype.setServerCertificate=function(){};function nc(){throw this.keySystem="",new TypeError("Illegal constructor.")}nc.prototype.getConfiguration=function(){},nc.prototype.createMediaKeys=function(){},Qe(Bg,-10);function Gg(){}function Vg(){if(!(!M.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration)){if(HTMLMediaElement.prototype.webkitGenerateKeyRequest)sc="webkit";else if(!HTMLMediaElement.prototype.generateKeyRequest)return;navigator.requestMediaKeySystemAccess=$S,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=e4,M.MediaKeys=Qu,M.MediaKeySystemAccess=Zu,M.shakaMediaKeysPolyfill=!0}}function ic(e){var t=sc;return t?t+e.charAt(0).toUpperCase()+e.slice(1):e}function $S(e,t){try{var n=new Zu(e,t);return Promise.resolve(n)}catch(i){return Promise.reject(i)}}function e4(e){var t=this.mediaKeys;return t&&t!=e&&Kg(t,null),delete this.mediaKeys,(this.mediaKeys=e)&&Kg(e,this),Promise.resolve()}ze.PatchedMediaKeysWebkit=Gg,Gg.install=Vg;function Zu(e,t){this.g=this.keySystem=e;var n=!1;e=="org.w3.clearkey"&&(this.g="webkit-org.w3.clearkey",n=!1);var i=!1,r=document.getElementsByTagName("video");r=r.length?r[0]:document.createElement("video"),t=p(t);for(var o=t.next();!o.done;o=t.next()){o=o.value;var u={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:o.initDataTypes,sessionTypes:["temporary"],label:o.label},s=!1;if(o.audioCapabilities)for(var a=p(o.audioCapabilities),l=a.next();!l.done;l=a.next())l=l.value,l.contentType&&(s=!0,r.canPlayType(l.contentType.split(";")[0],this.g)&&(u.audioCapabilities.push(l),i=!0));if(o.videoCapabilities)for(a=p(o.videoCapabilities),l=a.next();!l.done;l=a.next())l=l.value,l.contentType&&(s=!0,r.canPlayType(l.contentType,this.g)&&(u.videoCapabilities.push(l),i=!0));if(s||(i=r.canPlayType("video/mp4",this.g)||r.canPlayType("video/webm",this.g)),o.persistentState=="required"&&(n?(u.persistentState="required",u.sessionTypes=["persistent-license"]):i=!1),i){this.h=u;return}}throw n="Unsupported keySystem",(e=="org.w3.clearkey"||e=="com.widevine.alpha")&&(n="None of the requested configurations were supported."),e=Error(n),e.name="NotSupportedError",e.code=DOMException.NOT_SUPPORTED_ERR,e}Zu.prototype.createMediaKeys=function(){var e=new Qu(this.g);return Promise.resolve(e)},Zu.prototype.getConfiguration=function(){return this.h};function Qu(e){this.l=e,this.h=null,this.g=new ye,this.i=[],this.j=new Map}function Kg(e,t){e.h=t,e.g.Rb();var n=sc;t&&(e.g.o(t,n+"needkey",function(i){var r=new CustomEvent("encrypted");r.initDataType="cenc",r.initData=At(i.initData),e.h.dispatchEvent(r)}),e.g.o(t,n+"keymessage",function(i){var r=rc(e,i.sessionId);r&&(i=new Map().set("messageType",r.keyStatuses.ec()==null?"licenserequest":"licenserenewal").set("message",i.message),i=new U("message",i),r.h&&(r.h.resolve(),r.h=null),r.dispatchEvent(i))}),e.g.o(t,n+"keyadded",function(i){(i=rc(e,i.sessionId))&&($u(i,"usable"),i.g&&i.g.resolve(),i.g=null)}),e.g.o(t,n+"keyerror",function(i){var r=rc(e,i.sessionId);r&&r.handleError(i)}))}Qu.prototype.createSession=function(e){if(e=e||"temporary",e!="temporary"&&e!="persistent-license")throw new TypeError("Session type "+e+" is unsupported on this platform.");var t=this.h||document.createElement("video");return t.src||(t.src="about:blank"),e=new oc(t,this.l,e),this.i.push(e),e},Qu.prototype.setServerCertificate=function(){return Promise.resolve(!1)};function rc(e,t){var n=e.j.get(t);return n||((n=e.i.shift())?(n.sessionId=t,e.j.set(t,n),n):null)}function oc(e,t,n){oe.call(this),this.j=e,this.m=!1,this.g=this.h=null,this.i=t,this.l=n,this.sessionId="",this.expiration=NaN,this.closed=new we,this.keyStatuses=new qg}K(oc,oe),d=oc.prototype,d.handleError=function(e){var t=Error("EME v0.1b key error"),n=e.errorCode;n.systemCode=e.systemCode,t.errorCode=n,!e.sessionId&&this.h?(e.systemCode==45&&(t.message="Unsupported session type."),this.h.reject(t),this.h=null):e.sessionId&&this.g?(this.g.reject(t),this.g=null):(t=e.systemCode,e.errorCode.code==MediaKeyError.MEDIA_KEYERR_OUTPUT?$u(this,"output-restricted"):t==1?$u(this,"expired"):$u(this,"internal-error"))};function zg(e,t,n){if(e.m)return Promise.reject(Error("The session is already initialized."));e.m=!0;try{if(e.l=="persistent-license")if(n)var i=ue(kn("LOAD_SESSION|"+n));else{var r=kn("PERSISTENT|");i=Tr(r,t)}else i=ue(t)}catch(u){return Promise.reject(u)}e.h=new we;var o=ic("generateKeyRequest");try{e.j[o](e.i,i)}catch(u){if(u.name!="InvalidStateError")return e.h=null,Promise.reject(u);new q(function(){try{e.j[o](e.i,i)}catch(s){e.h.reject(s),e.h=null}}).R(.01)}return e.h}function uc(e,t,n){if(e.g)e.g.then(function(){return uc(e,t,n)}).catch(function(){return uc(e,t,n)});else{if(e.g=t,e.i=="webkit-org.w3.clearkey"){var i=_e(n),r=JSON.parse(i);r.keys[0].kty!="oct"&&(e.g.reject(Error("Response is not a valid JSON Web Key Set.")),e.g=null),i=ln(r.keys[0].k),r=ln(r.keys[0].kid)}else i=ue(n),r=null;var o=ic("addKey");try{e.j[o](e.i,i,r,e.sessionId)}catch(u){e.g.reject(u),e.g=null}}}function $u(e,t){var n=e.keyStatuses;n.size=t==null?0:1,n.g=t,t=new U("keystatuseschange"),e.dispatchEvent(t)}d.generateRequest=function(e,t){return zg(this,t,null)},d.load=function(e){return this.l=="persistent-license"?zg(this,null,e):Promise.reject(Error("Not a persistent session."))},d.update=function(e){var t=new we;return uc(this,t,e),t},d.close=function(){if(this.l!="persistent-license"){if(!this.sessionId)return this.closed.reject(Error("The session is not callable.")),this.closed;var e=ic("cancelKeyRequest");try{this.j[e](this.i,this.sessionId)}catch{}}return this.closed.resolve(),this.closed},d.remove=function(){return this.l!="persistent-license"?Promise.reject(Error("Not a persistent session.")):this.close()};function qg(){this.size=0,this.g=void 0}d=qg.prototype,d.ec=function(){return this.g},d.forEach=function(e){this.g&&e(this.g,Ho.value())},d.get=function(e){if(this.has(e))return this.g},d.has=function(e){var t=Ho.value();return!!(this.g&&Vn(e,t))},d.entries=function(){},d.keys=function(){},d.values=function(){};var sc="";Qe(Vg);function Hg(){}function Xg(){if(M.HTMLVideoElement){var e=HTMLVideoElement.prototype;e.requestPictureInPicture&&document.exitPictureInPicture||!e.webkitSupportsPresentationMode||(document.pictureInPictureEnabled=!0,document.pictureInPictureElement=null,e.requestPictureInPicture=n4,Object.defineProperty(e,"disablePictureInPicture",{get:r4,set:o4,enumerable:!0,configurable:!0}),document.exitPictureInPicture=i4,document.addEventListener("webkitpresentationmodechanged",t4,!0))}}function t4(e){if(e=e.target,e.webkitPresentationMode=="picture-in-picture"){document.pictureInPictureElement=e;var t=new Event("enterpictureinpicture");e.dispatchEvent(t)}else document.pictureInPictureElement==e&&(document.pictureInPictureElement=null),t=new Event("leavepictureinpicture"),e.dispatchEvent(t)}function n4(){return this.webkitSupportsPresentationMode("picture-in-picture")?(this.webkitSetPresentationMode("picture-in-picture"),document.pictureInPictureElement=this,Promise.resolve()):Promise.reject(Error("PiP not allowed by video element"))}function i4(){var e=document.pictureInPictureElement;return e?(e.webkitSetPresentationMode("inline"),document.pictureInPictureElement=null,Promise.resolve()):Promise.reject(Error("No picture in picture element found"))}function r4(){return this.hasAttribute("disablePictureInPicture")?!0:!this.webkitSupportsPresentationMode("picture-in-picture")}function o4(e){e?this.setAttribute("disablePictureInPicture",""):this.removeAttribute("disablePictureInPicture")}ze.PiPWebkit=Hg,Hg.install=Xg,Qe(Xg);function Wg(){}function Yg(){M.crypto&&("randomUUID"in M.crypto||(M.crypto.randomUUID=u4))}function u4(){var e=URL.createObjectURL(new Blob),t=e.toString();return URL.revokeObjectURL(e),t.substr(t.lastIndexOf("/")+1)}ze.RandomUUID=Wg,Wg.install=Yg,Qe(Yg);function Jg(){}function Zg(){navigator.storage&&navigator.storage.estimate||!navigator.webkitTemporaryStorage||!navigator.webkitTemporaryStorage.queryUsageAndQuota||("storage"in navigator||(navigator.storage={}),navigator.storage.estimate=s4)}function s4(){return new Promise(function(e,t){navigator.webkitTemporaryStorage.queryUsageAndQuota(function(n,i){e({usage:n,quota:i})},t)})}ze.StorageEstimate=Jg,Jg.install=Zg,Qe(Zg);function Qg(){}function $g(){var e=Symbol.prototype;"description"in e||Object.defineProperty(e,"description",{get:a4})}function a4(){var e=/\((.*)\)/.exec(this.toString());return e?e[1]:void 0}ze.Symbol=Qg,Qg.install=$g,Qe($g);function em(){}function tm(){if(M.HTMLMediaElement){var e=HTMLMediaElement.prototype.play;HTMLMediaElement.prototype.play=function(){var t=e.apply(this);return t&&t.catch(function(){}),t}}}ze.VideoPlayPromise=em,em.install=tm,Qe(tm);function nm(){}function im(){if(M.HTMLVideoElement){var e=HTMLVideoElement.prototype;!e.getVideoPlaybackQuality&&("webkitDroppedFrameCount"in e||Ph())&&(e.getVideoPlaybackQuality=l4)}}function l4(){return{droppedVideoFrames:this.webkitDroppedFrameCount,totalVideoFrames:this.webkitDecodedFrameCount,corruptedVideoFrames:0,creationTime:NaN,totalFrameDelay:0}}ze.VideoPlaybackQuality=nm,nm.install=im,Qe(im);function rm(){}function om(){if(!M.VTTCue&&M.TextTrackCue){var e=null,t=TextTrackCue.length;if(t==3)e=ac;else if(t==6)e=c4;else{try{var n=!!ac(1,2,"")}catch{n=!1}n&&(e=ac)}e&&(M.VTTCue=function(i,r,o){return e(i,r,o)})}}function ac(e,t,n){return new M.TextTrackCue(e,t,n)}function c4(e,t,n){return new M.TextTrackCue(e+"-"+t+"-"+n,e,t,n)}ze.VTTCue=rm,rm.install=om,Qe(om);function Kt(){}Kt.prototype.parseInit=function(){},Kt.prototype.setSequenceMode=function(){},Kt.prototype.parseMedia=function(e,t){var n=null,i=[];e=_e(e).split(/\r?\n/),e=p(e);for(var r=e.next();!r.done;r=e.next())if((r=r.value)&&!/^\s+$/.test(r)&&(r=h4.exec(r))){var o=d4.exec(r[1]);o=60*parseInt(o[1],10)+parseFloat(o[2].replace(",",".")),r=new Se(o,t.segmentEnd?t.segmentEnd:o+2,r[2]),n&&(n.endTime=o,i.push(n)),n=r}return n&&i.push(n),i},R("shaka.text.LrcTextParser",Kt),Kt.prototype.parseMedia=Kt.prototype.parseMedia,Kt.prototype.setSequenceMode=Kt.prototype.setSequenceMode,Kt.prototype.parseInit=Kt.prototype.parseInit;var h4=/^\[(\d{1,2}:\d{1,2}(?:[.,]\d{1,3})?)\](.*)/,d4=/^(\d+):(\d{1,2}(?:[.,]\d{1,3})?)$/;Ke["application/x-subtitle-lrc"]=function(){return new Kt};function Lt(){}Lt.prototype.parseInit=function(){},Lt.prototype.setSequenceMode=function(){},Lt.prototype.parseMedia=function(e,t){var n=_e(e);if(e=[],n=="")return e;var i=Mr(n,"tt");if(!i)throw new S(2,2,2005,"Failed to parse TTML.");if(n=i.getElementsByTagName("body")[0],!n)return[];var r=fn(i,oo,"frameRate"),o=fn(i,oo,"subFrameRate"),u=fn(i,oo,"frameRateMultiplier"),s=fn(i,oo,"tickRate"),a=fn(i,oo,"cellResolution"),l=i.getAttribute("xml:space")||"default",c=fn(i,ns,"extent");if(l!="default"&&l!="preserve")throw new S(2,2,2005,"Invalid xml:space value: "+l);l=l=="default",r=new g4(r,o,u,s),a=a&&(a=/^(\d+) (\d+)$/.exec(a))?{columns:parseInt(a[1],10),rows:parseInt(a[2],10)}:null,o=(o=i.getElementsByTagName("metadata")[0])?Ny(o):[],u=Array.from(i.getElementsByTagName("style")),i=Array.from(i.getElementsByTagName("region")),s=[];for(var f=p(i),h=f.next();!h.done;h=f.next()){var g=h.value;h=new wi;var v=g.getAttribute("xml:id");if(v){h.id=v;var T=null;c&&(T=dc.exec(c)||fc.exec(c)),v=T?Number(T[1]):null,T=T?Number(T[2]):null;var E,y;(E=es(g,u,"extent"))&&(E=(y=dc.exec(E))||fc.exec(E),E!=null&&(h.width=Number(E[1]),h.height=Number(E[2]),y||(v!=null&&(h.width=100*h.width/v),T!=null&&(h.height=100*h.height/T)),h.widthUnits=y||v!=null?Zt:0,h.heightUnits=y||T!=null?Zt:0)),(g=es(g,u,"origin"))&&(E=(y=dc.exec(g))||fc.exec(g),E!=null&&(h.viewportAnchorX=Number(E[1]),h.viewportAnchorY=Number(E[2]),y||(T!=null&&(h.viewportAnchorY=100*h.viewportAnchorY/T),v!=null&&(h.viewportAnchorX=100*h.viewportAnchorX/v)),h.viewportAnchorUnits=y||v!=null?Zt:0))}else h=null;h&&s.push(h)}if(Le(n,"p").length)throw new S(2,2,2001,"<p> can only be inside <div> in TTML");for(c=p(Le(n,"div")),f=c.next();!f.done;f=c.next())if(Le(f.value,"span").length)throw new S(2,2,2001,"<span> can only be inside <p> in TTML");return(t=um(n,t,r,o,u,i,s,l,a,null,!1))&&(t.backgroundColor||(t.backgroundColor="transparent"),e.push(t)),e};function um(e,t,n,i,r,o,u,s,a,l,c){var f=e.parentNode;if(e.nodeType==Node.COMMENT_NODE)return null;if(e.nodeType==Node.TEXT_NODE){if(!c)return null;var h=document.createElement("span");h.textContent=e.textContent}else h=e;for(var g=null,v=p(E4),T=v.next();!T.done&&!(g=ts(h,"backgroundImage",i,"#",T.value)[0]);T=v.next());if(v=c,(e.nodeName=="p"||g)&&(c=!0),s=(h.getAttribute("xml:space")||(s?"default":"preserve"))=="default",T=Array.from(h.childNodes).every(function(w){return w.nodeType==Node.TEXT_NODE}),e=[],!T)for(var E=p(h.childNodes),y=E.next();!y.done;y=E.next())(y=um(y.value,t,n,i,r,o,u,s,a,h,c))&&e.push(y);i=l!=null,E=/\S/.test(h.textContent);var x=h.hasAttribute("begin")||h.hasAttribute("end")||h.hasAttribute("dur");if(!(x||E||h.tagName=="br"||e.length!=0||i&&!s))return null;for(y=lm(h,n),E=y.start,y=y.end;f&&f.nodeType==Node.ELEMENT_NODE&&f.tagName!="tt";)y=p4(f,n,E,y),E=y.start,y=y.end,f=f.parentNode;if(E==null&&(E=0),E+=t.periodStart,y=y==null?1/0:y+t.periodStart,E=Math.max(E,t.segmentStart),y=Math.min(y,t.segmentEnd),!x&&0<e.length)for(E=1/0,y=0,t=p(e),n=t.next();!n.done;n=t.next())n=n.value,E=Math.min(E,n.startTime),y=Math.max(y,n.endTime);if(h.tagName=="br")return r=new Se(E,y,""),r.lineBreak=!0,r;if(t="",T&&(t=h.textContent,s&&(t=t.trim(),t=t.replace(/\s+/g," "))),t=new Se(E,y,t),t.nestedCues=e,c||(t.isContainer=!0),a&&(t.cellResolution=a),a=ts(h,"region",o,"")[0],h.hasAttribute("region")&&a&&a.getAttribute("xml:id")){var A=a.getAttribute("xml:id");t.region=u.filter(function(w){return w.id==A})[0]}return u=a,l&&i&&!h.getAttribute("region")&&!h.getAttribute("style")&&(u=ts(l,"region",o,"")[0]),f4(t,h,u,g,r,v,e.length==0),t}function f4(e,t,n,i,r,o,u){if(o=o||u,$e(t,n,r,"direction",o)=="rtl"&&(e.direction="rtl"),u=$e(t,n,r,"writingMode",o),u=="tb"||u=="tblr"?e.writingMode="vertical-lr":u=="tbrl"?e.writingMode="vertical-rl":u=="rltb"||u=="rl"?e.direction="rtl":u&&(e.direction=bs),(u=$e(t,n,r,"textAlign",!0))?(e.positionAlign=y4[u],e.lineAlign=v4[u],e.textAlign=Us[u.toUpperCase()]):e.textAlign=an,(u=$e(t,n,r,"displayAlign",!0))&&(e.displayAlign=Mh[u.toUpperCase()]),(u=$e(t,n,r,"color",o))&&(e.color=u),(u=$e(t,n,r,"backgroundColor",o))&&(e.backgroundColor=u),(u=$e(t,n,r,"border",o))&&(e.border=u),u=$e(t,n,r,"fontFamily",o))switch(u){case"monospaceSerif":e.fontFamily="Courier New,Liberation Mono,Courier,monospace";break;case"proportionalSansSerif":e.fontFamily="Arial,Helvetica,Liberation Sans,sans-serif";break;case"sansSerif":e.fontFamily="sans-serif";break;case"monospaceSansSerif":e.fontFamily="Consolas,monospace";break;case"proportionalSerif":e.fontFamily="serif";break;default:e.fontFamily=u}if((u=$e(t,n,r,"fontWeight",o))&&u=="bold"&&(e.fontWeight=700),u=$e(t,n,r,"wrapOption",o),e.wrapLine=!(u&&u=="noWrap"),(u=$e(t,n,r,"lineHeight",o))&&u.match($i)&&(e.lineHeight=u),(u=$e(t,n,r,"fontSize",o))&&(u.match($i)||u.match(m4))&&(e.fontSize=u),(u=$e(t,n,r,"fontStyle",o))&&(e.fontStyle=Rh[u.toUpperCase()]),i){u=i.getAttribute("imageType")||i.getAttribute("imagetype");var s=i.getAttribute("encoding");i=i.textContent.trim(),u=="PNG"&&s=="Base64"&&i&&(e.backgroundImage="data:image/png;base64,"+i)}(i=$e(t,n,r,"textOutline",o))&&(i=i.split(" "),i[0].match($i)?e.textStrokeColor=e.color:(e.textStrokeColor=i[0],i.shift()),i[0]&&i[0].match($i)?e.textStrokeWidth=i[0]:e.textStrokeColor=""),(i=$e(t,n,r,"letterSpacing",o))&&i.match($i)&&(e.letterSpacing=i),(i=$e(t,n,r,"linePadding",o))&&i.match($i)&&(e.linePadding=i),(o=$e(t,n,r,"opacity",o))&&(e.opacity=parseFloat(o)),(n=es(n,r,"textDecoration"))&&sm(e,n),(t=lc(t,r,"textDecoration"))&&sm(e,t)}function sm(e,t){t=p(t.split(" "));for(var n=t.next();!n.done;n=t.next())switch(n.value){case"underline":e.textDecoration.includes("underline")||e.textDecoration.push("underline");break;case"noUnderline":e.textDecoration.includes("underline")&&bt(e.textDecoration,"underline");break;case"lineThrough":e.textDecoration.includes("lineThrough")||e.textDecoration.push("lineThrough");break;case"noLineThrough":e.textDecoration.includes("lineThrough")&&bt(e.textDecoration,"lineThrough");break;case"overline":e.textDecoration.includes("overline")||e.textDecoration.push("overline");break;case"noOverline":e.textDecoration.includes("overline")&&bt(e.textDecoration,"overline")}}function $e(e,t,n,i,r){return r=r===void 0?!0:r,(e=lc(e,n,i))?e:r?es(t,n,i):null}function es(e,t,n){if(!e)return null;var i=fn(e,ns,n);return i||am(e,t,n)}function lc(e,t,n){var i=fn(e,ns,n);return i||am(e,t,n)}function am(e,t,n){e=ts(e,"style",t,"");for(var i=null,r=0;r<e.length;r++){var o=Jn(e[r],"urn:ebu:tt:style",n);o||(o=fn(e[r],ns,n)),o||(o=lc(e[r],t,n)),o&&(i=o)}return i}function ts(e,t,n,i,r){var o=[];if(!e||1>n.length)return o;var u=e;for(e=null;u&&!(e=r?Jn(u,r,t):u.getAttribute(t))&&(u=u.parentNode,u instanceof Element););if(t=e){for(t=p(t.split(" ")),r=t.next();!r.done;r=t.next())for(r=r.value,e=p(n),u=e.next();!u.done;u=e.next())if(u=u.value,i+u.getAttribute("xml:id")==r){o.push(u);break}}return o}function p4(e,t,n,i){return e=lm(e,t),n==null?n=e.start:e.start!=null&&(n+=e.start),i==null?i=e.end:e.start!=null&&(i+=e.start),{start:n,end:i}}function lm(e,t){var n=cc(e.getAttribute("begin"),t),i=cc(e.getAttribute("end"),t);return e=cc(e.getAttribute("dur"),t),i==null&&e!=null&&(i=n+e),{start:n,end:i}}function cc(e,t){var n=null;if(cm.test(e)){e=cm.exec(e),n=Number(e[1]);var i=Number(e[2]),r=Number(e[3]),o=Number(e[4]);o+=(Number(e[5])||0)/t.h,r+=o/t.frameRate,n=r+60*i+3600*n}else if(hm.test(e))n=hc(hm,e);else if(dm.test(e))n=hc(dm,e);else if(fm.test(e))e=fm.exec(e),n=Number(e[1])/t.frameRate;else if(pm.test(e))e=pm.exec(e),n=Number(e[1])/t.g;else if(gm.test(e))n=hc(gm,e);else if(e)throw new S(2,2,2001,"Could not parse cue time range in TTML");return n}function hc(e,t){return e=e.exec(t),e==null||e[0]==""?null:(Number(e[4])||0)/1e3+(Number(e[3])||0)+60*(Number(e[2])||0)+3600*(Number(e[1])||0)}R("shaka.text.TtmlTextParser",Lt),Lt.prototype.parseMedia=Lt.prototype.parseMedia,Lt.prototype.setSequenceMode=Lt.prototype.setSequenceMode,Lt.prototype.parseInit=Lt.prototype.parseInit;function g4(e,t,n,i){this.frameRate=Number(e)||30,this.h=Number(t)||1,this.g=Number(i),this.g==0&&(this.g=e?this.frameRate*this.h:1),n&&(e=/^(\d+) (\d+)$/g.exec(n))&&(this.frameRate*=Number(e[1])/Number(e[2]))}var dc=/^(\d{1,2}(?:\.\d+)?|100(?:\.0+)?)% (\d{1,2}(?:\.\d+)?|100(?:\.0+)?)%$/,m4=/^(\d{1,2}(?:\.\d+)?|100)%$/,$i=/^(\d+px|\d+em|\d*\.?\d+c)$/,fc=/^(\d+)px (\d+)px$/,cm=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,hm=/^(?:(\d{2,}):)?(\d{2}):(\d{2})$/,dm=/^(?:(\d{2,}):)?(\d{2}):(\d{2}\.\d{2,})$/,fm=/^(\d*(?:\.\d*)?)f$/,pm=/^(\d*(?:\.\d*)?)t$/,gm=RegExp("^(?:(\\d*(?:\\.\\d*)?)h)?(?:(\\d*(?:\\.\\d*)?)m)?(?:(\\d*(?:\\.\\d*)?)s)?(?:(\\d*(?:\\.\\d*)?)ms)?$"),v4={left:Gn,center:"center",right:"end",start:Gn,end:"end"},y4={left:"line-left",center:"center",right:"line-right"},oo=["http://www.w3.org/ns/ttml#parameter","http://www.w3.org/2006/10/ttaf1#parameter"],ns=["http://www.w3.org/ns/ttml#styling","http://www.w3.org/2006/10/ttaf1#styling"],E4=["http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt","http://www.smpte-ra.org/schemas/2052-1/2013/smpte-tt"];Ke["application/ttml+xml"]=function(){return new Lt};function ct(){this.g=new Lt}ct.prototype.parseInit=function(e){var t=!1;if(new Ae().box("moov",Me).box("trak",Me).box("mdia",Me).box("minf",Me).box("stbl",Me).T("stsd",Ir).box("stpp",function(n){t=!0,n.parser.stop()}).parse(e),!t)throw new S(2,2,2007)},ct.prototype.setSequenceMode=function(){},ct.prototype.parseMedia=function(e,t){var n=this,i=!1,r=[];if(new Ae().box("mdat",Pi(function(o){i=!0,r=r.concat(n.g.parseMedia(o,t))})).parse(e,!1),!i)throw new S(2,2,2007);return r},R("shaka.text.Mp4TtmlParser",ct),ct.prototype.parseMedia=ct.prototype.parseMedia,ct.prototype.setSequenceMode=ct.prototype.setSequenceMode,ct.prototype.parseInit=ct.prototype.parseInit,Ke['application/mp4; codecs="stpp"']=function(){return new ct},Ke['application/mp4; codecs="stpp.ttml"']=function(){return new ct},Ke['application/mp4; codecs="stpp.ttml.im1t"']=function(){return new ct},Ke['application/mp4; codecs="stpp.TTML.im1t"']=function(){return new ct};function ht(){this.g=!1}ht.prototype.parseInit=function(){},ht.prototype.setSequenceMode=function(e){this.g=e},ht.prototype.parseMedia=function(e,t){e=_e(e),e=e.replace(/\r\n|\r(?=[^\n]|$)/gm,`
`);var n=e.split(/\n{2,}/m);if(!/^WEBVTT($|[ \t\n])/m.test(n[0]))throw new S(2,2,2e3);if(e=t.vttOffset,n[0].includes("X-TIMESTAMP-MAP")&&this.g){var i=n[0].match(/LOCAL:((?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{3}))/m),r=n[0].match(/MPEGTS:(\d+)/m);if(i&&r){if(e=rs(new ui(i[1])),e==null)throw new S(2,2,2e3);for(r=Number(r[1]),i=t.segmentStart-t.periodStart;95443.7176888889<=i;)i-=95443.7176888889,r+=8589934592;e=t.periodStart+r/9e4-e}}for(t=[],r=p(n[0].split(`
`)),i=r.next();!i.done;i=r.next())if(i=i.value,/^Region:/.test(i)){i=new ui(i);var o=new wi;si(i),Ji(i);for(var u=si(i);u;){var s=o,a=u;(u=/^id=(.*)$/.exec(a))?s.id=u[1]:(u=/^width=(\d{1,2}|100)%$/.exec(a))?s.width=Number(u[1]):(u=/^lines=(\d+)$/.exec(a))?(s.height=Number(u[1]),s.heightUnits=2):(u=/^regionanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(a))?(s.regionAnchorX=Number(u[1]),s.regionAnchorY=Number(u[2])):(u=/^viewportanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(a))?(s.viewportAnchorX=Number(u[1]),s.viewportAnchorY=Number(u[2])):/^scroll=up$/.exec(a)&&(s.scroll="up"),Ji(i),u=si(i)}t.push(o)}for(r=new Map,mm(r),i=[],n=p(n.slice(1)),o=n.next();!o.done;o=n.next()){if(o=o.value.split(`
`),(o.length!=1||o[0])&&!/^NOTE($|[ \t])/.test(o[0])&&o[0]=="STYLE"){for(s=[],u=-1,a=1;a<o.length;a++)o[a].includes("::cue")&&(s.push([]),u=s.length-1),u!=-1&&(s[u].push(o[a]),o[a].includes("}")&&(u=-1));for(s=p(s),u=s.next();!u.done;u=s.next()){var l=u.value;u="global",(a=l[0].match(/\((.*)\)/))&&(u=a.pop()),a=l.slice(1,-1),l[0].includes("}")&&(l=/\{(.*?)\}/.exec(l[0]))&&(a=l[1].split(";")),(l=r.get(u))||(l=new Se(0,0,""));for(var c=!1,f=0;f<a.length;f++){var h=/^\s*([^:]+):\s*(.*)/.exec(a[f]);if(h){var g=h[2].trim().replace(";","");switch(h[1].trim()){case"background-color":case"background":c=!0,l.backgroundColor=g;break;case"color":c=!0,l.color=g;break;case"font-family":c=!0,l.fontFamily=g;break;case"font-size":c=!0,l.fontSize=g;break;case"font-weight":(700<=parseInt(g,10)||g=="bold")&&(c=!0,l.fontWeight=700);break;case"font-style":switch(g){case"normal":c=!0,l.fontStyle=Bs;break;case"italic":c=!0,l.fontStyle="italic";break;case"oblique":c=!0,l.fontStyle="oblique"}break;case"opacity":c=!0,l.opacity=parseFloat(g);break;case"text-shadow":c=!0,l.textShadow=g;break;case"white-space":c=!0,l.wrapLine=g!="noWrap"}}}c&&r.set(u,l)}}if(c=e,o.length==1&&!o[0]||/^NOTE($|[ \t])/.test(o[0])||o[0]=="STYLE"||o[0]=="REGION")o=null;else{if(s=null,o[0].includes("-->")||(s=o[0],o.splice(0,1)),u=new ui(o[0]),a=rs(u),f=On(u,/[ \t]+--\x3e[ \t]+/g),l=rs(u),a==null||f==null||l==null)throw new S(2,2,2001,"Could not parse cue time range in WebVTT");for(a+=c,l+=c,c=o.slice(1).join(`
`).trim(),r.has("global")?(o=r.get("global").clone(),o.startTime=a,o.endTime=l,o.payload=""):o=new Se(a,l,""),vm(c,o,r),Ji(u),a=si(u);a;)Em(o,a,t),Ji(u),a=si(u);s!=null&&(o.id=s)}o&&i.push(o)}return i};function mm(e){for(var t=p(Object.entries(kh)),n=t.next();!n.done;n=t.next()){var i=p(n.value);n=i.next().value,i=i.next().value;var r=new Se(0,0,"");r.color=i,e.set("."+n,r)}for(t=p(Object.entries(Lh)),n=t.next();!n.done;n=t.next())i=p(n.value),n=i.next().value,i=i.next().value,r=new Se(0,0,""),r.backgroundColor=i,e.set("."+n,r)}function vm(e,t,n){n.size===0&&mm(n);e:{var i=e;e=[];for(var r=-1,o="",u=0;u<i.length;u++)if(i[u]==="/"&&0<u&&i[u-1]==="<"){var s=i.indexOf(">",u);if(s<=u){e=i;break e}if((s=i.substring(u+1,s))&&s==="c"){var a=e.pop();a?a===s?(o+="/"+s+">",u+=s.length+1):a.startsWith("c.")?(u+=s.length+1,o+="/"+a+">"):o+=i[u]:o+=i[u]}else o+=i[u]}else i[u]==="<"?(r=u+1,i[r]!="c"&&(r=-1)):i[u]===">"&&0<r&&(e.push(i.substr(r,u-r)),r=-1),o+=i[u];e=o}for(i=[],o=-1,r=0;r<e.length;r++)e[r]==="<"?o=r+1:e[r]===">"&&0<o&&(o=e.substr(o,r-o),o.match(Tm)&&i.push(o),o=-1);for(i=p(i),r=i.next();!r.done;r=i.next())r=r.value,e=e.replace("<"+r+">",'<div time="'+r+'">'),e+="</div>";e:{for(r=e,o=[],u=-1,i="",e=!1,s=0;s<r.length;s++)if(r[s]==="/"){if(a=r.indexOf(">",s),a===-1){e=r;break e}if((a=r.substring(s+1,a))&&a=="v"){e=!0;var l=null;if(o.length&&(l=o[o.length-1]),l){if(l===a)i+="/"+a+">";else{if(!l.startsWith("v")){i+=r[s];continue}i+="/"+l+">"}s+=a.length+1}else i+=r[s]}else i+=r[s]}else r[s]==="<"?(u=s+1,r[u]!="v"&&(u=-1)):r[s]===">"&&0<u&&(o.push(r.substr(u,s-u)),u=-1),i+=r[s];for(r=p(o),o=r.next();!o.done;o=r.next())o=o.value,u=o.replace(" ",".voice-"),i=i.replace("<"+o+">","<"+u+">"),i=i.replace("</"+o+">","</"+u+">"),e||(i+="</"+u+">");e=i}if(r=Mr("<span>"+e+"</span>","span")){if(i=[],r=r.childNodes,r.length==1&&(o=r[0],o.nodeType==Node.TEXT_NODE||o.nodeType==Node.CDATA_SECTION_NODE)){t.payload=pc(e);return}for(e=p(r),r=e.next();!r.done;r=e.next())ym(r.value,t,i,n);t.nestedCues=i}else t.payload=pc(e)}function is(e,t){return e&&0<e.length?e:t}function ym(e,t,n,i){var r=t.clone();if(e.nodeType===Node.ELEMENT_NODE&&e.nodeName)for(var o=p(e.nodeName.split(/(?=[ .])+/g)),u=o.next();!u.done;u=o.next()){var s=u=u.value;if(s.startsWith(".voice-")){var a=s.split("-").pop();s='v[voice="'+a+'"]',i.has(s)||(s="v[voice="+a+"]")}switch(i.has(s)&&(s=i.get(s))&&(r.backgroundColor=is(s.backgroundColor,r.backgroundColor),r.color=is(s.color,r.color),r.fontFamily=is(s.fontFamily,r.fontFamily),r.fontSize=is(s.fontSize,r.fontSize),r.fontWeight=s.fontWeight,r.fontStyle=s.fontStyle,r.opacity=s.opacity,r.wrapLine=s.wrapLine),u){case"br":u=t.clone(),u.lineBreak=!0,n.push(u);break;case"b":r.fontWeight=700;break;case"i":r.fontStyle="italic";break;case"u":r.textDecoration.push("underline");break;case"div":(u=e.getAttribute("time"))&&(u=rs(new ui(u)))&&(r.startTime=u)}}if(Cd(e))for(o=!0,i=p(e.textContent.split(`
`)),e=i.next();!e.done;e=i.next())e=e.value,o||(o=t.clone(),o.lineBreak=!0,n.push(o)),0<e.length&&(o=r.clone(),o.payload=pc(e),n.push(o)),o=!1;else for(t=p(e.childNodes),e=t.next();!e.done;e=t.next())ym(e.value,r,n,i)}function Em(e,t,n){var i;(i=/^align:(start|middle|center|end|left|right)$/.exec(t))?(t=i[1],t=="middle"?e.textAlign=an:e.textAlign=Us[t.toUpperCase()]):(i=/^vertical:(lr|rl)$/.exec(t))?e.writingMode=i[1]=="lr"?"vertical-lr":"vertical-rl":(i=/^size:([\d.]+)%$/.exec(t))?e.size=Number(i[1]):(i=/^position:([\d.]+)%(?:,(line-left|line-right|center|start|end))?$/.exec(t))?(e.position=Number(i[1]),i[2]&&(t=i[2],e.positionAlign=t=="line-left"||t=="start"?"line-left":t=="line-right"||t=="end"?"line-right":"center")):(i=/^region:(.*)$/.exec(t))?(t=T4(n,i[1]))&&(e.region=t):(n=/^line:([\d.]+)%(?:,(start|end|center))?$/.exec(t))?(e.lineInterpretation=1,e.line=Number(n[1]),n[2]&&(e.lineAlign=Fs[n[2].toUpperCase()])):(n=/^line:(-?\d+)(?:,(start|end|center))?$/.exec(t))&&(e.lineInterpretation=js,e.line=Number(n[1]),n[2]&&(e.lineAlign=Fs[n[2].toUpperCase()]))}function T4(e,t){return e=e.filter(function(n){return n.id==t}),e.length?e[0]:null}function rs(e){if(e=On(e,Tm),e==null)return null;var t=Number(e[2]),n=Number(e[3]);return 59<t||59<n?null:Number(e[4])/1e3+n+60*t+3600*(Number(e[1])||0)}function pc(e){var t={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&nbsp;":" ","&lrm;":"‎","&rlm;":"‏"},n=/&(?:amp|lt|gt|quot|#(0+)?39|nbsp|lrm|rlm);/g,i=RegExp(n.source);return e&&i.test(e)?e.replace(n,function(r){return t[r]||"'"}):e||""}R("shaka.text.VttTextParser",ht),ht.prototype.parseMedia=ht.prototype.parseMedia,ht.prototype.setSequenceMode=ht.prototype.setSequenceMode,ht.prototype.parseInit=ht.prototype.parseInit;var Tm=/(?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{2,3})/g;Ke["text/vtt"]=function(){return new ht},Ke['text/vtt; codecs="vtt"']=function(){return new ht},Ke['text/vtt; codecs="wvtt"']=function(){return new ht};function zt(){this.g=null}zt.prototype.parseInit=function(e){var t=this,n=!1;if(new Ae().box("moov",Me).box("trak",Me).box("mdia",Me).T("mdhd",function(i){i=ga(i.reader,i.version),t.g=i.timescale}).box("minf",Me).box("stbl",Me).T("stsd",Ir).box("wvtt",function(){n=!0}).parse(e),!this.g)throw new S(2,2,2008);if(!n)throw new S(2,2,2008)},zt.prototype.setSequenceMode=function(){},zt.prototype.parseMedia=function(e,t){if(!e.length)return[];if(!this.g)throw new S(2,2,2008);var n=0,i=[],r,o=[],u=!1,s=!1,a=!1,l=null;if(new Ae().box("moof",Me).box("traf",Me).T("tfdt",function(A){u=!0,n=cf(A.reader,A.version).rf}).T("tfhd",function(A){l=lf(A.reader,A.flags).Cf}).T("trun",function(A){s=!0,i=hf(A.reader,A.version,A.flags).Sf}).box("mdat",Pi(function(A){a=!0,r=A})).parse(e,!1),!a&&!u&&!s)throw new S(2,2,2008);e=n;for(var c=new ge(r,0),f=p(i),h=f.next();!h.done;h=f.next()){h=h.value;var g=h.Ge||l,v=h.Ld?n+h.Ld:e;e=v+(g||0);var T=0;do{var E=c.N();T+=E;var y=c.N(),x=null;bo(y)=="vttc"?8<E&&(x=c.Bb(E-8)):c.skip(E-8),g&&x&&(E=A4(x,t.periodStart+v/this.g,t.periodStart+e/this.g),o.push(E))}while(h.sampleSize&&T<h.sampleSize)}return o.filter(Cn)};function A4(e,t,n){var i,r,o;return new Ae().box("payl",Pi(function(u){i=_e(u)})).box("iden",Pi(function(u){r=_e(u)})).box("sttg",Pi(function(u){o=_e(u)})).parse(e),i?S4(i,r,o,t,n):null}function S4(e,t,n,i,r){if(i=new Se(i,r,""),vm(e,i,new Map),t&&(i.id=t),n)for(e=new ui(n),t=si(e);t;)Em(i,t,[]),Ji(e),t=si(e);return i}R("shaka.text.Mp4VttParser",zt),zt.prototype.parseMedia=zt.prototype.parseMedia,zt.prototype.setSequenceMode=zt.prototype.setSequenceMode,zt.prototype.parseInit=zt.prototype.parseInit,Ke['application/mp4; codecs="wvtt"']=function(){return new zt};function qt(){}qt.prototype.parseInit=function(){},qt.prototype.setSequenceMode=function(){},qt.prototype.parseMedia=function(e){var t=_e(e).replace(/\r+/g,"");if(t=t.trim(),e=[],t=="")return e;t=p(t.split(`

`));for(var n=t.next();!n.done;n=t.next()){n=n.value.split(`
`);var i=new ui(n[0]),r=Am(i),o=On(i,/,/g);if(i=Am(i),r==null||o==null||i==null)throw new S(2,2,2001,"Could not parse cue time range in SubViewer");e.push(new Se(r,i,n.slice(1).join(`
`).trim()))}return e};function Am(e){if(e=On(e,/(?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{2,3})/g),e==null)return null;var t=Number(e[2]),n=Number(e[3]);return 59<t||59<n?null:Number(e[4])/1e3+n+60*t+3600*(Number(e[1])||0)}R("shaka.text.SbvTextParser",qt),qt.prototype.parseMedia=qt.prototype.parseMedia,qt.prototype.setSequenceMode=qt.prototype.setSequenceMode,qt.prototype.parseInit=qt.prototype.parseInit,Ke["text/x-subviewer"]=function(){return new qt};function Nt(){this.g=new ht}Nt.prototype.parseInit=function(){},Nt.prototype.setSequenceMode=function(){},Nt.prototype.parseMedia=function(e,t){return e=_e(e),e=Sm(e),e=ue(kn(e)),this.g.parseMedia(e,t)};function Sm(e){var t=`WEBVTT

`;if(e=="")return t;e=e.replace(/\r+/g,""),e=e.trim(),e=p(e.split(`

`));for(var n=e.next();!n.done;n=e.next())n=n.value.split(/\n/),n[0].match(/\d+/)&&n.shift(),n[0]=n[0].replace(/,/g,"."),t+=n.join(`
`)+`

`;return t}R("shaka.text.SrtTextParser",Nt),Nt.srt2webvtt=Sm,Nt.prototype.parseMedia=Nt.prototype.parseMedia,Nt.prototype.setSequenceMode=Nt.prototype.setSequenceMode,Nt.prototype.parseInit=Nt.prototype.parseInit,Ke["text/srt"]=function(){return new Nt};function Ht(){}Ht.prototype.parseInit=function(){},Ht.prototype.setSequenceMode=function(){},Ht.prototype.parseMedia=function(e){var t="",n="";e=_e(e).split(/\r?\n\s*\r?\n/),e=p(e);for(var i=e.next();!i.done;i=e.next()){var r=I4.exec(i.value);r&&(i=r[1],r=r[2],i=="V4 Styles"||i=="V4+ Styles"?t=r:i=="Events"&&(n=r))}e=[],i=null,t=p(t.split(/\r?\n/));for(var o=t.next();!o.done;o=t.next())if(r=o.value,!/^\s*;/.test(r)&&(o=xm.exec(r))){if(r=o[1].trim(),o=o[2].trim(),r=="Format")i=o.split(os);else if(r=="Style"){r=o.split(os),o={};for(var u=0;u<i.length&&u<r.length;u++)o[i[u]]=r[u];e.push(o)}}for(i=[],t=null,r={},n=p(n.split(/\r?\n/)),o=n.next();!o.done;r={be:r.be},o=n.next())if(o=o.value,!/^\s*;/.test(o)&&(u=xm.exec(o))){if(o=u[1].trim(),u=u[2].trim(),o=="Format")t=u.split(os);else if(o=="Dialogue"){u=u.split(os),o={};for(var s=0;s<t.length&&s<u.length;s++)o[t[s]]=u[s];s=Im(o.Start);var a=Im(o.End);u=new Se(s,a,u.slice(t.length-1).join(",").replace(/\\N/g,`
`).replace(/\{[^}]+\}/g,"")),r.be=o.Style,(o=e.find(function(l){return function(c){return c.Name==l.be}}(r)))&&w4(u,o),i.push(u)}}return i};function w4(e,t){var n=t.Fontname;if(n&&(e.fontFamily=n),(n=t.Fontsize)&&(e.fontSize=n+"px"),(n=t.PrimaryColour)&&(n=wm(n))&&(e.color=n),(n=t.BackColour)&&(n=wm(n))&&(e.backgroundColor=n),t.Bold&&(e.fontWeight=700),t.Italic&&(e.fontStyle="italic"),t.Underline&&e.textDecoration.push("underline"),(n=t.Spacing)&&(e.letterSpacing=n+"px"),n=t.Alignment)switch(parseInt(n,10)){case 1:e.displayAlign=hr,e.textAlign="start";break;case 2:e.displayAlign=hr,e.textAlign=an;break;case 3:e.displayAlign=hr,e.textAlign="end";break;case 5:e.displayAlign="before",e.textAlign="start";break;case 6:e.displayAlign="before",e.textAlign=an;break;case 7:e.displayAlign="before",e.textAlign="end";break;case 9:e.displayAlign="center",e.textAlign="start";break;case 10:e.displayAlign="center",e.textAlign=an;break;case 11:e.displayAlign="center",e.textAlign="end"}(t=t.AlphaLevel)&&(e.opacity=parseFloat(t))}function wm(e){return e=parseInt(e.replace("&H",""),16),0<=e?"rgba("+(e&255)+","+(e>>8&255)+","+(e>>16&255)+","+(e>>24&255^255)/255+")":null}function Im(e){return e=x4.exec(e),3600*(e[1]?parseInt(e[1].replace(":",""),10):0)+60*parseInt(e[2],10)+parseFloat(e[3])}R("shaka.text.SsaTextParser",Ht),Ht.prototype.parseMedia=Ht.prototype.parseMedia,Ht.prototype.setSequenceMode=Ht.prototype.setSequenceMode,Ht.prototype.parseInit=Ht.prototype.parseInit;var I4=/^\s*\[([^\]]+)\]\r?\n([\s\S]*)/,xm=/^\s*([^:]+):\s*(.*)/,os=/\s*,\s*/,x4=/^(\d+:)?(\d{1,2}):(\d{1,2}(?:[.]\d{1,3})?)?$/;Ke["text/x-ssa"]=function(){return new Ht};/*
 @license
 EME Encryption Scheme Polyfill
 Copyright 2019 Google LLC
 SPDX-License-Identifier: Apache-2.0
*/function Cm(){}var uo;function Mm(){uo?console.debug("EmeEncryptionSchemePolyfill: Already installed."):navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration?(uo=navigator.requestMediaKeySystemAccess,console.debug("EmeEncryptionSchemePolyfill: Waiting to detect encryptionScheme support."),navigator.requestMediaKeySystemAccess=C4):console.debug("EmeEncryptionSchemePolyfill: EME not found")}function C4(e,t){var n=this,i;return I(function(r){return r.g==1?(console.assert(n==navigator,'bad "this" for requestMediaKeySystemAccess'),m(r,uo.call(n,e,t),2)):(i=r.h,Om(i)?(console.debug("EmeEncryptionSchemePolyfill: Native encryptionScheme support found."),navigator.requestMediaKeySystemAccess=uo,r.return(i)):(console.debug("EmeEncryptionSchemePolyfill: No native encryptionScheme support found. Patching encryptionScheme support."),navigator.requestMediaKeySystemAccess=km,r.return(km.call(n,e,t))))})}function km(e,t){var n=this,i,r,o,u,s,a,l,c,f,h;return I(function(g){if(g.g==1){for(console.assert(n==navigator,'bad "this" for requestMediaKeySystemAccess'),i=Pm(e),r=[],o=p(t),u=o.next();!u.done;u=o.next())s=u.value,a=Lm(s.videoCapabilities,i),l=Lm(s.audioCapabilities,i),s.videoCapabilities&&s.videoCapabilities.length&&!a.length||s.audioCapabilities&&s.audioCapabilities.length&&!l.length||(c=Object.assign({},s),c.videoCapabilities=a,c.audioCapabilities=l,r.push(c));if(!r.length)throw f=Error("Unsupported keySystem or supportedConfigurations."),f.name="NotSupportedError",f.code=DOMException.NOT_SUPPORTED_ERR,f;return m(g,uo.call(n,e,r),2)}return h=g.h,g.return(new us(h,i))})}function Lm(e,t){return e&&e.filter(function(n){return!n.encryptionScheme||n.encryptionScheme==t})}R("EmeEncryptionSchemePolyfill",Cm),Cm.install=Mm;function Nm(){}var so;function Rm(){so?console.debug("McEncryptionSchemePolyfill: Already installed."):navigator.mediaCapabilities?(so=navigator.mediaCapabilities.decodingInfo,console.debug("McEncryptionSchemePolyfill: Waiting to detect encryptionScheme support."),navigator.mediaCapabilities.decodingInfo=M4):console.debug("McEncryptionSchemePolyfill: MediaCapabilities not found")}function M4(e){var t=this,n,i,r;return I(function(o){switch(o.g){case 1:return console.assert(t==navigator.mediaCapabilities,'bad "this" for decodingInfo'),m(o,so.call(t,e),2);case 2:if(n=o.h,!e.keySystemConfiguration)return o.return(n);if((i=n.keySystemAccess)&&Om(i))return console.debug("McEncryptionSchemePolyfill: Native encryptionScheme support found."),navigator.mediaCapabilities.decodingInfo=so,o.return(n);if(console.debug("McEncryptionSchemePolyfill: No native encryptionScheme support found. Patching encryptionScheme support."),navigator.mediaCapabilities.decodingInfo=_m,i){o.D(3);break}return r=n,m(o,Dm(e),4);case 4:return r.keySystemAccess=o.h,o.return(n);case 3:return o.return(_m.call(t,e))}})}function _m(e){var t=this,n,i,r,o,u,s,a,l;return I(function(c){switch(c.g){case 1:return console.assert(t==navigator.mediaCapabilities,'bad "this" for decodingInfo'),n=null,e.keySystemConfiguration&&(i=e.keySystemConfiguration,r=i.keySystem,o=i.audio&&i.audio.encryptionScheme,u=i.video&&i.video.encryptionScheme,n=Pm(r),s={powerEfficient:!1,smooth:!1,supported:!1,keySystemAccess:null,configuration:e},o&&o!=n||u&&u!=n)?c.return(s):m(c,so.call(t,e),2);case 2:if(a=c.h,a.keySystemAccess){a.keySystemAccess=new us(a.keySystemAccess,n),c.D(3);break}if(!e.keySystemConfiguration){c.D(3);break}return l=a,m(c,Dm(e),5);case 5:l.keySystemAccess=c.h;case 3:return c.return(a)}})}function Dm(e){var t,n;return I(function(i){if(i.g==1){var r=e.keySystemConfiguration,o=[],u=[];return r.audio&&o.push({robustness:r.audio.robustness||"",contentType:e.audio.contentType}),r.video&&u.push({robustness:r.video.robustness||"",contentType:e.video.contentType}),r={initDataTypes:r.initDataType?[r.initDataType]:[],distinctiveIdentifier:r.distinctiveIdentifier,persistentState:r.persistentState,sessionTypes:r.sessionTypes},o.length&&(r.audioCapabilities=o),u.length&&(r.videoCapabilities=u),t=r,m(i,navigator.requestMediaKeySystemAccess(e.keySystemConfiguration.keySystem,[t]),2)}return n=i.h,i.return(n)})}R("McEncryptionSchemePolyfill",Nm),Nm.install=Rm;function us(e,t){this.h=e,this.g=t,this.keySystem=e.keySystem}us.prototype.getConfiguration=function(){var e=this.h.getConfiguration();if(e.videoCapabilities)for(var t=p(e.videoCapabilities),n=t.next();!n.done;n=t.next())n.value.encryptionScheme=this.g;if(e.audioCapabilities)for(t=p(e.audioCapabilities),n=t.next();!n.done;n=t.next())n.value.encryptionScheme=this.g;return e},us.prototype.createMediaKeys=function(){return this.h.createMediaKeys()};function Pm(e){return e.startsWith("com.widevine")||e.startsWith("com.microsoft")||e.startsWith("com.chromecast")||e.startsWith("com.adobe")||e.startsWith("org.w3")?"cenc":e.startsWith("com.apple")?"cbcs-1-9":(console.warn("EmeEncryptionSchemePolyfill: Unknown key system:",e,"Please contribute!"),null)}function Om(e){e=e.getConfiguration();var t=e.audioCapabilities&&e.audioCapabilities[0];return!!((e=e.videoCapabilities&&e.videoCapabilities[0]||t)&&e.encryptionScheme!==void 0)}function gc(){}function Um(){Mm(),Rm()}R("EncryptionSchemePolyfills",gc),gc.install=Um,typeof de<"u"&&de.exports&&(de.exports=gc);/*
	 @license
	 Copyright 2013 Ali Al Dallal

	 Licensed under the MIT license.

	 Permission is hereby granted, free of charge, to any person obtaining a copy
	 of this software and associated documentation files (the "Software"), to deal
	 in the Software without restriction, including without limitation the rights
	 to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
	 copies of the Software, and to permit persons to whom the Software is
	 furnished to do so, subject to the following conditions:

	 The above copyright notice and this permission notice shall be included in
	 all copies or substantial portions of the Software.

	 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
	 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
	 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
	 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
	 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
	 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
	 SOFTWARE.
	*/for(var ci={ach:{u:"Lwo",A:"Acholi"},ady:{u:"Адыгэбзэ",A:"Adyghe"},af:{u:"Afrikaans",A:"Afrikaans"},"af-NA":{u:"Afrikaans (Namibia)",A:"Afrikaans (Namibia)"},"af-ZA":{u:"Afrikaans (South Africa)",A:"Afrikaans (South Africa)"},ak:{u:"Tɕɥi",A:"Akan"},ar:{u:"العربية",A:"Arabic"},"ar-AR":{u:"العربية",A:"Arabic"},"ar-MA":{u:"العربية",A:"Arabic (Morocco)"},"ar-SA":{u:"العربية (السعودية)",A:"Arabic (Saudi Arabia)"},"ay-BO":{u:"Aymar aru",A:"Aymara"},az:{u:"Azərbaycan dili",A:"Azerbaijani"},"az-AZ":{u:"Azərbaycan dili",A:"Azerbaijani"},"be-BY":{u:"Беларуская",A:"Belarusian"},bg:{u:"Български",A:"Bulgarian"},"bg-BG":{u:"Български",A:"Bulgarian"},bn:{u:"বাংলা",A:"Bengali"},"bn-IN":{u:"বাংলা (ভারত)",A:"Bengali (India)"},"bn-BD":{u:"বাংলা(বাংলাদেশ)",A:"Bengali (Bangladesh)"},"bs-BA":{u:"Bosanski",A:"Bosnian"},ca:{u:"Català",A:"Catalan"},"ca-ES":{u:"Català",A:"Catalan"},cak:{u:"Maya Kaqchikel",A:"Kaqchikel"},"ck-US":{u:"ᏣᎳᎩ (tsalagi)",A:"Cherokee"},cs:{u:"Čeština",A:"Czech"},"cs-CZ":{u:"Čeština",A:"Czech"},cy:{u:"Cymraeg",A:"Welsh"},"cy-GB":{u:"Cymraeg",A:"Welsh"},da:{u:"Dansk",A:"Danish"},"da-DK":{u:"Dansk",A:"Danish"},de:{u:"Deutsch",A:"German"},"de-AT":{u:"Deutsch (Österreich)",A:"German (Austria)"},"de-DE":{u:"Deutsch (Deutschland)",A:"German (Germany)"},"de-CH":{u:"Deutsch (Schweiz)",A:"German (Switzerland)"},dsb:{u:"Dolnoserbšćina",A:"Lower Sorbian"},el:{u:"Ελληνικά",A:"Greek"},"el-GR":{u:"Ελληνικά",A:"Greek (Greece)"},en:{u:"English",A:"English"},"en-GB":{u:"English (UK)",A:"English (UK)"},"en-AU":{u:"English (Australia)",A:"English (Australia)"},"en-CA":{u:"English (Canada)",A:"English (Canada)"},"en-IE":{u:"English (Ireland)",A:"English (Ireland)"},"en-IN":{u:"English (India)",A:"English (India)"},"en-PI":{u:"English (Pirate)",A:"English (Pirate)"},"en-UD":{u:"English (Upside Down)",A:"English (Upside Down)"},"en-US":{u:"English (US)",A:"English (US)"},"en-ZA":{u:"English (South Africa)",A:"English (South Africa)"},"en@pirate":{u:"English (Pirate)",A:"English (Pirate)"},eo:{u:"Esperanto",A:"Esperanto"},"eo-EO":{u:"Esperanto",A:"Esperanto"},es:{u:"Español",A:"Spanish"},"es-AR":{u:"Español (Argentine)",A:"Spanish (Argentina)"},"es-419":{u:"Español (Latinoamérica)",A:"Spanish (Latin America)"},"es-CL":{u:"Español (Chile)",A:"Spanish (Chile)"},"es-CO":{u:"Español (Colombia)",A:"Spanish (Colombia)"},"es-EC":{u:"Español (Ecuador)",A:"Spanish (Ecuador)"},"es-ES":{u:"Español (España)",A:"Spanish (Spain)"},"es-LA":{u:"Español (Latinoamérica)",A:"Spanish (Latin America)"},"es-NI":{u:"Español (Nicaragua)",A:"Spanish (Nicaragua)"},"es-MX":{u:"Español (México)",A:"Spanish (Mexico)"},"es-US":{u:"Español (Estados Unidos)",A:"Spanish (United States)"},"es-VE":{u:"Español (Venezuela)",A:"Spanish (Venezuela)"},et:{u:"eesti keel",A:"Estonian"},"et-EE":{u:"Eesti (Estonia)",A:"Estonian (Estonia)"},eu:{u:"Euskara",A:"Basque"},"eu-ES":{u:"Euskara",A:"Basque"},fa:{u:"فارسی",A:"Persian"},"fa-IR":{u:"فارسی",A:"Persian"},"fb-LT":{u:"Leet Speak",A:"Leet"},ff:{u:"Fulah",A:"Fulah"},fi:{u:"Suomi",A:"Finnish"},"fi-FI":{u:"Suomi",A:"Finnish"},"fo-FO":{u:"Føroyskt",A:"Faroese"},fr:{u:"Français",A:"French"},"fr-CA":{u:"Français (Canada)",A:"French (Canada)"},"fr-FR":{u:"Français (France)",A:"French (France)"},"fr-BE":{u:"Français (Belgique)",A:"French (Belgium)"},"fr-CH":{u:"Français (Suisse)",A:"French (Switzerland)"},"fy-NL":{u:"Frysk",A:"Frisian (West)"},ga:{u:"Gaeilge",A:"Irish"},"ga-IE":{u:"Gaeilge (Gaelic)",A:"Irish (Gaelic)"},gl:{u:"Galego",A:"Galician"},"gl-ES":{u:"Galego",A:"Galician"},"gn-PY":{u:"Avañe'ẽ",A:"Guarani"},"gu-IN":{u:"ગુજરાતી",A:"Gujarati"},"gx-GR":{u:"Ἑλληνική ἀρχαία",A:"Classical Greek"},he:{u:"עברית‏",A:"Hebrew"},"he-IL":{u:"עברית‏",A:"Hebrew"},hi:{u:"हिन्दी",A:"Hindi"},"hi-IN":{u:"हिन्दी",A:"Hindi"},hr:{u:"Hrvatski",A:"Croatian"},"hr-HR":{u:"Hrvatski",A:"Croatian"},hsb:{u:"Hornjoserbšćina",A:"Upper Sorbian"},ht:{u:"Kreyòl",A:"Haitian Creole"},hu:{u:"Magyar",A:"Hungarian"},"hu-HU":{u:"Magyar",A:"Hungarian"},"hy-AM":{u:"Հայերեն",A:"Armenian"},id:{u:"Bahasa Indonesia",A:"Indonesian"},"id-ID":{u:"Bahasa Indonesia",A:"Indonesian"},is:{u:"Íslenska",A:"Icelandic"},"is-IS":{u:"Íslenska (Iceland)",A:"Icelandic (Iceland)"},it:{u:"Italiano",A:"Italian"},"it-IT":{u:"Italiano",A:"Italian"},ja:{u:"日本語",A:"Japanese"},"ja-JP":{u:"日本語",A:"Japanese"},"jv-ID":{u:"Basa Jawa",A:"Javanese"},"ka-GE":{u:"ქართული",A:"Georgian"},"kk-KZ":{u:"Қазақша",A:"Kazakh"},km:{u:"ភាសាខ្មែរ",A:"Khmer"},"km-KH":{u:"ភាសាខ្មែរ",A:"Khmer"},kab:{u:"Taqbaylit",A:"Kabyle"},kn:{u:"ಕನ್ನಡ",A:"Kannada"},"kn-IN":{u:"ಕನ್ನಡ (India)",A:"Kannada (India)"},ko:{u:"한국어",A:"Korean"},"ko-KR":{u:"한국어 (韩国)",A:"Korean (Korea)"},ku:{u:"Kurdî",A:"Kurdish"},"ku-TR":{u:"Kurdî",A:"Kurdish"},la:{u:"Latin",A:"Latin"},"la-VA":{u:"Latin",A:"Latin"},lb:{u:"Lëtzebuergesch",A:"Luxembourgish"},"li-NL":{u:"Lèmbörgs",A:"Limburgish"},lt:{u:"Lietuvių",A:"Lithuanian"},"lt-LT":{u:"Lietuvių",A:"Lithuanian"},lv:{u:"Latviešu",A:"Latvian"},"lv-LV":{u:"Latviešu",A:"Latvian"},mai:{u:"मैथिली, মৈথিলী",A:"Maithili"},"mg-MG":{u:"Malagasy",A:"Malagasy"},mk:{u:"Македонски",A:"Macedonian"},"mk-MK":{u:"Македонски (Македонски)",A:"Macedonian (Macedonian)"},ml:{u:"മലയാളം",A:"Malayalam"},"ml-IN":{u:"മലയാളം",A:"Malayalam"},"mn-MN":{u:"Монгол",A:"Mongolian"},mr:{u:"मराठी",A:"Marathi"},"mr-IN":{u:"मराठी",A:"Marathi"},ms:{u:"Bahasa Melayu",A:"Malay"},"ms-MY":{u:"Bahasa Melayu",A:"Malay"},mt:{u:"Malti",A:"Maltese"},"mt-MT":{u:"Malti",A:"Maltese"},my:{u:"ဗမာစကာ",A:"Burmese"},nb:{u:"Norsk (bokmål)",A:"Norwegian (bokmal)"},"nb-NO":{u:"Norsk (bokmål)",A:"Norwegian (bokmal)"},ne:{u:"नेपाली",A:"Nepali"},"ne-NP":{u:"नेपाली",A:"Nepali"},nl:{u:"Nederlands",A:"Dutch"},"nl-BE":{u:"Nederlands (België)",A:"Dutch (Belgium)"},"nl-NL":{u:"Nederlands (Nederland)",A:"Dutch (Netherlands)"},"nn-NO":{u:"Norsk (nynorsk)",A:"Norwegian (nynorsk)"},no:{u:"Norsk",A:"Norwegian"},oc:{u:"Occitan",A:"Occitan"},"or-IN":{u:"ଓଡ଼ିଆ",A:"Oriya"},pa:{u:"ਪੰਜਾਬੀ",A:"Punjabi"},"pa-IN":{u:"ਪੰਜਾਬੀ (ਭਾਰਤ ਨੂੰ)",A:"Punjabi (India)"},pl:{u:"Polski",A:"Polish"},"pl-PL":{u:"Polski",A:"Polish"},"ps-AF":{u:"پښتو",A:"Pashto"},pt:{u:"Português",A:"Portuguese"},"pt-BR":{u:"Português (Brasil)",A:"Portuguese (Brazil)"},"pt-PT":{u:"Português (Portugal)",A:"Portuguese (Portugal)"},"qu-PE":{u:"Qhichwa",A:"Quechua"},"rm-CH":{u:"Rumantsch",A:"Romansh"},ro:{u:"Română",A:"Romanian"},"ro-RO":{u:"Română",A:"Romanian"},ru:{u:"Русский",A:"Russian"},"ru-RU":{u:"Русский",A:"Russian"},"sa-IN":{u:"संस्कृतम्",A:"Sanskrit"},"se-NO":{u:"Davvisámegiella",A:"Northern Sámi"},"si-LK":{u:"පළාත",A:"Sinhala (Sri Lanka)"},sk:{u:"Slovenčina",A:"Slovak"},"sk-SK":{u:"Slovenčina (Slovakia)",A:"Slovak (Slovakia)"},sl:{u:"Slovenščina",A:"Slovenian"},"sl-SI":{u:"Slovenščina",A:"Slovenian"},"so-SO":{u:"Soomaaliga",A:"Somali"},sq:{u:"Shqip",A:"Albanian"},"sq-AL":{u:"Shqip",A:"Albanian"},sr:{u:"Српски",A:"Serbian"},"sr-RS":{u:"Српски (Serbia)",A:"Serbian (Serbia)"},su:{u:"Basa Sunda",A:"Sundanese"},sv:{u:"Svenska",A:"Swedish"},"sv-SE":{u:"Svenska",A:"Swedish"},sw:{u:"Kiswahili",A:"Swahili"},"sw-KE":{u:"Kiswahili",A:"Swahili (Kenya)"},ta:{u:"தமிழ்",A:"Tamil"},"ta-IN":{u:"தமிழ்",A:"Tamil"},te:{u:"తెలుగు",A:"Telugu"},"te-IN":{u:"తెలుగు",A:"Telugu"},tg:{u:"забо́ни тоҷикӣ́",A:"Tajik"},"tg-TJ":{u:"тоҷикӣ",A:"Tajik"},th:{u:"ภาษาไทย",A:"Thai"},"th-TH":{u:"ภาษาไทย (ประเทศไทย)",A:"Thai (Thailand)"},tl:{u:"Filipino",A:"Filipino"},"tl-PH":{u:"Filipino",A:"Filipino"},tlh:{u:"tlhIngan-Hol",A:"Klingon"},tr:{u:"Türkçe",A:"Turkish"},"tr-TR":{u:"Türkçe",A:"Turkish"},"tt-RU":{u:"татарча",A:"Tatar"},uk:{u:"Українська",A:"Ukrainian"},"uk-UA":{u:"Українська",A:"Ukrainian"},ur:{u:"اردو",A:"Urdu"},"ur-PK":{u:"اردو",A:"Urdu"},uz:{u:"O'zbek",A:"Uzbek"},"uz-UZ":{u:"O'zbek",A:"Uzbek"},vi:{u:"Tiếng Việt",A:"Vietnamese"},"vi-VN":{u:"Tiếng Việt",A:"Vietnamese"},"xh-ZA":{u:"isiXhosa",A:"Xhosa"},yi:{u:"ייִדיש",A:"Yiddish"},"yi-DE":{u:"ייִדיש (German)",A:"Yiddish (German)"},zh:{u:"中文",A:"Chinese"},"zh-HANS":{u:"中文简体",A:"Chinese Simplified"},"zh-HANT":{u:"中文繁體",A:"Chinese Traditional"},"zh-CN":{u:"中文（中国）",A:"Chinese Simplified (China)"},"zh-HK":{u:"中文（香港）",A:"Chinese Traditional (Hong Kong)"},"zh-SG":{u:"中文（新加坡）",A:"Chinese Simplified (Singapore)"},"zh-TW":{u:"中文（台灣）",A:"Chinese Traditional (Taiwan)"},"zu-ZA":{u:"isiZulu",A:"Zulu"}},bm=p(Object.keys(ci)),mc=bm.next();!mc.done;mc=bm.next()){var jm=mc.value;ci[jm.toLowerCase()]=ci[jm]}function Q(e,t){var n=this;this.parent=e,this.controls=t,this.eventManager=new ye,this.localization=this.controls.ua,this.player=this.controls.cc(),this.video=this.controls.zb(),this.adManager=this.player.sd(),this.ad=t.getAd(),this.eventManager.o(this.adManager,"ad-started",function(i){n.ad=i.ad}),this.eventManager.o(this.adManager,"ad-stopped",function(){n.ad=null})}Q.prototype.release=function(){this.eventManager.release(),this.ad=this.adManager=this.video=this.player=this.localization=this.eventManager=this.controls=this.parent=null},R("shaka.ui.Element",Q),Q.prototype.release=Q.prototype.release;function Fm(e){return vc(e,"shaka-back-to-overflow-button")}function vc(e,t){return e=e.getElementsByClassName(t),e.length?e[0]:null}function ao(e){e&&(e=vc(e,"shaka-chosen-item"))&&e.parentElement.focus()}function er(){var e=b("i");return e.classList.add("material-icons-round"),e.classList.add("shaka-chosen-item"),e.textContent="done",e.ariaHidden="true",e}function $(e,t){e&&(t?e.classList.remove("shaka-hidden"):e.classList.add("shaka-hidden"))}function tr(e,t){var n=Math.floor(e/3600),i=Math.floor(e/60%60);return e=Math.floor(e%60),10>e&&(e="0"+e),e=i+":"+e,t&&(10>i&&(e="0"+e),e=n+":"+e),e}function ss(e,t){Q.call(this,e,t);var n=this;this.i=b("div"),this.i.classList.add("shaka-ad-counter"),this.parent.appendChild(this.i),this.h=b("span"),this.h.classList.add("shaka-ad-counter-span"),this.i.appendChild(this.h),this.g=new q(function(){var i=Math.round(n.ad.getRemainingTime()),r=n.ad.getDuration();i!=-1&&r!=-1&&(0<i?(i=tr(r-i,!1)+" / "+tr(r,!1),1<n.ad.getSequenceLength()?n.h.textContent=i:(r=n.localization.resolve("AD_TIME"),n.h.textContent=r.replace("[AD_TIME]",i))):(n.g.stop(),n.h.textContent=""))}),this.eventManager.o(this.localization,"locale-updated",function(){}),this.eventManager.o(this.localization,"locale-changed",function(){}),this.eventManager.o(this.adManager,"ad-started",function(){n.g.Aa(),n.g.ha(.5)}),this.eventManager.o(this.adManager,"ad-stopped",function(){n.g.stop(),n.h.textContent=""}),this.ad&&(this.g.Aa(),this.g.ha(.5))}K(ss,Q),ss.prototype.release=function(){this.g.stop(),this.g=null,Q.prototype.release.call(this)},R("shaka.ui.AdCounter",ss);function yc(e,t){Q.call(this,e,t);var n=this;this.g=b("div"),this.g.classList.add("shaka-ad-position"),$(this.g,!1),this.parent.appendChild(this.g),this.h=b("span"),this.h.classList.add("shaka-ad-position-span"),this.g.appendChild(this.h),this.eventManager.o(this.localization,"locale-updated",function(){n.ad&&as(n)}),this.eventManager.o(this.localization,"locale-changed",function(){n.ad&&as(n)}),this.eventManager.o(this.adManager,"ad-started",function(){as(n)}),this.eventManager.o(this.adManager,"ad-stopped",function(){n.h.textContent="",$(n.g,!1)}),this.ad&&as(this)}K(yc,Q);function as(e){var t=e.ad.getSequenceLength();if(1<t){var n=e.ad.getPositionInSequence();e.h.textContent=e.localization.resolve("AD_PROGRESS").replace("[AD_ON]",String(n)).replace("[NUM_ADS]",String(t)),$(e.g,!0)}}R("shaka.ui.AdPosition",yc);function Tn(e,t){Q.call(this,e,t);var n=this;this.button=Be(),this.parent.appendChild(this.button),this.eventManager.o(this.localization,"locale-updated",function(){n.g()}),this.eventManager.o(this.localization,"locale-changed",function(){n.g()}),this.eventManager.o(this.video,"play",function(){n.g(),n.h()}),this.eventManager.o(this.video,"pause",function(){n.g(),n.h()}),this.eventManager.o(this.video,"seeking",function(){n.g(),n.h()}),this.eventManager.o(this.adManager,"ad-paused",function(){n.g(),n.h()}),this.eventManager.o(this.adManager,"ad-resumed",function(){n.g(),n.h()}),this.eventManager.o(this.adManager,"ad-started",function(){n.g(),n.h()}),this.eventManager.o(this.button,"click",function(){n.ad&&n.ad.isLinear()?Xm(n.controls):Hm(n.controls)}),this.ad&&(this.g(),this.h())}K(Tn,Q),Tn.prototype.isPaused=function(){if(this.ad&&this.ad.isLinear())var e=this.ad.isPaused();else e=this.controls,e=e.s.paused&&!e.X;return e},Tn.prototype.g=function(){},Tn.prototype.h=function(){},R("shaka.ui.PlayButton",Tn);function lo(e,t){Tn.call(this,e,t),this.button.classList.add("shaka-play-button"),this.button.classList.add("shaka-no-propagation"),this.h(),this.g()}K(lo,Tn),lo.prototype.h=function(){this.isPaused()?this.button.setAttribute("icon","play"):this.button.setAttribute("icon","pause")},lo.prototype.g=function(){var e=this.isPaused()?"PLAY":"PAUSE";this.button.ariaLabel=this.localization.resolve(e)},R("shaka.ui.BigPlayButton",lo);function co(e,t){Q.call(this,e,t);var n=this;this.j=this.controls.i,this.h=this.controls.g,this.i=[],this.g=b("div"),this.g.classList.add("shaka-no-propagation"),this.g.classList.add("shaka-context-menu"),this.g.classList.add("shaka-hidden"),this.h.appendChild(this.g),this.eventManager.o(this.h,"contextmenu",function(i){if(n.g.classList.contains("shaka-hidden")){i.preventDefault();var r=n.h.getBoundingClientRect();n.g.style.left=i.clientX-r.left+"px",n.g.style.top=i.clientY-r.top+"px",$(n.g,!0)}else $(n.g,!1)}),this.eventManager.o(M,"click",function(){$(n.g,!1)}),k4(this)}K(co,Q),co.prototype.release=function(){this.h=null;for(var e=p(this.i),t=e.next();!t.done;t=e.next())t.value.release();this.i=[],Q.prototype.release.call(this)};function ls(e,t){Bm.set(e,t)}function k4(e){for(var t=p(e.j.contextMenuElements),n=t.next();!n.done;n=t.next()){n=n.value;var i=Bm.get(n);i?e.i.push(i.create(e.g,e.controls)):pe("Unrecognized context menu element:",n)}}R("shaka.ui.ContextMenu",co),co.registerElement=ls;var Bm=new Map;function be(e,t,n,i){Q.call(this,e,t);var r=this;this.container=b("div"),this.container.classList.add("shaka-range-container"),this.container.classList.add.apply(this.container.classList,se(n)),this.g=!1,this.bar=document.createElement("input"),this.l=new q(function(){r.onChangeEnd(),r.g=!1}),this.bar.classList.add("shaka-range-element"),this.bar.classList.add.apply(this.bar.classList,se(i)),this.bar.type="range",this.bar.step="any",this.bar.min="0",this.bar.max="1",this.bar.value="0",this.container.appendChild(this.bar),this.parent.appendChild(this.container),this.eventManager.o(this.bar,"mousedown",function(){r.controls.Mb()&&(r.g=!0,r.onChangeStart())}),this.eventManager.o(this.bar,"touchstart",function(o){r.controls.Mb()&&(r.g=!0,Ec(r,o),r.onChangeStart())}),this.eventManager.o(this.bar,"input",function(){r.onChange()}),this.eventManager.o(this.bar,"touchmove",function(o){r.g&&(Ec(r,o),r.onChange())}),this.eventManager.o(this.bar,"touchend",function(o){r.g&&(r.g=!1,Ec(r,o),r.onChangeEnd())}),this.eventManager.o(this.bar,"mouseup",function(){r.g&&(r.g=!1,r.onChangeEnd())})}K(be,Q),d=be.prototype,d.release=function(){this.l&&(this.l.stop(),this.l=null),Q.prototype.release.call(this)},d.setRange=function(e,t){this.bar.min=e,this.bar.max=t},d.onChangeStart=function(){},d.onChange=function(){},d.onChangeEnd=function(){},d.changeTo=function(e){this.g||(this.g=!0,this.onChangeStart());var t=parseFloat(this.bar.min),n=parseFloat(this.bar.max);this.bar.value=e>n?n:e<t?t:e,this.onChange(),this.l.R(.5)},d.getValue=function(){return parseFloat(this.bar.value)},d.setValue=function(e){this.g||(this.bar.value=e)};function Ec(e,t){t.preventDefault();var n=t.changedTouches[0],i=e.bar.getBoundingClientRect();t=parseFloat(e.bar.min);var r=parseFloat(e.bar.max);n=t+(r-t)/i.width*(n.clientX-i.left),n<t?n=t:n>r&&(n=r),e.bar.value=n}R("shaka.ui.RangeElement",be),be.prototype.setValue=be.prototype.setValue,be.prototype.getValue=be.prototype.getValue,be.prototype.changeTo=be.prototype.changeTo,be.prototype.onChangeEnd=be.prototype.onChangeEnd,be.prototype.onChange=be.prototype.onChange,be.prototype.onChangeStart=be.prototype.onChangeStart,be.prototype.setRange=be.prototype.setRange;function ho(e,t){be.call(this,e,t,["shaka-seek-bar-container"],["shaka-seek-bar","shaka-no-propagation","shaka-show-controls-on-mouse-over"]);var n=this;this.j=b("div"),this.j.classList.add("shaka-ad-markers"),this.container.insertBefore(this.j,this.container.childNodes[0]),this.m=this.controls.i,this.h=new q(function(){n.video.currentTime=n.getValue()}),this.s=new q(function(){Gm(n)}),this.B=!1,this.i=[],this.eventManager.o(this.localization,"locale-updated",function(){return Ac(n)}),this.eventManager.o(this.localization,"locale-changed",function(){return Ac(n)}),this.eventManager.o(this.adManager,"ad-started",function(){Tc(n)||$(n.container,!1)}),this.eventManager.o(this.adManager,"ad-stopped",function(){Tc(n)&&$(n.container,!0)}),this.eventManager.o(this.adManager,"ad-cue-points-changed",function(i){n.i=i.cuepoints,Vm(n)}),this.eventManager.o(this.player,"unloading",function(){n.i=[],Vm(n)}),this.setValue(this.video.currentTime),this.update(),Ac(this),this.ad&&$(this.container,!1)}K(ho,be),d=ho.prototype,d.release=function(){this.h&&(this.h.stop(),this.h=null,this.s.stop(),this.s=null),be.prototype.release.call(this)},d.onChangeStart=function(){this.B=!this.video.paused,this.controls.Qe(!0),this.video.pause()},d.onChange=function(){this.video.duration&&(this.update(),this.h.R(.125))},d.onChangeEnd=function(){this.h.Aa(),this.controls.Qe(!1),this.B&&this.video.play()},d.isShowing=function(){return!this.container.classList.contains("shaka-hidden")},d.update=function(){var e=this.m.seekBarColors,t=this.getValue(),n=this.video.buffered.length,i=n?this.video.buffered.start(0):0,r=n?this.video.buffered.end(n-1):0,o=this.player.Ja(),u=o.end-o.start;this.setRange(o.start,o.end),Tc(this)?($(this.container,!0),n==0?this.container.style.background=e.base:(n=(Math.max(i,o.start)-o.start)/u||0,r=(Math.min(r,o.end)-o.start)/u||0,t=(Math.min(Math.max(t,o.start),o.end)-o.start)/u||0,this.container.style.background="linear-gradient("+["to right",(this.m.showUnbufferedStart?e.base:e.played)+" "+100*n+"%",e.played+" "+100*n+"%",e.played+" "+100*t+"%",e.buffered+" "+100*t+"%",e.buffered+" "+100*r+"%",e.base+" "+100*r+"%"].join()+")")):$(this.container,!1)};function Gm(e){if(e.i.length){for(var t=e.player.Ja(),n=t.end-t.start,i=["to right"],r=[],o=e.m.seekBarColors.adBreaks,u=!1,s=p(e.i),a=s.next();!a.done;a=s.next())if(a=a.value,a.start!=-1||a.end||(u=!0),a.start>=t.start&&a.start<t.end&&!(a.end&&a.end>t.end)){var l=(a.start-t.start)/n||0,c=l+.01;a.end&&(c=(a.end-t.start)/n||0),r.push({start:l,end:c})}for(t=p(r),a=t.next();!a.done;a=t.next())n=a.value,i.push("transparent "+100*n.start+"%"),i.push(o+" "+100*n.start+"%"),i.push(o+" "+100*n.end+"%"),i.push("transparent "+100*n.end+"%");u&&(i.push("transparent 99%"),i.push(o+" 99%")),e.j.style.background="linear-gradient("+i.join(",")+")"}else e.j.style.background="transparent"}function Vm(e){Gm(e);var t=e.player.Ja();t=t.end-t.start,e.player.U()&&5<t&&e.s.ha(1)}function Tc(e){var t=e.player.Ja();return t=t.end-t.start,e.player.U()&&5>t?!1:e.ad==null||!e.ad.isLinear()}function Ac(e){e.bar.ariaLabel=e.localization.resolve("SEEK")}R("shaka.ui.SeekBar",ho);function Sc(){}Sc.prototype.create=function(e,t){return new ho(e,t)},ho.Factory=Sc;function O(e,t,n,i){oe.call(this);var r=this;this.P=!0,this.i=i,this.C=new Ne(n,e,this.i.castReceiverAppId,this.i.castAndroidReceiverCompatible),this.Za=!0,this.s=this.C.zb(),this.B=n,this.F=this.C.cc(),this.sa=e,this.j=t,this.Xa=this.F.sd(),this.l=this.m=null,this.X=!1,this.G=[],this.ub=[],this.gb=!1,this.Z=new q(function(){r.j.style.cursor="none",r.gb=!1,Xt(r)}),this.aa=new q(function(){r.g.removeAttribute("shown"),r.I.R(2)}),this.I=new q(function(){for(var o=p(r.G),u=o.next();!u.done;u=o.next())$(u.value,!1)}),this.La=new q(function(){r.Mb()&&hs(r)}),this.J=null,this.H=[],this.ua=V4(),this.h=new ye,this.configure(this.i),b4(this),this.ka=new Set,wc(this),this.La.ha(.125),this.h.o(this.ua,"locale-changed",function(o){r.Xa.setLocale(o.locales[0])})}K(O,oe),d=O.prototype,d.destroy=function(){var e=this;return I(function(t){switch(t.g){case 1:if(document.pictureInPictureElement!=e.B){t.D(2);break}return m(t,document.exitPictureInPicture(),2);case 2:if(e.h&&(e.h.release(),e.h=null),e.Z&&(e.Z.stop(),e.Z=null),e.aa&&(e.aa.stop(),e.aa=null),e.I&&(e.I.stop(),e.I=null),e.La&&(e.La.stop(),e.La=null),Km(e),e.g&&(e.j.removeChild(e.g),e.g=null),!e.C){t.D(4);break}return m(t,e.C.destroy(),5);case 5:e.C=null;case 4:if(!e.sa){t.D(6);break}return m(t,e.sa.destroy(),7);case 7:e.sa=null;case 6:e.F=null,e.B=null,e.s=null,e.ua=null,e.ka.clear(),oe.prototype.release.call(e),P(t)}})};function Km(e){for(var t=p(e.H),n=t.next();!n.done;n=t.next())n.value.release();e.H=[]}function Je(e,t){Ic.set(e,t)}d.ng=function(e){this.Za=e,wc(this)},d.hh=function(){Xt(this)},d.configure=function(e){this.i=e,this.C.yf(e.castReceiverAppId,e.castAndroidReceiverCompatible),this.l&&(this.l=null),this.fb&&(this.fb=null),this.Ya&&(this.Ya=null),this.g?(ii(this.g),Km(this)):(L4(this),U4(this)),this.j.classList.add("shaka-video-container"),this.B.classList.add("shaka-video"),R4(this),this.i.addBigPlayButton&&N4(this),this.i.customContextMenu&&(this.Ya=new co(this.V,this),this.H.push(this.Ya)),this.$||D4(this),this.$a=b("div"),this.$a.classList.add("shaka-server-side-ad-container"),this.g.appendChild(this.$a),P4(this),this.G=Array.from(this.j.getElementsByClassName("shaka-settings-menu")),this.G.push.apply(this.G,se(Array.from(this.j.getElementsByClassName("shaka-overflow-menu")))),O4(this),this.ub=Array.from(this.j.getElementsByClassName("shaka-show-controls-on-mouse-over")),Xt(this),e=p(this.j.getElementsByClassName("shaka-no-propagation"));for(var t=e.next();!t.done;t=e.next()){t=t.value;var n=function(i){return i.stopPropagation()};this.h.o(t,"click",n),this.h.o(t,"dblclick",n)}},d.Me=function(e){(this.P=e)?(this.j.setAttribute("shaka-controls","true"),this.B.tabIndex=-1,this.B.controls=!1):this.j.removeAttribute("shaka-controls"),Xt(this)},d.Wf=function(e){this.B.controls=e,this.B.tabIndex=e?0:-1,e&&this.Me(!1)},d.getAd=function(){return this.m},d.Ag=function(){return this.C},d.Mg=function(){return this.ua},d.ah=function(){return this.j},d.zb=function(){return this.s},d.Lg=function(){return this.B},d.cc=function(){return this.F},d.Kg=function(){return this.sa},d.Fg=function(){return this.g},d.Ug=function(){return this.$a},d.Cg=function(){return this.O},d.Dg=function(){return this.i},d.gh=function(){return this.X},d.Qe=function(e){this.X=e},d.eh=function(){return this.Za},d.Hf=function(){return this.l?this.l.getValue():this.s.currentTime},d.Xf=function(e){this.J=e},d.md=function(){return this.G.some(function(e){return!e.classList.contains("shaka-hidden")})},d.fc=function(){this.I.Aa()},d.xd=function(){return!!(document.fullscreenEnabled||this.B.webkitSupportsFullscreen)},d.ic=function(){if(document.fullscreenEnabled)return!!document.fullscreenElement;var e=this.B;return e.webkitSupportsFullscreen?e.webkitDisplayingFullscreen:!1};function zm(e){var t,n;return I(function(i){switch(i.g){case 1:if(ee(i,2),!document.fullscreenEnabled){t=e.B,t.webkitSupportsFullscreen&&t.webkitEnterFullscreen(),i.D(4);break}if(!document.pictureInPictureElement){i.D(5);break}return m(i,document.exitPictureInPicture(),5);case 5:return m(i,e.j.requestFullscreen({navigationUI:"hide"}),7);case 7:if(!e.i.forceLandscapeOnFullscreen||!screen.orientation){i.D(4);break}return ee(i,9),m(i,screen.orientation.lock("landscape"),11);case 11:le(i,4,2);break;case 9:te(i,2);case 4:le(i,0);break;case 2:n=te(i),e.dispatchEvent(new U("error",new Map().set("detail",n))),P(i)}})}function qm(e){var t;return I(function(n){return document.fullscreenEnabled?(screen.orientation&&screen.orientation.unlock(),m(n,document.exitFullscreen(),0)):(t=e.B,t.webkitSupportsFullscreen&&t.webkitExitFullscreen(),n.D(0))})}d.Xe=function(){var e=this;return I(function(t){return e.ic()?m(t,qm(e),0):m(t,zm(e),0)})},d.ag=function(){$(this.K,!0),$(this.O,!0),this.g.setAttribute("ad-active","true")},d.Kf=function(){$(this.K,!1),$(this.O,!1),this.g.removeAttribute("ad-active")};function Hm(e){e.P&&e.s.duration&&(e.F.vf(),e.s.paused&&!e.X?e.s.play():e.s.pause())}function Xm(e){e.m&&e.m.isPaused()?e.m.play():e.m&&e.m.pause()}function L4(e){e.g=b("div"),e.g.classList.add("shaka-controls-container"),e.j.appendChild(e.g),e.j.setAttribute("shaka-controls","true"),e.h.o(e.g,"touchstart",function(t){e.s.duration&&(e.Mb()?e.J=Date.now():(fo(e,t),t.cancelable&&t.preventDefault()))},{passive:!1}),e.h.o(e.g,"click",function(){Wm(e)}),e.h.o(e.g,"dblclick",function(){e.i.doubleClickForFullscreen&&e.xd()&&e.Xe()})}function N4(e){var t=b("div");t.classList.add("shaka-play-button-container"),e.g.appendChild(t),e.fb=new lo(t,e),e.H.push(e.fb)}function R4(e){var t=b("div");t.classList.add("shaka-scrim-container"),e.g.appendChild(t)}function _4(e){e.K=b("div"),e.K.classList.add("shaka-ad-controls");var t=e.m!=null&&e.m.isLinear();$(e.K,t),e.M.appendChild(e.K),t=new yc(e.K,e),e.H.push(t),t=new ss(e.K,e),e.H.push(t)}function D4(e){e.$=b("div"),e.$.classList.add("shaka-spinner-container"),e.j.appendChild(e.$);var t=b("div");t.classList.add("shaka-spinner"),e.$.appendChild(t),e=document.createElementNS("http://www.w3.org/2000/svg","svg"),e.classList.add("shaka-spinner-svg"),e.setAttribute("viewBox","0 0 30 30"),t.appendChild(e),t=document.createElementNS("http://www.w3.org/2000/svg","circle"),t.classList.add("shaka-spinner-path"),t.setAttribute("cx","15"),t.setAttribute("cy","15"),t.setAttribute("r","14.5"),t.setAttribute("fill","none"),t.setAttribute("stroke-width","1"),t.setAttribute("stroke-miterlimit","10"),e.appendChild(t)}function P4(e){e.M=b("div"),e.M.classList.add("shaka-bottom-controls"),e.M.classList.add("shaka-no-propagation"),e.g.appendChild(e.M),e.h.o(e.M,"click",function(i){i.target.closest(".shaka-overflow-button")||e.fc()}),_4(e),e.V=b("div"),e.V.classList.add("shaka-controls-button-panel"),e.V.classList.add("shaka-show-controls-on-mouse-over"),e.i.enableTooltips&&e.V.classList.add("shaka-tooltips-on"),e.M.appendChild(e.V);for(var t=p(e.i.controlPanelElements),n=t.next();!n.done;n=t.next())n=n.value,Ic.get(n)?(n=Ic.get(n).create(e.V,e),e.H.push(n)):pe("Unrecognized control panel element requested:",n)}function O4(e){if(e.i.addSeekBar)e.l=Jm.create(e.M,e),e.H.push(e.l);else{e=p(e.G);for(var t=e.next();!t.done;t=e.next())t.value.classList.add("shaka-low-position")}}function U4(e){e.O=b("div"),e.O.classList.add("shaka-client-side-ad-container"),$(e.O,!1),e.h.o(e.O,"click",function(){Wm(e)}),e.j.appendChild(e.O)}function b4(e){e.h.o(e.F,"buffering",function(){e.P&&$(e.$,e.F.Pc())}),e.P&&$(e.$,e.F.Pc()),e.h.o(M,"keydown",function(t){B4(e,t)}),e.h.o(M,"click",function(){return e.fc()}),e.h.o(e,"submenuopen",function(){e.fc()}),e.h.o(e.s,"play",function(){Xt(e)}),e.h.o(e.s,"pause",function(){Xt(e)}),e.h.o(e.j,"mousemove",function(t){fo(e,t)}),e.h.o(e.j,"touchmove",function(t){fo(e,t)},{passive:!0}),e.h.o(e.j,"touchend",function(t){fo(e,t)},{passive:!0}),e.h.o(e.j,"mouseleave",function(){e.J||e.Z.Aa()}),e.h.o(e.C,"caststatuschanged",function(){wc(e)}),e.h.o(e.j,"keydown",function(t){var n=document.activeElement,i=n&&n.classList?n.classList.contains("shaka-volume-bar"):!1,r=n&&n.classList&&n.classList.contains("shaka-seek-bar");if(e.g.contains(n)&&fo(e,t),e.i.enableKeyboardPlaybackControls)switch(n=e.i.keyboardSeekDistance,t.key){case"ArrowLeft":e.l&&!i&&0<n&&(t.preventDefault(),cs(e,e.l.getValue()-n));break;case"ArrowRight":e.l&&!i&&0<n&&(t.preventDefault(),cs(e,e.l.getValue()+n));break;case"Home":e.l&&cs(e,e.F.Ja().start);break;case"End":e.l&&cs(e,e.F.Ja().end);break;case" ":r&&Ym(e)}}),e.h.o(e.j,"keyup",function(t){e.ka.delete(t.key)}),e.h.o(e.Xa,"ad-started",function(t){e.m=t.ad,e.ag()}),e.h.o(e.Xa,"ad-stopped",function(){e.m=null,e.Kf()}),screen.orientation&&e.h.o(screen.orientation,"change",function(){return I(function(t){return m(t,j4(e),0)})})}function j4(e){return I(function(t){return e.s&&e.s.readyState!=0&&!e.C.na()&&e.i.enableFullscreenOnRotation&&e.xd()?screen.orientation.type.includes("landscape")&&!e.ic()?m(t,zm(e),0):screen.orientation.type.includes("portrait")&&e.ic()?m(t,qm(e),0):t.D(0):t.return()})}function fo(e,t){t.type=="mousemove"&&(e.g.classList.remove("shaka-keyboard-navigation"),Xt(e)),t.type=="touchstart"||t.type=="touchmove"||t.type=="touchend"||t.type=="keyup"?e.J=Date.now():e.J+1e3<Date.now()&&(e.J=null),e.J&&t.type=="mousemove"||(e.j.style.cursor="",e.gb=!0,e.I.stop(),e.Mb()||(hs(e),Xt(e)),e.Z.stop(),t.type!="touchend"&&t.type!="keyup"&&e.J||e.Z.R(3))}function F4(e){return M.matchMedia("hover: hover").matches?e.ub.some(function(t){return t.matches(":hover")}):!1}function Xt(e){var t=e.m?e.m.isPaused():!1,n=e.s.paused&&!e.X,i=e.g.classList.contains("shaka-keyboard-navigation");t||(!e.m||!e.m.isLinear())&&n||e.gb||i||F4(e)?(hs(e),e.g.setAttribute("shown","true"),e.aa.stop()):e.aa.R(e.i.fadeDelay)}function Wm(e){e.P&&(e.md()?e.I.Aa():e.i.singleClickForPlayAndPause&&Ym(e))}function Ym(e){e.m&&e.m.isLinear()?Xm(e):Hm(e)}function wc(e){var t=e.C.na();e.dispatchEvent(new U("caststatuschanged",new Map().set("newStatus",t))),t?e.g.setAttribute("casting","true"):e.g.removeAttribute("casting")}d.Mb=function(){return this.P?this.g.getAttribute("shown")!=null||this.g.getAttribute("casting")!=null:!1};function cs(e,t){e.l.changeTo(t),e.Mb()&&hs(e)}function hs(e){if(e.l)if(e.l.setValue(e.s.currentTime),e.l.update(),e.l.isShowing())for(var t=p(e.G),n=t.next();!n.done;n=t.next())n.value.classList.remove("shaka-low-position");else for(t=p(e.G),n=t.next();!n.done;n=t.next())n.value.classList.add("shaka-low-position");e.dispatchEvent(new U("timeandseekrangeupdated"))}function B4(e,t){e.ka.add(t.key);var n=e.md();t.key=="Tab"&&(e.g.classList.add("shaka-keyboard-navigation"),Xt(e),e.h.o(M,"mousedown",function(){e.h.qc(M,"mousedown")})),t.key=="Escape"&&e.I.Aa(),n&&e.ka.has("Tab")&&G4(e,t)}function G4(e,t){var n=e.G.filter(function(o){return!o.classList.contains("shaka-hidden")});if(n.length){var i=n[0];if(i.childNodes.length){for(n=i.firstElementChild;n&&n.classList.contains("shaka-hidden");)n=n.nextElementSibling;for(i=i.lastElementChild;i&&i.classList.contains("shaka-hidden");)i=i.previousElementSibling;var r=document.activeElement;e.ka.has("Shift")?r==n&&(t.preventDefault(),i.focus()):r==i&&(t.preventDefault(),n.focus())}}}function V4(){var e=new Ve("en");return e.ea("ar",new Map([["AD_DURATION","مدة الإعلان"],["AD_PROGRESS","الإعلان [AD_ON] من [NUM_ADS]"],["AD_TIME","الإعلان: [AD_TIME]"],["AUTO_QUALITY","تلقائي"],["BACK","رجوع"],["CAPTIONS","الترجمة والشرح"],["CAST","إرسال..."],["ENTER_LOOP_MODE","تكرار الفيديو الحالي"],["ENTER_PICTURE_IN_PICTURE",'الدخول في وضع "نافذة ضمن نافذة"'],["EXIT_FULL_SCREEN","إنهاء وضع ملء الشاشة"],["EXIT_LOOP_MODE","إيقاف تكرار الفيديو الحالي"],["EXIT_PICTURE_IN_PICTURE",'الخروج من وضع "نافذة ضمن نافذة"'],["FAST_FORWARD","تقديم سريع"],["FULL_SCREEN","ملء الشاشة"],["LANGUAGE","اللغة"],["LIVE","مباشر"],["LOOP","تكرار"],["MORE_SETTINGS","مزيد من الإعدادات"],["MULTIPLE_LANGUAGES","لغات متعددة"],["MUTE","كتم الصوت"],["NOT_APPLICABLE","غير سارٍ"],["OFF","إيقاف"],["ON","تشغيل"],["PAUSE","إيقاف مؤقت"],["PICTURE_IN_PICTURE","نافذة ضمن النافذة"],["PLAY","التشغيل"],["PLAYBACK_RATE","سرعة التشغيل"],["RESOLUTION","درجة الدقة"],["REWIND","ترجيع"],["SEEK","البحث بالتمرير"],["SKIP_AD","تخطّي الإعلان"],["SKIP_TO_LIVE","الانتقال إلى بث مباشر"],["UNDETERMINED_LANGUAGE","غير محدد"],["UNMUTE","إعادة الصوت"],["UNRECOGNIZED_LANGUAGE","غير معروف"],["VOLUME","مستوى الصوت"]])),e.ea("de",new Map([["AD_DURATION","Dauer der Werbeanzeige"],["AD_PROGRESS","Werbung [AD_ON] von [NUM_ADS]"],["AD_TIME","Werbeanzeige: [AD_TIME]"],["AUTO_QUALITY","Automatisch"],["BACK","Zurück"],["CAPTIONS","Untertitel"],["CAST","Streamen..."],["ENTER_LOOP_MODE","In Endlosschleife spielen"],["ENTER_PICTURE_IN_PICTURE","Bild-im-Bild-Modus aktivieren"],["EXIT_FULL_SCREEN","Vollbildmodus beenden"],["EXIT_LOOP_MODE","Endlosschleife stoppen"],["EXIT_PICTURE_IN_PICTURE","Bild-im-Bild-Modus beenden"],["FAST_FORWARD","Vorspulen"],["FULL_SCREEN","Vollbildmodus"],["LANGUAGE","Sprache"],["LIVE","Live"],["LOOP","Schleife"],["MORE_SETTINGS","Weitere Einstellungen"],["MULTIPLE_LANGUAGES","Mehrere Sprachen"],["MUTE","Stummschalten"],["NOT_APPLICABLE","Nicht zutreffend"],["OFF","Aus"],["ON","Ein"],["PAUSE","Pause"],["PICTURE_IN_PICTURE","Bild im Bild"],["PLAY","Wiedergabe"],["PLAYBACK_RATE","Geschwindigkeit"],["RESOLUTION","Auflösung"],["REWIND","Zurückspulen"],["SEEK","Suche"],["SKIP_AD","Überspringen"],["SKIP_TO_LIVE","Zum Live-Videostream wechseln"],["UNDETERMINED_LANGUAGE","Unbestimmt"],["UNMUTE","Stummschaltung aufheben"],["UNRECOGNIZED_LANGUAGE","Unbekannt"],["VOLUME","Lautstärke"]])),e.ea("en",new Map([["AD_DURATION","Ad duration"],["AD_PROGRESS","Ad [AD_ON] of [NUM_ADS]"],["AD_TIME","Ad: [AD_TIME]"],["AIRPLAY","AirPlay"],["AUTO_QUALITY","Auto"],["BACK","Back"],["CAPTIONS","Captions"],["CAST","Cast..."],["ENTER_LOOP_MODE","Loop the current video"],["ENTER_PICTURE_IN_PICTURE","Enter Picture-in-Picture"],["EXIT_FULL_SCREEN","Exit full screen"],["EXIT_LOOP_MODE","Stop looping the current video"],["EXIT_PICTURE_IN_PICTURE","Exit Picture-in-Picture"],["FAST_FORWARD","Fast-forward"],["FULL_SCREEN","Full screen"],["LANGUAGE","Language"],["LIVE","Live"],["LOOP","Loop"],["MORE_SETTINGS","More settings"],["MULTIPLE_LANGUAGES","Multiple languages"],["MUTE","Mute"],["NOT_APPLICABLE","Not applicable"],["OFF","Off"],["ON","On"],["PAUSE","Pause"],["PICTURE_IN_PICTURE","Picture-in-Picture"],["PLAY","Play"],["PLAYBACK_RATE","Playback speed"],["QUALITY","Quality"],["REPLAY","Replay"],["RESOLUTION","Resolution"],["REWIND","Rewind"],["SEEK","Seek"],["SKIP_AD","Skip Ad"],["SKIP_TO_LIVE","Skip ahead to live"],["STATISTICS","Statistics"],["SUBTITLE_FORCED","Forced"],["UNDETERMINED_LANGUAGE","Undetermined"],["UNMUTE","Unmute"],["UNRECOGNIZED_LANGUAGE","Unrecognized"],["VOLUME","Volume"]])),e.ea("en-GB",new Map([["AD_DURATION","Ad duration"],["AD_PROGRESS","Ad [AD_ON] of [NUM_ADS]"],["AD_TIME","Ad: [AD_TIME]"],["AUTO_QUALITY","Auto"],["BACK","Back"],["CAPTIONS","Captions"],["CAST","Cast..."],["ENTER_LOOP_MODE","Loop the current video"],["ENTER_PICTURE_IN_PICTURE","Enter picture-in-picture"],["EXIT_FULL_SCREEN","Exit full screen"],["EXIT_LOOP_MODE","Stop looping the current video"],["EXIT_PICTURE_IN_PICTURE","Exit picture-in-picture"],["FAST_FORWARD","Fast-forward"],["FULL_SCREEN","Full screen"],["LANGUAGE","Language"],["LIVE","Live"],["LOOP","Loop"],["MORE_SETTINGS","More settings"],["MULTIPLE_LANGUAGES","Multiple languages"],["MUTE","Mute"],["NOT_APPLICABLE","Not applicable"],["OFF","Off"],["ON","On"],["PAUSE","Pause"],["PICTURE_IN_PICTURE","Picture-in-picture"],["PLAY","Play"],["PLAYBACK_RATE","Playback speed"],["RESOLUTION","Resolution"],["REWIND","Rewind"],["SEEK","Seek"],["SKIP_AD","Skip ad"],["SKIP_TO_LIVE","Skip ahead to live"],["UNDETERMINED_LANGUAGE","Undetermined"],["UNMUTE","Unmute"],["UNRECOGNIZED_LANGUAGE","Unrecognised"],["VOLUME","volume"]])),e.ea("es",new Map([["AD_DURATION","Duración del anuncio"],["AD_PROGRESS","Anuncio [AD_ON] de [NUM_ADS]"],["AD_TIME","Anuncio: [AD_TIME]"],["AUTO_QUALITY","Automático"],["BACK","Atrás"],["CAPTIONS","Subtítulos"],["CAST","Enviar..."],["ENTER_LOOP_MODE","Reproducir en bucle el vídeo actual"],["ENTER_PICTURE_IN_PICTURE","Activar el modo imagen en imagen"],["EXIT_FULL_SCREEN","Salir del modo de pantalla completa"],["EXIT_LOOP_MODE","Dejar de reproducir en bucle el vídeo actual"],["EXIT_PICTURE_IN_PICTURE","Salir del modo imagen en imagen"],["FAST_FORWARD","Avanzar rápidamente"],["FULL_SCREEN","Pantalla completa"],["LANGUAGE","Idioma"],["LIVE","En directo"],["LOOP","Reproducir en bucle"],["MORE_SETTINGS","Más ajustes"],["MULTIPLE_LANGUAGES","Varios idiomas"],["MUTE","Silenciar"],["NOT_APPLICABLE","No aplicable"],["OFF","Desactivado"],["ON","Activado"],["PAUSE","Pausar"],["PICTURE_IN_PICTURE","Imagen en imagen"],["PLAY","Reproducir"],["PLAYBACK_RATE","Velocidad de reproducción"],["RESOLUTION","Resolución"],["REWIND","Rebobinar"],["SEEK","Buscar"],["SKIP_AD","Saltar anuncio"],["SKIP_TO_LIVE","Ir al vídeo en directo"],["SUBTITLE_FORCED","Forzado"],["UNDETERMINED_LANGUAGE","Sin especificar"],["UNMUTE","Activar sonido"],["UNRECOGNIZED_LANGUAGE","No reconocida"],["VOLUME","Volumen"]])),e.ea("es-419",new Map([["AD_DURATION","Duración del anuncio"],["AD_PROGRESS","Anuncio [AD_ON] de [NUM_ADS]"],["AD_TIME","Anuncio: [AD_TIME]"],["AUTO_QUALITY","Automático"],["BACK","Atrás"],["CAPTIONS","Subtítulos"],["CAST","Transmitir..."],["ENTER_LOOP_MODE","Repetir indefinidamente el video actual"],["ENTER_PICTURE_IN_PICTURE","Ingresar al modo de pantalla en pantalla"],["EXIT_FULL_SCREEN","Salir de pantalla completa"],["EXIT_LOOP_MODE","Detener la repetición indefinida del video actual"],["EXIT_PICTURE_IN_PICTURE","Salir del modo de pantalla en pantalla"],["FAST_FORWARD","Avanzar"],["FULL_SCREEN","Pantalla completa"],["LANGUAGE","Idioma"],["LIVE","En directo"],["LOOP","Repetir indefinidamente"],["MORE_SETTINGS","Más opciones de configuración"],["MULTIPLE_LANGUAGES","Varios idiomas"],["MUTE","Silenciar"],["NOT_APPLICABLE","No aplicable"],["OFF","Desactivado"],["ON","Activado"],["PAUSE","Detener"],["PICTURE_IN_PICTURE","Pantalla en pantalla"],["PLAY","Reproducir"],["PLAYBACK_RATE","Velocidad de reproducción"],["RESOLUTION","Resolución"],["REWIND","Retroceder"],["SEEK","Buscar"],["SKIP_AD","Omitir anuncio"],["SKIP_TO_LIVE","Adelantar hasta la transmisión en vivo"],["SUBTITLE_FORCED","Forzado"],["UNDETERMINED_LANGUAGE","Sin especificar"],["UNMUTE","Dejar de silenciar"],["UNRECOGNIZED_LANGUAGE","No reconocida"],["VOLUME","Volumen"]])),e.ea("fr",new Map([["AD_DURATION","Durée de l'annonce"],["AD_PROGRESS","Annonce [AD_ON] sur [NUM_ADS]"],["AD_TIME","Annonce : [AD_TIME]"],["AUTO_QUALITY","Automatique"],["BACK","Retour"],["CAPTIONS","Sous-titres"],["CAST","Caster…"],["ENTER_LOOP_MODE","Lire en boucle la vidéo en cours"],["ENTER_PICTURE_IN_PICTURE","Utiliser le mode Picture-in-Picture"],["EXIT_FULL_SCREEN","Quitter le mode plein écran"],["EXIT_LOOP_MODE","Arrêter la lecture en boucle de la vidéo en cours"],["EXIT_PICTURE_IN_PICTURE","Quitter le mode PIP (Picture-in-picture)"],["FAST_FORWARD","Avance rapide"],["FULL_SCREEN","Plein écran"],["LANGUAGE","Langue"],["LIVE","En direct"],["LOOP","Répéter"],["MORE_SETTINGS","Plus de paramètres"],["MULTIPLE_LANGUAGES","Plusieurs langues"],["MUTE","Couper le son"],["NOT_APPLICABLE","Non applicable"],["OFF","Désactivée"],["ON","Activée"],["PAUSE","Pause"],["PICTURE_IN_PICTURE","Picture-in-Picture"],["PLAY","Visionner"],["PLAYBACK_RATE","Vitesse de lecture"],["RESOLUTION","Résolution"],["REWIND","Retour arrière"],["SEEK","Chercher"],["SKIP_AD","Passer l'annonce"],["SKIP_TO_LIVE","Accéder à la partie la plus récente du direct"],["UNDETERMINED_LANGUAGE","Langue indéterminée"],["UNMUTE","Réactiver le son"],["UNRECOGNIZED_LANGUAGE","Non reconnu"],["VOLUME","Volume"]])),e.ea("it",new Map([["AD_DURATION","Durata dell'annuncio"],["AD_PROGRESS","Annuncio [AD_ON] di [NUM_ADS]"],["AD_TIME","Annuncio: [AD_TIME]"],["AUTO_QUALITY","Automatica"],["BACK","Indietro"],["CAPTIONS","Sottotitoli"],["CAST","Trasmetti..."],["ENTER_LOOP_MODE","Riproduci in loop il video corrente"],["ENTER_PICTURE_IN_PICTURE","Attiva Picture in picture"],["EXIT_FULL_SCREEN","Esci da schermo intero"],["EXIT_LOOP_MODE","Interrompi riproduzione in loop del video corrente"],["EXIT_PICTURE_IN_PICTURE","Esci da Picture in picture"],["FAST_FORWARD","Avanti veloce"],["FULL_SCREEN","Schermo intero"],["LANGUAGE","Lingua"],["LIVE","Dal vivo"],["LOOP","Riproduci in loop"],["MORE_SETTINGS","Altre impostazioni"],["MULTIPLE_LANGUAGES","Più lingue"],["MUTE","Disattiva audio"],["NOT_APPLICABLE","Non applicabile"],["OFF","Disattivo"],["ON","Attivo"],["PAUSE","Metti in pausa"],["PICTURE_IN_PICTURE","Picture in picture"],["PLAY","Riproduci"],["PLAYBACK_RATE","Velocità di riproduzione"],["RESOLUTION","Risoluzione"],["REWIND","Riavvolgi"],["SEEK","Cerca"],["SKIP_AD","Salta annuncio"],["SKIP_TO_LIVE","Passa alla trasmissione dal vivo"],["UNDETERMINED_LANGUAGE","Indeterminata"],["UNMUTE","Riattiva audio"],["UNRECOGNIZED_LANGUAGE","Non riconosciuto"],["VOLUME","Volume"]])),e.ea("ja",new Map([["AD_DURATION","広告再生時間"],["AD_PROGRESS","[AD_ON] 番目の広告（全 [NUM_ADS] 個）"],["AD_TIME","広告: [AD_TIME]"],["AUTO_QUALITY","自動"],["BACK","戻る"],["CAPTIONS","字幕"],["CAST","キャスト..."],["ENTER_LOOP_MODE","現在の動画をループ再生"],["ENTER_PICTURE_IN_PICTURE","ピクチャー イン ピクチャーを開始"],["EXIT_FULL_SCREEN","全画面表示を終了"],["EXIT_LOOP_MODE","現在の動画のループ再生を停止"],["EXIT_PICTURE_IN_PICTURE","ピクチャー イン ピクチャーを終了"],["FAST_FORWARD","早送り"],["FULL_SCREEN","全画面表示"],["LANGUAGE","言語"],["LIVE","ライブ"],["LOOP","ループ"],["MORE_SETTINGS","詳細設定"],["MULTIPLE_LANGUAGES","多言語"],["MUTE","ミュート"],["NOT_APPLICABLE","該当なし"],["OFF","オフ"],["ON","オン"],["PAUSE","一時停止"],["PICTURE_IN_PICTURE","ピクチャー イン ピクチャー"],["PLAY","再生"],["PLAYBACK_RATE","再生速度"],["RESOLUTION","解像度"],["REWIND","巻き戻し"],["SEEK","シーク再生"],["SKIP_AD","広告をスキップ"],["SKIP_TO_LIVE","ライブ配信までスキップ"],["UNDETERMINED_LANGUAGE","不明"],["UNMUTE","ミュートを解除"],["UNRECOGNIZED_LANGUAGE","不明"],["VOLUME","音量"]])),e.ea("ko",new Map([["AD_DURATION","광고 기간"],["AD_PROGRESS","광고 [AD_ON]/[NUM_ADS]"],["AD_TIME","광고: [AD_TIME]"],["AUTO_QUALITY","자동"],["BACK","뒤로"],["CAPTIONS","자막"],["CAST","전송..."],["ENTER_LOOP_MODE","현재 동영상 반복 재생"],["ENTER_PICTURE_IN_PICTURE","PIP 모드 시작"],["EXIT_FULL_SCREEN","전체화면 닫기"],["EXIT_LOOP_MODE","현재 동영상 반복 재생 중지"],["EXIT_PICTURE_IN_PICTURE","PIP 모드 종료"],["FAST_FORWARD","빨리 감기"],["FULL_SCREEN","전체화면"],["LANGUAGE","언어"],["LIVE","실시간"],["LOOP","반복 재생"],["MORE_SETTINGS","설정 더보기"],["MULTIPLE_LANGUAGES","여러 언어"],["MUTE","음소거"],["NOT_APPLICABLE","해당 사항 없음"],["OFF","사용 안함"],["ON","사용"],["PAUSE","일시중지"],["PICTURE_IN_PICTURE","PIP 모드"],["PLAY","재생"],["PLAYBACK_RATE","재생 속도"],["RESOLUTION","해상도"],["REWIND","되감기"],["SEEK","찾기"],["SKIP_AD","광고 건너뛰기"],["SKIP_TO_LIVE","라이브 동영상으로 건너뛰기"],["UNDETERMINED_LANGUAGE","미정"],["UNMUTE","음소거 해제"],["UNRECOGNIZED_LANGUAGE","알 수 없음"],["VOLUME","볼륨"]])),e.ea("nl",new Map([["AD_DURATION","Advertentieduur"],["AD_PROGRESS","Advertentie [AD_ON] van [NUM_ADS]"],["AD_TIME","Advertentie: [AD_TIME]"],["AUTO_QUALITY","Automatisch"],["BACK","Terug"],["CAPTIONS","Ondertiteling"],["CAST","Casten..."],["ENTER_LOOP_MODE","De huidige video lussen"],["ENTER_PICTURE_IN_PICTURE","Scherm-in-scherm openen"],["EXIT_FULL_SCREEN","Volledig scherm sluiten"],["EXIT_LOOP_MODE","De huidige video niet meer lussen"],["EXIT_PICTURE_IN_PICTURE","Scherm-in-scherm afsluiten"],["FAST_FORWARD","Vooruitspoelen"],["FULL_SCREEN","Volledig scherm"],["LANGUAGE","Taal"],["LIVE","Live"],["LOOP","Lussen"],["MORE_SETTINGS","Meer instellingen"],["MULTIPLE_LANGUAGES","Meerdere talen"],["MUTE","Dempen"],["NOT_APPLICABLE","Niet van toepassing"],["OFF","Uit"],["ON","Aan"],["PAUSE","Onderbreken"],["PICTURE_IN_PICTURE","Scherm-in-scherm"],["PLAY","Afspelen"],["PLAYBACK_RATE","Afspeelsnelheid"],["RESOLUTION","Resolutie"],["REWIND","Terugspoelen"],["SEEK","Zoeken"],["SKIP_AD","Advertentie overslaan"],["SKIP_TO_LIVE","Doorgaan naar live"],["UNDETERMINED_LANGUAGE","Onbepaald"],["UNMUTE","Dempen opheffen"],["UNRECOGNIZED_LANGUAGE","Onbekend"],["VOLUME","Volume"]])),e.ea("pl",new Map([["AD_DURATION","Czas trwania reklamy"],["AD_PROGRESS","Reklama [AD_ON] z [NUM_ADS]"],["AD_TIME","Reklama: [AD_TIME]"],["AUTO_QUALITY","Automatycznie"],["BACK","Wstecz"],["CAPTIONS","Napisy"],["CAST","Przesyłaj..."],["ENTER_LOOP_MODE","Odtwarzaj bieżący film w pętli"],["ENTER_PICTURE_IN_PICTURE","Włącz tryb obrazu w obrazie"],["EXIT_FULL_SCREEN","Zamknij pełny ekran"],["EXIT_LOOP_MODE","Wyłącz odtwarzanie bieżącego filmu w pętli"],["EXIT_PICTURE_IN_PICTURE","Wyłącz tryb obrazu w obrazie"],["FAST_FORWARD","Przewiń do przodu"],["FULL_SCREEN","Pełny ekran"],["LANGUAGE","Język"],["LIVE","Na żywo"],["LOOP","Odtwarzaj w pętli"],["MORE_SETTINGS","Więcej ustawień"],["MULTIPLE_LANGUAGES","Wiele języków"],["MUTE","Wycisz"],["NOT_APPLICABLE","Nie dotyczy"],["OFF","Wyłączone"],["ON","Włączone"],["PAUSE","Wstrzymaj"],["PICTURE_IN_PICTURE","Obraz w obrazie"],["PLAY","Odtwórz"],["PLAYBACK_RATE","Szybkość odtwarzania"],["RESOLUTION","Rozdzielczość"],["REWIND","Przewiń do tyłu"],["SEEK","Szukaj"],["SKIP_AD","Pomiń reklamę"],["SKIP_TO_LIVE","Przejdź do transmisji na żywo"],["UNDETERMINED_LANGUAGE","Nie określono"],["UNMUTE","Wyłącz wyciszenie"],["UNRECOGNIZED_LANGUAGE","Nierozpoznany"],["VOLUME","Głośność"]])),e.ea("pt-BR",new Map([["AD_DURATION","Duração do anúncio"],["AD_PROGRESS","Anúncio [AD_ON] de [NUM_ADS]"],["AD_TIME","Anúncio: [AD_TIME]"],["AUTO_QUALITY","Automática"],["BACK","Voltar"],["CAPTIONS","Legendas"],["CAST","Transmitir..."],["ENTER_LOOP_MODE","Repetir o vídeo atual"],["ENTER_PICTURE_IN_PICTURE","Entrar no modo picture-in-picture"],["EXIT_FULL_SCREEN","Sair do modo tela cheia"],["EXIT_LOOP_MODE","Parar repetição do vídeo atual"],["EXIT_PICTURE_IN_PICTURE","Sair de picture-in-picture"],["FAST_FORWARD","Avançar"],["FULL_SCREEN","Tela cheia"],["LANGUAGE","Idioma"],["LIVE","Ao vivo"],["LOOP","Repetir"],["MORE_SETTINGS","Mais definições"],["MULTIPLE_LANGUAGES","Vários idiomas"],["MUTE","Desativar som"],["NOT_APPLICABLE","Não relevante"],["OFF","Desativado"],["ON","Ativado"],["PAUSE","Pausar"],["PICTURE_IN_PICTURE","Picture-in-picture"],["PLAY","Reproduzir"],["PLAYBACK_RATE","Velocidade da reprodução"],["RESOLUTION","Resolução"],["REWIND","Retroceder"],["SEEK","Procurar"],["SKIP_AD","Pular anúncio"],["SKIP_TO_LIVE","Pular para transmissão ao vivo"],["UNDETERMINED_LANGUAGE","Indeterminado"],["UNMUTE","Ativar som"],["UNRECOGNIZED_LANGUAGE","Não reconhecido"],["VOLUME","Volume"]])),e.ea("ru",new Map([["AD_DURATION","Продолжительность рекламы"],["AD_PROGRESS","Реклама [AD_ON] из [NUM_ADS]"],["AD_TIME","Реклама: [AD_TIME]"],["AUTO_QUALITY","Авто"],["BACK","Назад"],["CAPTIONS","Субтитры"],["CAST","Транслировать..."],["ENTER_LOOP_MODE","Зациклить текущее видео"],["ENTER_PICTURE_IN_PICTURE",'Перейти в режим "Картинка в картинке"'],["EXIT_FULL_SCREEN","Обычный режим"],["EXIT_LOOP_MODE","Отменить зацикливание текущего видео"],["EXIT_PICTURE_IN_PICTURE",'Выйти из режима "Картинка в картинке"'],["FAST_FORWARD","Перемотка вперед"],["FULL_SCREEN","Полноэкранный режим"],["LANGUAGE","Язык"],["LIVE","Прямой эфир"],["LOOP","Зациклить"],["MORE_SETTINGS","Дополнительные настройки"],["MULTIPLE_LANGUAGES","Несколько языков"],["MUTE","Отключить звук"],["NOT_APPLICABLE","Неприменимо"],["OFF","Выкл."],["ON","Вкл."],["PAUSE","Пауза"],["PICTURE_IN_PICTURE","Картинка в картинке"],["PLAY","Воспроизвести"],["PLAYBACK_RATE","Скорость воспроизведения"],["RESOLUTION","Разрешение"],["REWIND","Перемотать назад"],["SEEK","Перемотка"],["SKIP_AD","Пропустить"],["SKIP_TO_LIVE","Пропустить и перейти к прямой трансляции"],["UNDETERMINED_LANGUAGE","Не указано"],["UNMUTE","Включить звук"],["UNRECOGNIZED_LANGUAGE","Не распознано"],["VOLUME","Громкость"]])),e.ea("th",new Map([["AD_DURATION","ระยะเวลาโฆษณา"],["AD_PROGRESS","โฆษณา [AD_ON] จาก [NUM_ADS] รายการ"],["AD_TIME","โฆษณา: [AD_TIME]"],["AUTO_QUALITY","อัตโนมัติ"],["BACK","กลับ"],["CAPTIONS","คำบรรยาย"],["CAST","แคสต์..."],["ENTER_LOOP_MODE","วนซ้ำวิดีโอปัจจุบัน"],["ENTER_PICTURE_IN_PICTURE","เข้าสู่การแสดงภาพซ้อนภาพ"],["EXIT_FULL_SCREEN","ออกจากการแสดงแบบเต็มหน้าจอ"],["EXIT_LOOP_MODE","หยุดวนซ้ำวิดีโอปัจจุบัน"],["EXIT_PICTURE_IN_PICTURE","ออกจากการแสดงภาพซ้อนภาพ"],["FAST_FORWARD","กรอไปข้างหน้า"],["FULL_SCREEN","เต็มหน้าจอ"],["LANGUAGE","ภาษา"],["LIVE","สด"],["LOOP","ลูป"],["MORE_SETTINGS","การตั้งค่าเพิ่มเติม"],["MULTIPLE_LANGUAGES","หลายภาษา"],["MUTE","ปิดเสียง"],["NOT_APPLICABLE","ไม่เกี่ยวข้อง"],["OFF","ปิด"],["ON","เปิด"],["PAUSE","หยุดชั่วคราว"],["PICTURE_IN_PICTURE","การแสดงภาพซ้อนภาพ"],["PLAY","เล่น"],["PLAYBACK_RATE","ความเร็วในการเล่น"],["RESOLUTION","ความละเอียด"],["REWIND","กรอกลับ"],["SEEK","ค้นหา"],["SKIP_AD","ข้ามโฆษณา"],["SKIP_TO_LIVE","ข้ามไปที่การถ่ายทอดสด"],["UNDETERMINED_LANGUAGE","ไม่กำหนด"],["UNMUTE","เปิดเสียง"],["UNRECOGNIZED_LANGUAGE","ที่ไม่รู้จัก"],["VOLUME","ระดับเสียง"]])),e.ea("tr",new Map([["AD_DURATION","Reklam süresi"],["AD_PROGRESS","[AD_ON]/[NUM_ADS] reklam"],["AD_TIME","Reklam: [AD_TIME]"],["AUTO_QUALITY","Otomatik"],["BACK","Geri"],["CAPTIONS","Altyazılar"],["CAST","Yayınla..."],["ENTER_LOOP_MODE","Mevcut videoyu döngüye al"],["ENTER_PICTURE_IN_PICTURE","Pencere içinde Pencere moduna gir"],["EXIT_FULL_SCREEN","Tam ekrandan çık"],["EXIT_LOOP_MODE","Mevcut videonun döngüsünü durdur"],["EXIT_PICTURE_IN_PICTURE","Pencere İçinde Pencereden Çık"],["FAST_FORWARD","İleri sar"],["FULL_SCREEN","Tam ekran"],["LANGUAGE","Dil"],["LIVE","Canlı"],["LOOP","Döngü"],["MORE_SETTINGS","Daha fazla ayar"],["MULTIPLE_LANGUAGES","Birden çok dil"],["MUTE","Sesi kapat"],["NOT_APPLICABLE","Geçerli değil"],["OFF","Kapalı"],["ON","Açık"],["PAUSE","Duraklat"],["PICTURE_IN_PICTURE","Pencere İçinde Pencere"],["PLAY","Oynat"],["PLAYBACK_RATE","Çalma hızı"],["RESOLUTION","Çözünürlük"],["REWIND","Geri sar"],["SEEK","Ara"],["SKIP_AD","Reklamı Atla"],["SKIP_TO_LIVE","Canlı yayına atla"],["UNDETERMINED_LANGUAGE","Belirsiz"],["UNMUTE","Sesi aç"],["UNRECOGNIZED_LANGUAGE","Tanınmayan"],["VOLUME","Ses"]])),e.ea("zh",new Map([["AD_DURATION","广告持续时间"],["AD_PROGRESS","广告 [AD_ON]/[NUM_ADS]"],["AD_TIME","广告：[AD_TIME]"],["AUTO_QUALITY","自动"],["BACK","返回"],["CAPTIONS","字幕"],["CAST","投射…"],["ENTER_LOOP_MODE","循环播放当前视频"],["ENTER_PICTURE_IN_PICTURE","进入“画中画”模式"],["EXIT_FULL_SCREEN","退出全屏模式"],["EXIT_LOOP_MODE","停止循环播放当前视频"],["EXIT_PICTURE_IN_PICTURE","退出“画中画”模式"],["FAST_FORWARD","快进"],["FULL_SCREEN","全屏"],["LANGUAGE","语言"],["LIVE","直播"],["LOOP","循环播放"],["MORE_SETTINGS","更多设置"],["MULTIPLE_LANGUAGES","多种语言"],["MUTE","静音"],["NOT_APPLICABLE","不适用"],["OFF","关闭"],["ON","开启"],["PAUSE","暂停"],["PICTURE_IN_PICTURE","画中画"],["PLAY","播放"],["PLAYBACK_RATE","播放速度"],["RESOLUTION","分辨率"],["REWIND","快退"],["SEEK","进度"],["SKIP_AD","跳过广告"],["SKIP_TO_LIVE","跳至当前直播"],["UNDETERMINED_LANGUAGE","未确定"],["UNMUTE","取消静音"],["UNRECOGNIZED_LANGUAGE","无法识别"],["VOLUME","音量"]])),e.ea("zh-TW",new Map([["AD_DURATION","廣告長度"],["AD_PROGRESS","廣告 [AD_ON]/[NUM_ADS]"],["AD_TIME","廣告：[AD_TIME]"],["AUTO_QUALITY","自動"],["BACK","返回"],["CAPTIONS","字幕"],["CAST","投放..."],["ENTER_LOOP_MODE","循環播放目前的影片"],["ENTER_PICTURE_IN_PICTURE","進入子母畫面"],["EXIT_FULL_SCREEN","退出全螢幕模式"],["EXIT_LOOP_MODE","停止循環播放目前的影片"],["EXIT_PICTURE_IN_PICTURE","離開子母畫面"],["FAST_FORWARD","快轉"],["FULL_SCREEN","全螢幕"],["LANGUAGE","語言"],["LIVE","直播"],["LOOP","循環播放"],["MORE_SETTINGS","顯示更多設定"],["MULTIPLE_LANGUAGES","多種語言"],["MUTE","靜音"],["NOT_APPLICABLE","不適用"],["OFF","關閉"],["ON","開啟"],["PAUSE","暫停"],["PICTURE_IN_PICTURE","子母畫面"],["PLAY","播放"],["PLAYBACK_RATE","播放速度"],["RESOLUTION","解析度"],["REWIND","倒轉"],["SEEK","搜尋"],["SKIP_AD","略過廣告"],["SKIP_TO_LIVE","跳至当前直播"],["UNDETERMINED_LANGUAGE","不明"],["UNMUTE","取消靜音"],["UNRECOGNIZED_LANGUAGE","無法辨識"],["VOLUME","音量"]])),e.xf(navigator.languages||[]),e}R("shaka.ui.Controls",O),O.prototype.isOpaque=O.prototype.Mb,O.prototype.hideAdUI=O.prototype.Kf,O.prototype.showAdUI=O.prototype.ag,O.prototype.toggleFullScreen=O.prototype.Xe,O.prototype.isFullScreenEnabled=O.prototype.ic,O.prototype.isFullScreenSupported=O.prototype.xd,O.prototype.hideSettingsMenus=O.prototype.fc,O.prototype.anySettingsMenusAreOpen=O.prototype.md,O.prototype.setLastTouchEventTime=O.prototype.Xf,O.prototype.getDisplayTime=O.prototype.Hf,O.prototype.isCastAllowed=O.prototype.eh,O.prototype.setSeeking=O.prototype.Qe,O.prototype.isSeeking=O.prototype.gh,O.prototype.getConfig=O.prototype.Dg,O.prototype.getClientSideAdContainer=O.prototype.Cg,O.prototype.getServerSideAdContainer=O.prototype.Ug,O.prototype.getControlsContainer=O.prototype.Fg,O.prototype.getLocalPlayer=O.prototype.Kg,O.prototype.getPlayer=O.prototype.cc,O.prototype.getLocalVideo=O.prototype.Lg,O.prototype.getVideo=O.prototype.zb,O.prototype.getVideoContainer=O.prototype.ah,O.prototype.getLocalization=O.prototype.Mg,O.prototype.getCastProxy=O.prototype.Ag,O.prototype.getAd=O.prototype.getAd,O.prototype.setEnabledNativeControls=O.prototype.Wf,O.prototype.setEnabledShakaControls=O.prototype.Me,O.prototype.configure=O.prototype.configure,O.prototype.loadComplete=O.prototype.hh,O.prototype.allowCast=O.prototype.ng,O.registerSeekBar=function(e){Jm=e},O.registerElement=Je,O.prototype.destroy=O.prototype.destroy;var Ic=new Map,Jm=new Sc;function po(e,t){Q.call(this,e,t);var n=this;this.l=this.controls.i,this.j=this.controls.g,this.i=[],this.g=Be(),this.g.classList.add("shaka-overflow-menu-button"),this.g.classList.add("shaka-no-propagation"),this.g.classList.add("material-icons-round"),this.g.classList.add("shaka-tooltip"),this.g.textContent="more_vert",this.parent.appendChild(this.g),this.h=b("div"),this.h.classList.add("shaka-overflow-menu"),this.h.classList.add("shaka-no-propagation"),this.h.classList.add("shaka-show-controls-on-mouse-over"),this.h.classList.add("shaka-hidden"),this.j.appendChild(this.h),K4(this),this.eventManager.o(this.localization,"locale-updated",function(){xc(n)}),this.eventManager.o(this.localization,"locale-changed",function(){xc(n)}),this.eventManager.o(this.adManager,"ad-started",function(){n.ad&&n.ad.isLinear()&&$(n.g,!1)}),this.eventManager.o(this.adManager,"ad-stopped",function(){$(n.g,!0)}),this.eventManager.o(this.controls,"submenuopen",function(){$(n.h,!1)}),this.eventManager.o(this.h,"touchstart",function(i){n.controls.Xf(Date.now()),i.stopPropagation()}),this.eventManager.o(this.g,"click",function(){z4(n)}),xc(this),this.ad&&this.ad.isLinear()&&$(this.g,!1)}K(po,Q),po.prototype.release=function(){this.j=null;for(var e=p(this.i),t=e.next();!t.done;t=e.next())t.value.release();this.i=[],Q.prototype.release.call(this)};function on(e,t){Cc.set(e,t)}function K4(e){for(var t=p(e.l.overflowMenuButtons),n=t.next();!n.done;n=t.next())n=n.value,Cc.get(n)?(n=Cc.get(n),e.i.push(n.create(e.h,e.controls))):pe("Unrecognized overflow menu element requested:",n)}function z4(e){if(e.controls.md())e.controls.fc();else{$(e.h,!0),Xt(e.controls);var t=function(n){return n.classList.contains("shaka-hidden")==0};yh(e.h.childNodes,t)&&Ei(e.h.childNodes,t)[0].focus()}}function xc(e){e.g.ariaLabel=e.localization.resolve("MORE_SETTINGS")}R("shaka.ui.OverflowMenu",po),po.registerElement=on;function Zm(){}Zm.prototype.create=function(e,t){return new po(e,t)},Je("overflow_menu",new Zm);var Cc=new Map;function Mc(e,t){Q.call(this,e,t);var n=this;this.g=Be(),this.g.classList.add("shaka-airplay-button"),this.g.classList.add("shaka-tooltip"),this.g.ariaPressed="false",this.h=b("i"),this.h.classList.add("material-icons-round"),this.h.textContent="airplay",this.g.appendChild(this.h),M.WebKitPlaybackTargetAvailabilityEvent||this.g.classList.add("shaka-hidden"),e=b("label"),e.classList.add("shaka-overflow-button-label"),e.classList.add("shaka-overflow-menu-only"),this.j=b("span"),e.appendChild(this.j),this.i=b("span"),this.i.classList.add("shaka-current-selection-span"),e.appendChild(this.i),this.g.appendChild(e),this.parent.appendChild(this.g),kc(this),Qm(this),this.eventManager.o(this.localization,"locale-updated",function(){kc(n)}),this.eventManager.o(this.localization,"locale-changed",function(){kc(n)}),this.eventManager.o(this.g,"click",function(){n.controls.zb().webkitShowPlaybackTargetPicker()}),e=this.controls.zb(),this.eventManager.o(e,"webkitplaybacktargetavailabilitychanged",function(i){var r=n.player.If()==yt;$(n.g,i.availability=="available"&&r)}),this.eventManager.o(e,"webkitcurrentplaybacktargetiswirelesschanged",function(){Qm(n)})}K(Mc,Q);function Qm(e){var t=e.controls.zb();e.g.ariaPressed=t&&t.webkitCurrentPlaybackTargetIsWireless?"true":"false"}function kc(e){e.g.ariaLabel=e.localization.resolve("AIRPLAY"),e.j.textContent=e.localization.resolve("AIRPLAY")}R("shaka.ui.AirPlayButton",Mc);function Lc(){}Lc.prototype.create=function(e,t){return new Mc(e,t)},on("airplay",new Lc),Je("airplay",new Lc);function et(e,t,n){this.i=e,this.h=ds(this),t.dataset.shakaPlayerContainer="",t.ui=this,this.pe()&&t.classList.add("shaka-mobile"),this.g=new O(e,t,n,this.h),this.configure({}),n.controls||e.Te(t),t.ui=this,n.ui=this}d=et.prototype,d.destroy=function(){var e=this;return I(function(t){if(t.g==1)return e.g?m(t,e.g.destroy(),2):t.D(2);if(t.g!=4)return e.g=null,e.i?m(t,e.i.destroy(),4):t.D(4);e.i=null,P(t)})},d.pe=function(){return/(?:iPhone|iPad|iPod|Android)/.test(navigator.userAgent)?!0:mr()&&1<navigator.maxTouchPoints},d.getConfiguration=function(){var e=ds(this);return Vr(e,this.h,ds(this),{},""),e},d.configure=function(e,t){arguments.length==2&&typeof e=="string"&&(e=cu(e,t)),Vr(this.h,e,ds(this),{},""),this.h.castReceiverAppId&&!this.h.overflowMenuButtons.includes("cast")&&this.h.overflowMenuButtons.push("cast"),this.g.configure(this.h),this.g.dispatchEvent(new U("uiupdated"))},d.Eg=function(){return this.g},d.Jh=function(e){this.g.Me(e)};function ds(e){var t={controlPanelElements:"play_pause time_and_duration spacer mute volume fullscreen overflow_menu".split(" "),overflowMenuButtons:"captions quality language picture_in_picture cast playback_rate".split(" "),statisticsList:"width height corruptedFrames decodedFrames droppedFrames drmTimeSeconds licenseTime liveLatency loadLatency bufferingTime manifestTimeSeconds estimatedBandwidth streamBandwidth maxSegmentDuration pauseTime playTime completionPercent".split(" "),contextMenuElements:["loop","picture_in_picture","statistics"],playbackRates:[.5,.75,1,1.25,1.5,1.75,2],fastForwardRates:[2,4,8,1],rewindRates:[-1,-2,-4,-8],addSeekBar:!0,addBigPlayButton:!1,customContextMenu:!1,castReceiverAppId:"",castAndroidReceiverCompatible:!1,clearBufferOnQualityChange:!0,showUnbufferedStart:!1,seekBarColors:{base:"rgba(255, 255, 255, 0.3)",buffered:"rgba(255, 255, 255, 0.54)",played:"rgb(255, 255, 255)",adBreaks:"rgb(255, 204, 0)"},volumeBarColors:{base:"rgba(255, 255, 255, 0.54)",level:"rgb(255, 255, 255)"},trackLabelFormat:Rc,fadeDelay:0,doubleClickForFullscreen:!0,singleClickForPlayAndPause:!0,enableKeyboardPlaybackControls:!0,enableFullscreenOnRotation:!0,forceLandscapeOnFullscreen:!0,enableTooltips:!1,keyboardSeekDistance:5};return M.WebKitPlaybackTargetAvailabilityEvent&&t.overflowMenuButtons.push("airplay"),e.pe()&&(t.addBigPlayButton=!0,t.controlPanelElements=t.controlPanelElements.filter(function(n){return n!="play_pause"&&n!="volume"})),t}function $m(){var e,t,n,i,r,o,u,s,a,l,c,f,h,g,v,T,E,y,x,A,w;return I(function(C){switch(C.g){case 1:if(Sg(),!sp())return Nc("shaka-ui-load-failed",tv),C.return();if(e=document.querySelectorAll("[data-shaka-player-container]"),t=document.querySelectorAll("[data-shaka-player]"),n=document.querySelectorAll("[data-shaka-player-canvas]"),!t.length&&!e.length){C.D(2);break}if(t.length&&!e.length){for(i=p(t),r=i.next();!r.done;r=i.next())if(o=r.value,!o.ui){for(u=document.createElement("div"),s=o.parentElement,s.replaceChild(u,o),u.appendChild(o),a=null,l=p(n),c=l.next();!c.done;c=l.next())if(f=c.value,f.parentElement==u){a=f;break}a||(a=document.createElement("canvas"),a.classList.add("shaka-canvas-container"),u.appendChild(a)),ev(u,o,a)}C.D(2);break}h=p(e),g=h.next();case 4:if(g.done){C.D(2);break}if(v=g.value,v.ui){C.D(5);break}for(T=null,E=p(t),r=E.next();!r.done;r=E.next())if(y=r.value,y.parentElement==v){T=y;break}for(T||(T=document.createElement("video"),T.setAttribute("playsinline",""),v.appendChild(T)),x=null,A=p(n),c=A.next();!c.done;c=A.next())if(w=c.value,w.parentElement==v){x=w;break}return x||(x=document.createElement("canvas"),x.classList.add("shaka-canvas-container"),v.appendChild(x)),ee(C,7),m(C,ev(v,T,x),9);case 9:le(C,5);break;case 7:return te(C),Nc("shaka-ui-load-failed",nv),C.return();case 5:g=h.next(),C.D(4);break;case 2:Nc("shaka-ui-loaded"),P(C)}})}function Nc(e,t){var n=null;t!=null&&(n={reasonCode:t}),e=new CustomEvent(e,{detail:n}),document.dispatchEvent(e)}function ev(e,t,n){var i,r,o,u,s,a,l,c,f;return I(function(h){switch(h.g){case 1:i=new L(t),r=new et(i,e,t),i.qf(n),o="",u=!1,e.dataset&&e.dataset.shakaPlayerCastReceiverId?(o=e.dataset.shakaPlayerCastReceiverId,u=e.dataset.shakaPlayerCastAndroidReceiverCompatible==="true"):t.dataset&&t.dataset.shakaPlayerCastReceiverId&&(o=t.dataset.shakaPlayerCastReceiverId,u=t.dataset.shakaPlayerCastAndroidReceiverCompatible==="true"),o.length&&r.configure({castReceiverAppId:o,castAndroidReceiverCompatible:u}),t.controls&&r.g.Wf(!0),(s=t.getAttribute("src"))&&(a=document.createElement("source"),a.setAttribute("src",s),t.appendChild(a),t.removeAttribute("src")),l=p(t.querySelectorAll("source")),c=l.next();case 2:if(c.done){h.D(0);break}return f=c.value,ee(h,5),m(h,r.g.cc().load(f.getAttribute("src")),7);case 7:h.D(0);break;case 5:te(h);case 3:c=l.next(),h.D(2)}})}R("shaka.ui.Overlay",et),et.prototype.setEnabled=et.prototype.Jh,et.prototype.getControls=et.prototype.Eg,et.prototype.configure=et.prototype.configure,et.prototype.getConfiguration=et.prototype.getConfiguration,et.prototype.isMobile=et.prototype.pe,et.prototype.destroy=et.prototype.destroy;var Rc=0;et.TrackLabelFormat={LANGUAGE:Rc,ROLE:1,LANGUAGE_ROLE:2,LABEL:3};var tv=0,nv=1;et.FailReasonCode={NO_BROWSER_SUPPORT:tv,PLAYER_FAILED_TO_LOAD:nv},document.readyState=="complete"?I(function(e){if(e.g==1)return m(e,Promise.resolve(),2);$m(),P(e)}):M.addEventListener("load",$m);function iv(e,t,n,i,r,o,u){function s(A,w){return A+": "+w}function a(A){return A.type=="variant"?A.audioRoles?A.audioRoles.join(", "):void 0:A.roles.join(", ")}var l=e.find(function(A){return A.active==1}),c=Fm(t);ii(t),t.appendChild(c),c=new Map;for(var f=p(e),h=f.next();!h.done;h=f.next())h=h.value,c.has(h.language)||c.set(h.language,new Set),c.get(h.language).add(a(h));for(c=new Set,l=l?s(l.language,a(l)):"",f={},e=p(e),h=e.next();!h.done;f={Va:f.Va},h=e.next()){f.Va=h.value,h=f.Va.language;var g=f.Va.forced,v=o.resolve(Xv.hg),T=a(f.Va),E=s(h,T);if(!c.has(E)){c.add(E);var y=Be();y.addEventListener("click",function(A){return function(){n(A.Va)}}(f));var x=b("span");switch(y.appendChild(x),x.textContent=q4(h,o),u){case Rc:g&&(x.textContent+=" ("+v+")");break;case 1:T?x.textContent=T:(pe("Track #"+f.Va.id+" does not have a role, but the UI is configured to only show role."),x.textContent="?"),g&&(x.textContent+=" ("+v+")");break;case 2:T&&(x.textContent+=": "+T),g&&(x.textContent+=" ("+v+")");break;case 3:f.Va.label?x.textContent=f.Va.label:(pe("Track #"+f.Va.id+" does not have a label, but the UI is configured to only show labels."),x.textContent="?")}i&&E==l&&(y.appendChild(er()),x.classList.add("shaka-chosen-item"),y.ariaSelected="true",r.textContent=x.textContent),t.appendChild(y)}}}function q4(e,t){if(!e&&!t)return"";switch(e){case"mul":return t.resolve("MULTIPLE_LANGUAGES");case"und":return t.resolve("UNDETERMINED_LANGUAGE");case"zxx":return t.resolve("NOT_APPLICABLE")}var n=Si(e);return e in ci?ci[e].u:n in ci?ci[n].u+" ("+e+")":t.resolve("UNRECOGNIZED_LANGUAGE")+" ("+e+")"}function un(e,t,n){Q.call(this,e,t);var i=this;H4(this,n),X4(this),W4(this),this.eventManager.o(this.button,"click",function(){i.menu.classList.contains("shaka-hidden")?(i.controls.dispatchEvent(new U("submenuopen")),$(i.menu,!0),ao(i.menu)):$(i.menu,!1)})}K(un,Q);function H4(e,t){e.button=Be(),e.button.classList.add("shaka-overflow-button"),e.icon=b("i"),e.icon.classList.add("material-icons-round"),e.icon.textContent=t,e.button.appendChild(e.icon),t=b("label"),t.classList.add("shaka-overflow-button-label"),t.classList.add("shaka-overflow-menu-only"),e.nameSpan=b("span"),t.appendChild(e.nameSpan),e.currentSelection=b("span"),e.currentSelection.classList.add("shaka-current-selection-span"),t.appendChild(e.currentSelection),e.button.appendChild(t),e.parent.appendChild(e.button)}function X4(e){e.menu=b("div"),e.menu.classList.add("shaka-no-propagation"),e.menu.classList.add("shaka-show-controls-on-mouse-over"),e.menu.classList.add("shaka-settings-menu"),e.menu.classList.add("shaka-hidden"),e.backButton=Be(),e.backButton.classList.add("shaka-back-to-overflow-button"),e.menu.appendChild(e.backButton),e.eventManager.o(e.backButton,"click",function(){e.controls.fc()});var t=b("i");t.classList.add("material-icons-round"),t.textContent="close",e.backButton.appendChild(t),e.backSpan=b("span"),e.backButton.appendChild(e.backSpan),e.controls.g.appendChild(e.menu)}function W4(e){e.parent.classList.contains("shaka-overflow-menu")&&(e.backButton.firstChild.textContent="arrow_back",e.eventManager.o(e.backButton,"click",function(){function t(n){return n.classList.contains("shaka-hidden")==0}$(e.parent,!0),yh(e.parent.childNodes,t)&&Ei(e.parent.childNodes,t)[0].focus(),Xt(e.controls)}))}R("shaka.ui.SettingsMenu",un);function _c(e,t){un.call(this,e,t,"language");var n=this;this.button.classList.add("shaka-language-button"),this.button.classList.add("shaka-tooltip-status"),this.menu.classList.add("shaka-audio-languages"),this.eventManager.o(this.localization,"locale-updated",function(){Pc(n)}),this.eventManager.o(this.localization,"locale-changed",function(){Pc(n)}),this.eventManager.o(this.player,"trackschanged",function(){var i=0<n.player.Qa().length;$(n.button,i),Dc(n)}),this.eventManager.o(this.player,"variantchanged",function(){Dc(n)}),Pc(this),Dc(this)}K(_c,un);function Dc(e){var t=e.player.Qa();iv(t,e.menu,function(n){e.player.Md(n.language,n.roles[0])},!0,e.currentSelection,e.localization,e.controls.i.trackLabelFormat),ao(e.menu),e.controls.dispatchEvent(new U("languageselectionupdated")),e.button.setAttribute("shaka-status",e.currentSelection.innerText)}function Pc(e){e.backButton.ariaLabel=e.localization.resolve("BACK"),e.button.ariaLabel=e.localization.resolve("LANGUAGE"),e.nameSpan.textContent=e.localization.resolve("LANGUAGE"),e.backSpan.textContent=e.localization.resolve("LANGUAGE")}R("shaka.ui.AudioLanguageSelection",_c);function Oc(){}Oc.prototype.create=function(e,t){return new _c(e,t)},on("language",new Oc),Je("language",new Oc);function Uc(e,t){Q.call(this,e,t);var n=this;this.h=this.controls.C,this.g=Be(),this.g.classList.add("shaka-cast-button"),this.g.classList.add("shaka-tooltip"),this.g.ariaPressed="false",this.i=b("i"),this.i.classList.add("material-icons-round"),this.i.textContent="cast",this.g.appendChild(this.i),e=b("label"),e.classList.add("shaka-overflow-button-label"),e.classList.add("shaka-overflow-menu-only"),this.l=b("span"),e.appendChild(this.l),this.j=b("span"),this.j.classList.add("shaka-current-selection-span"),e.appendChild(this.j),this.g.appendChild(e),this.parent.appendChild(this.g),bc(this),rv(this),this.eventManager.o(this.localization,"locale-updated",function(){bc(n)}),this.eventManager.o(this.localization,"locale-changed",function(){bc(n)}),this.eventManager.o(this.g,"click",function(){Y4(n)}),this.eventManager.o(this.controls,"caststatuschanged",function(){rv(n)})}K(Uc,Q);function Y4(e){var t;I(function(n){if(n.g==1)return e.h.na()?(e.h.cg(),n.D(0)):(ee(n,3),e.g.disabled=!0,m(n,e.h.cast(),5));if(n.g!=3)return e.g.disabled=!1,le(n,0);t=te(n),e.g.disabled=!1,t.code!=8004&&e.controls.dispatchEvent(new U("error",new Map().set("detail",t))),P(n)})}function rv(e){var t=e.h.uf()&&e.controls.Za,n=e.h.na();$(e.g,t),e.i.textContent=n?"cast_connected":"cast",t&&(e.g.ariaPressed=n?"true":"false"),ov(e)}function ov(e){e.j.textContent=e.h.na()?e.h.Jd():e.localization.resolve("OFF")}function bc(e){e.g.ariaLabel=e.localization.resolve("CAST"),e.l.textContent=e.localization.resolve("CAST"),ov(e)}R("shaka.ui.CastButton",Uc);function jc(){}jc.prototype.create=function(e,t){return new Uc(e,t)},on("cast",new jc),Je("cast",new jc);function Fc(e,t){Q.call(this,e,t);var n=this;this.g=Be(),this.g.classList.add("material-icons-round"),this.g.classList.add("shaka-fast-forward-button"),this.g.classList.add("shaka-tooltip-status"),this.g.setAttribute("shaka-status","1x"),this.g.textContent="fast_forward",this.parent.appendChild(this.g),Bc(this),this.h=this.controls.i.fastForwardRates,this.eventManager.o(this.localization,"locale-updated",function(){Bc(n)}),this.eventManager.o(this.localization,"locale-changed",function(){Bc(n)}),this.eventManager.o(this.g,"click",function(){if(n.video.duration){var i=n.h.indexOf(n.player.xb())+1;i=i!=n.h.length?n.h[i]:n.h[0],n.player.Ze(i),n.g.setAttribute("shaka-status",i+"x")}})}K(Fc,Q);function Bc(e){e.g.ariaLabel=e.localization.resolve("FAST_FORWARD")}R("shaka.ui.FastForwardButton",Fc);function uv(){}uv.prototype.create=function(e,t){return new Fc(e,t)},Je("fast_forward",new uv);function Gc(e,t){Q.call(this,e,t);var n=this;this.h=this.controls.B,this.g=Be(),this.g.classList.add("shaka-fullscreen-button"),this.g.classList.add("material-icons-round"),this.g.classList.add("shaka-tooltip"),Vc(this),this.g.textContent="fullscreen",this.parent.appendChild(this.g),fs(this),this.eventManager.o(this.localization,"locale-updated",function(){fs(n)}),this.eventManager.o(this.localization,"locale-changed",function(){fs(n)}),this.eventManager.o(this.g,"click",function(){return I(function(i){return m(i,n.controls.Xe(),0)})}),this.eventManager.o(document,"fullscreenchange",function(){n.g.textContent=n.controls.ic()?"fullscreen_exit":"fullscreen",fs(n)}),this.eventManager.o(this.h,"loadedmetadata",function(){Vc(n)}),this.eventManager.o(this.h,"loadeddata",function(){Vc(n)})}K(Gc,Q);function Vc(e){e.controls.xd()?e.g.classList.remove("shaka-hidden"):e.g.classList.add("shaka-hidden")}function fs(e){e.g.ariaLabel=e.localization.resolve(e.controls.ic()?"EXIT_FULL_SCREEN":"FULL_SCREEN")}R("shaka.ui.FullscreenButton",Gc);function sv(){}sv.prototype.create=function(e,t){return new Gc(e,t)},Je("fullscreen",new sv);function ps(e,t){Q.call(this,e,t);var n=this;this.g=Be(),this.g.classList.add("shaka-loop-button"),this.g.classList.add("shaka-tooltip"),this.i=b("i"),this.i.classList.add("material-icons-round"),this.i.textContent="repeat",this.g.appendChild(this.i),e=b("label"),e.classList.add("shaka-overflow-button-label"),e.classList.add("shaka-overflow-menu-only"),this.j=b("span"),this.j.textContent=this.localization.resolve("LOOP"),e.appendChild(this.j),this.l=b("span"),this.l.classList.add("shaka-current-selection-span"),e.appendChild(this.l),this.g.appendChild(e),gs(this),this.parent.appendChild(this.g),this.eventManager.o(this.localization,"locale-updated",function(){gs(n)}),this.eventManager.o(this.localization,"locale-changed",function(){gs(n)}),this.eventManager.o(this.g,"click",function(){n.video.loop=!n.video.loop,n.h.Aa(),n.h.ha(1)}),this.m=this.video.loop,this.h=new q(function(){n.m!=n.video.loop&&(gs(n),n.m=n.video.loop)}),this.h.ha(1)}K(ps,Q),ps.prototype.release=function(){this.h.stop(),this.h=null,Q.prototype.release.call(this)};function gs(e){e.j.textContent=e.localization.resolve("LOOP"),e.l.textContent=e.localization.resolve(e.video.loop?"ON":"OFF"),e.i.textContent=e.video.loop?"repeat_on":"repeat",e.g.ariaLabel=e.localization.resolve(e.video.loop?"EXIT_LOOP_MODE":"ENTER_LOOP_MODE")}R("shaka.ui.LoopButton",ps);function ms(){}ms.prototype.create=function(e,t){return new ps(e,t)},on("loop",new ms),Je("loop",new ms),ls("loop",new ms);function Kc(e,t){Q.call(this,e,t);var n=this;this.g=Be(),this.g.classList.add("shaka-mute-button"),this.g.classList.add("material-icons-round"),this.g.classList.add("shaka-tooltip"),this.parent.appendChild(this.g),hi(this),go(this),this.eventManager.o(this.localization,"locale-updated",function(){hi(n)}),this.eventManager.o(this.localization,"locale-changed",function(){hi(n)}),this.eventManager.o(this.g,"click",function(){n.ad&&n.ad.isLinear()?n.ad.setMuted(!n.ad.isMuted()):n.video.muted=!n.video.muted}),this.eventManager.o(this.video,"volumechange",function(){hi(n),go(n)}),this.eventManager.o(this.adManager,"ad-volume-changed",function(){hi(n),go(n)}),this.eventManager.o(this.adManager,"ad-muted",function(){hi(n),go(n)}),this.eventManager.o(this.adManager,"ad-stopped",function(){n.ad=null,hi(n),go(n)})}K(Kc,Q);function hi(e){var t=e.ad?e.ad.isMuted()?"UNMUTE":"MUTE":e.video.muted?"UNMUTE":"MUTE";e.g.ariaLabel=e.localization.resolve(t)}function go(e){var t=e.ad?e.ad.isMuted()?"volume_off":"volume_up":e.video.muted?"volume_off":"volume_up";e.g.textContent=t}R("shaka.ui.MuteButton",Kc);function av(){}av.prototype.create=function(e,t){return new Kc(e,t)},Je("mute",new av);function zc(e,t){Q.call(this,e,t);var n=this;this.l=this.controls.B,this.g=Be(),this.g.classList.add("shaka-pip-button"),this.g.classList.add("shaka-tooltip"),this.i=b("i"),this.i.classList.add("material-icons-round"),this.i.textContent="picture_in_picture_alt",this.g.appendChild(this.i),e=b("label"),e.classList.add("shaka-overflow-button-label"),e.classList.add("shaka-overflow-menu-only"),this.j=b("span"),this.j.textContent=this.localization.resolve("PICTURE_IN_PICTURE"),e.appendChild(this.j),this.h=b("span"),this.h.classList.add("shaka-current-selection-span"),e.appendChild(this.h),this.g.appendChild(e),qc(this),this.parent.appendChild(this.g),document.pictureInPictureEnabled&&!this.video.disablePictureInPicture||$(this.g,!1),this.eventManager.o(this.localization,"locale-updated",function(){qc(n)}),this.eventManager.o(this.localization,"locale-changed",function(){qc(n)}),this.eventManager.o(this.g,"click",function(){J4(n)}),this.eventManager.o(this.l,"enterpictureinpicture",function(){n.i.textContent="branding_watermark",n.g.ariaLabel=n.localization.resolve("EXIT_PICTURE_IN_PICTURE"),n.h.textContent=n.localization.resolve("ON")}),this.eventManager.o(this.l,"leavepictureinpicture",function(){n.i.textContent="picture_in_picture_alt",n.g.ariaLabel=n.localization.resolve("ENTER_PICTURE_IN_PICTURE"),n.h.textContent=n.localization.resolve("OFF")}),this.eventManager.o(this.controls,"caststatuschanged",function(i){i.newStatus?document.pictureInPictureEnabled&&!n.video.disablePictureInPicture&&$(n.g,!1):document.pictureInPictureEnabled&&!n.video.disablePictureInPicture&&$(n.g,!0)}),this.eventManager.o(this.player,"trackschanged",function(){Z4(n)})}K(zc,Q);function J4(e){var t;I(function(n){if(n.g==1)return ee(n,2),document.pictureInPictureElement?m(n,document.exitPictureInPicture(),5):(document.fullscreenElement&&document.exitFullscreen(),m(n,e.video.requestPictureInPicture(),5));if(n.g!=2)return le(n,0);t=te(n),e.controls.dispatchEvent(new U("error",new Map().set("detail",t))),P(n)})}function qc(e){e.j.textContent=e.localization.resolve("PICTURE_IN_PICTURE"),e.g.ariaLabel=e.localization.resolve(document.pictureInPictureElement?"EXIT_PICTURE_IN_PICTURE":"ENTER_PICTURE_IN_PICTURE"),e.h.textContent=e.localization.resolve(document.pictureInPictureElement?"ON":"OFF")}function Z4(e){I(function(t){return!document.pictureInPictureEnabled||e.video.disablePictureInPicture?($(e.g,!1),t.D(0)):!e.player||!e.player.hc()?($(e.g,!0),t.D(0)):($(e.g,!1),document.pictureInPictureElement?m(t,document.exitPictureInPicture(),0):t.D(0))})}R("shaka.ui.PipButton",zc);function vs(){}vs.prototype.create=function(e,t){return new zc(e,t)},on("picture_in_picture",new vs),Je("picture_in_picture",new vs),ls("picture_in_picture",new vs);function Hc(e,t){un.call(this,e,t,"slow_motion_video");var n=this;this.button.classList.add("shaka-playbackrate-button"),this.menu.classList.add("shaka-playback-rates"),this.button.classList.add("shaka-tooltip-status"),this.eventManager.o(this.localization,"locale-updated",function(){Xc(n)}),this.eventManager.o(this.localization,"locale-changed",function(){Xc(n)}),this.eventManager.o(this.player,"ratechange",function(){lv(n,n.player.xb())}),this.g=new Map(this.controls.i.playbackRates.map(function(i){return[i+"x",i]})),Xc(this),Q4(this),lv(this,this.player.xb())}K(Hc,un);function Xc(e){e.backButton.ariaLabel=e.localization.resolve("BACK"),e.button.ariaLabel=e.localization.resolve("PLAYBACK_RATE"),e.nameSpan.textContent=e.localization.resolve("PLAYBACK_RATE"),e.backSpan.textContent=e.localization.resolve("PLAYBACK_RATE")}function lv(e,t){var n=vc(e.menu,"material-icons-round shaka-chosen-item");if(n){var i=n.parentElement;i.removeAttribute("aria-selected"),i.getElementsByTagName("span")[0].classList.remove("shaka-chosen-item"),i.removeChild(n)}(n=Array.from(e.menu.querySelectorAll("span")).find(function(r){return e.g.get(r.textContent)==t}))&&(i=n.parentElement,i.appendChild(er()),i.ariaSelected="true",n.classList.add("shaka-chosen-item")),e.currentSelection.textContent=t+"x",e.button.setAttribute("shaka-status",t+"x")}function Q4(e){for(var t={},n=p(e.g.keys()),i=n.next();!i.done;t={xc:t.xc},i=n.next()){t.xc=i.value,i=Be();var r=b("span");r.textContent=t.xc,i.appendChild(r),e.eventManager.o(i,"click",function(o){return function(){e.video.playbackRate=e.g.get(o.xc),e.video.defaultPlaybackRate=e.g.get(o.xc)}}(t)),e.menu.appendChild(i)}ao(e.menu)}R("shaka.ui.PlaybackRateSelection",Hc);function Wc(){}Wc.prototype.create=function(e,t){return new Hc(e,t)},on("playback_rate",new Wc),Je("playback_rate",new Wc);function Yc(e,t){Q.call(this,e,t);var n=this;this.g=Be(),this.g.classList.add("shaka-current-time"),ys(this,"0:00"),this.parent.appendChild(this.g),this.eventManager.o(this.g,"click",function(){n.player.U()&&(n.video.currentTime=n.player.Ja().end)}),this.eventManager.o(this.controls,"timeandseekrangeupdated",function(){var i=n.controls.X,r=n.controls.Hf(),o=n.video.duration,u=n.player.Ja(),s=u.end-u.start;n.player.U()?(r=Math.max(0,Math.floor(u.end-r)),o=3600<=s,1<=r||i?(ys(n,"- "+tr(r,o)),n.g.disabled=!1):(ys(n,n.localization.resolve("LIVE")),n.g.disabled=!0)):(i=3600<=o,r=tr(r,i),o&&(r+=" / "+tr(o,i)),ys(n,r),n.g.disabled=!0)}),this.eventManager.o(this.player,"trackschanged",function(){n.player.U()&&(n.g.ariaLabel=n.localization.resolve("SKIP_TO_LIVE"))})}K(Yc,Q);function ys(e,t){t!=e.g.textContent&&(e.g.textContent=t)}R("shaka.ui.PresentationTimeTracker",Yc);function cv(){}cv.prototype.create=function(e,t){return new Yc(e,t)},Je("time_and_duration",new cv);function Jc(e,t){un.call(this,e,t,"settings");var n=this;this.button.classList.add("shaka-resolution-button"),this.button.classList.add("shaka-tooltip-status"),this.menu.classList.add("shaka-resolutions"),this.eventManager.o(this.localization,"locale-updated",function(){Zc(n)}),this.eventManager.o(this.localization,"locale-changed",function(){Zc(n)}),this.eventManager.o(this.player,"variantchanged",function(){mo(n)}),this.eventManager.o(this.player,"trackschanged",function(){mo(n)}),this.eventManager.o(this.player,"abrstatuschanged",function(){mo(n)}),mo(this)}K(Jc,un);function mo(e){var t=e.player.Qa(),n=t.find(function(a){return a.active});n&&(t=t.filter(function(a){return a.language==n.language&&a.channelsCount==n.channelsCount})),t=t.filter(function(a,l){return(e.player.hc()?t.findIndex(function(c){return c.bandwidth==a.bandwidth}):t.findIndex(function(c){return c.height==a.height}))==l}),e.player.hc()?t.sort(function(a,l){return l.bandwidth-a.bandwidth}):t.sort(function(a,l){return l.height-a.height});var i=Fm(e.menu);ii(e.menu),e.menu.appendChild(i),i=e.player.getConfiguration().abr.enabled;for(var r={},o=p(t),u=o.next();!u.done;r={Yb:r.Yb},u=o.next()){r.Yb=u.value,u=Be(),u.classList.add("explicit-resolution"),e.eventManager.o(u,"click",function(a){return function(){var l=a.Yb;e.player.configure({abr:{enabled:!1}}),e.player.Ke(l,e.controls.i.clearBufferOnQualityChange)}}(r));var s=b("span");s.textContent=e.player.hc()?Math.round(r.Yb.bandwidth/1e3)+" kbits/s":r.Yb.height+"p",u.appendChild(s),i||r.Yb!=n||(u.ariaSelected="true",u.appendChild(er()),s.classList.add("shaka-chosen-item"),e.currentSelection.textContent=s.textContent),e.menu.appendChild(u)}r=Be(),r.classList.add("shaka-enable-abr-button"),e.eventManager.o(r,"click",function(){e.player.configure({abr:{enabled:!0}}),mo(e)}),e.g=b("span"),e.g.classList.add("shaka-auto-span"),e.g.textContent=e.localization.resolve("AUTO_QUALITY"),r.appendChild(e.g),i&&(r.ariaSelected="true",r.appendChild(er()),e.g.classList.add("shaka-chosen-item"),e.currentSelection.textContent=e.localization.resolve("AUTO_QUALITY")),e.button.setAttribute("shaka-status",e.currentSelection.textContent),e.menu.appendChild(r),ao(e.menu),e.controls.dispatchEvent(new U("resolutionselectionupdated")),Zc(e)}function Zc(e){var t=e.player.hc()?"QUALITY":"RESOLUTION";e.button.ariaLabel=e.localization.resolve(t),e.backButton.ariaLabel=e.localization.resolve(t),e.backSpan.textContent=e.localization.resolve(t),e.nameSpan.textContent=e.localization.resolve(t),e.g.textContent=e.localization.resolve("AUTO_QUALITY"),e.player.getConfiguration().abr.enabled&&(e.currentSelection.textContent=e.localization.resolve("AUTO_QUALITY"))}R("shaka.ui.ResolutionSelection",Jc);function Qc(){}Qc.prototype.create=function(e,t){return new Jc(e,t)},on("quality",new Qc),Je("quality",new Qc);function $c(e,t){Q.call(this,e,t);var n=this;this.g=Be(),this.g.classList.add("material-icons-round"),this.g.classList.add("shaka-rewind-button"),this.g.classList.add("shaka-tooltip-status"),this.g.setAttribute("shaka-status",this.localization.resolve("OFF")),this.g.textContent="fast_rewind",this.parent.appendChild(this.g),eh(this),this.h=this.controls.i.rewindRates,this.eventManager.o(this.localization,"locale-updated",function(){eh(n)}),this.eventManager.o(this.localization,"locale-changed",function(){eh(n)}),this.eventManager.o(this.g,"click",function(){if(n.video.duration){var i=n.h.indexOf(n.player.xb())+1;i=i!=n.h.length?n.h[i]:n.h[0],n.player.Ze(i),n.g.setAttribute("shaka-status",i+"x")}})}K($c,Q);function eh(e){e.g.ariaLabel=e.localization.resolve("REWIND")}R("shaka.ui.RewindButton",$c);function hv(){}hv.prototype.create=function(e,t){return new $c(e,t)},Je("rewind",new hv);function th(e,t){Q.call(this,e,t);var n=this;this.j=b("div"),this.j.classList.add("shaka-skip-ad-container"),this.parent.appendChild(this.j),this.h=b("div"),this.h.classList.add("shaka-skip-ad-counter"),$(this.h,!1),this.j.appendChild(this.h),this.g=Be(),this.g.classList.add("shaka-skip-ad-button"),this.g.disabled=!0,$(this.g,!1),this.g.classList.add("shaka-no-propagation"),this.j.appendChild(this.g),nh(this),this.i=new q(function(){var i=Math.round(n.ad.getTimeUntilSkippable());0<i?n.h.textContent=i:(n.i.stop(),$(n.h,!1))}),this.eventManager.o(this.localization,"locale-updated",function(){nh(n)}),this.eventManager.o(this.localization,"locale-changed",function(){nh(n)}),this.eventManager.o(this.adManager,"ad-started",function(){dv(n)}),this.eventManager.o(this.adManager,"ad-skip-state-changed",function(){n.ad.canSkipNow()&&(n.g.disabled=!1,n.i.stop(),$(n.h,!1))}),this.eventManager.o(this.adManager,"ad-stopped",function(){n.i.stop(),n.g.disabled=!0,$(n.g,!1),$(n.h,!1)}),this.eventManager.o(this.g,"click",function(){n.ad.skip()}),this.ad&&dv(this)}K(th,Q),th.prototype.release=function(){this.i.stop(),this.i=null,Q.prototype.release.call(this)};function nh(e){e.g.textContent=e.localization.resolve("SKIP_AD")}function dv(e){e.ad.isSkippable()&&($(e.g,!0),$(e.h,!0),e.h.textContent="",e.i.Aa(),e.i.ha(.5))}R("shaka.ui.SkipAdButton",th);function vo(e,t){Tn.call(this,e,t),this.button.classList.add("shaka-small-play-button"),this.button.classList.add("material-icons-round"),this.button.classList.add("shaka-tooltip"),this.h(),this.g()}K(vo,Tn),vo.prototype.h=function(){this.button.textContent=this.video.ended?"replay":this.isPaused()?"play_arrow":"pause"},vo.prototype.g=function(){if(this.video.ended)this.button.ariaLabel=this.localization.resolve("REPLAY");else{var e=this.isPaused()?"PLAY":"PAUSE";this.button.ariaLabel=this.localization.resolve(e)}},R("shaka.ui.SmallPlayButton",vo);function fv(){}fv.prototype.create=function(e,t){return new vo(e,t)},Je("play_pause",new fv);function ih(e,t){Q.call(this,e,t),e=b("div"),e.classList.add("shaka-spacer"),e.ariaHidden="true",this.parent.appendChild(e)}K(ih,Q),R("shaka.ui.Spacer",ih);function pv(){}pv.prototype.create=function(e,t){return new ih(e,t)},Je("spacer",new pv);function Es(e,t){function n(a){return tr(s.h[a],!1)+" (m)"}function i(a){return Math.round(s.h[a]/1e3)+" (kbits/s)"}function r(a){return s.h[a].toFixed(2)+" (s)"}function o(a){return s.h[a]+" (frames)"}function u(a){return s.h[a]+" (px)"}Q.call(this,e,t);var s=this;this.i=Be(),this.i.classList.add("shaka-statistics-button"),this.j=b("i"),this.j.classList.add("material-icons-round"),this.j.textContent="insert_chart_outlined",this.i.appendChild(this.j),e=b("label"),e.classList.add("shaka-overflow-button-label"),this.s=b("span"),e.appendChild(this.s),this.m=b("span"),this.m.classList.add("shaka-current-selection-span"),e.appendChild(this.m),this.i.appendChild(e),this.parent.appendChild(this.i),this.g=b("div"),this.g.classList.add("shaka-no-propagation"),this.g.classList.add("shaka-show-controls-on-mouse-over"),this.g.classList.add("shaka-statistics-container"),this.g.classList.add("shaka-hidden"),this.controls.g.appendChild(this.g),this.F=[],this.G=["stateHistory","switchHistory"],this.h=this.player.getStats(),this.B={},this.C={width:u,height:u,completionPercent:function(a){return s.h[a]+" (%)"},bufferingTime:r,drmTimeSeconds:r,licenseTime:r,liveLatency:r,loadLatency:r,manifestTimeSeconds:r,estimatedBandwidth:i,streamBandwidth:i,maxSegmentDuration:n,pauseTime:n,playTime:n,corruptedFrames:o,decodedFrames:o,droppedFrames:o,stallsDetected:function(a){return s.h[a]+" (stalls)"},gapsJumped:function(a){return s.h[a]+" (gaps)"}},this.l=new q(function(){s.h=s.player.getStats();for(var a=p(s.F),l=a.next();!l.done;l=a.next())l=l.value,s.B[l].textContent=s.C[l](l)}),Ts(this),$4(this),this.eventManager.o(this.localization,"locale-updated",function(){Ts(s)}),this.eventManager.o(this.localization,"locale-changed",function(){Ts(s)}),this.eventManager.o(this.i,"click",function(){$(s.parent,!1),s.g.classList.contains("shaka-hidden")?(s.j.textContent="insert_chart",s.l.ha(.1),$(s.g,!0)):(s.j.textContent="insert_chart_outlined",s.l.stop(),$(s.g,!1)),Ts(s)})}K(Es,Q);function Ts(e){e.s.textContent=e.localization.resolve("STATISTICS"),e.i.ariaLabel=e.localization.resolve("STATISTICS"),e.m.textContent=e.localization.resolve(e.g.classList.contains("shaka-hidden")?"OFF":"ON")}function $4(e){for(var t=p(e.controls.i.statisticsList),n=t.next();!n.done;n=t.next())if(n=n.value,n in e.h&&!e.G.includes(n)){var i=e.g,r=i.appendChild,o=e,u=b("div"),s=b("label");s.textContent=n+":",u.appendChild(s),s=b("span"),s.textContent=o.C[n](n),u.appendChild(s),o.B[n]=s,r.call(i,u),e.F.push(n)}else pe("Unrecognized statistic element:",n)}Es.prototype.release=function(){this.l.stop(),this.l=null,Q.prototype.release.call(this)},R("shaka.ui.StatisticsButton",Es);function rh(){}rh.prototype.create=function(e,t){return new Es(e,t)},on("statistics",new rh),ls("statistics",new rh);function oh(e,t){un.call(this,e,t,"closed_caption");var n=this;this.button.classList.add("shaka-caption-button"),this.button.classList.add("shaka-tooltip-status"),this.menu.classList.add("shaka-text-languages"),this.player&&this.player.Nb()?this.button.ariaPressed="true":this.button.ariaPressed="false",ew(this),this.eventManager.o(this.localization,"locale-updated",function(){uh(n),di(n)}),this.eventManager.o(this.localization,"locale-changed",function(){uh(n),di(n)}),this.eventManager.o(this.player,"texttrackvisibility",function(){gv(n),di(n)}),this.eventManager.o(this.player,"textchanged",function(){di(n)}),this.eventManager.o(this.player,"trackschanged",function(){mv(n)}),gv(this),uh(this),di(this),mv(this)}K(oh,un);function ew(e){var t=Be();t.ariaSelected="true",e.menu.appendChild(t),t.appendChild(er()),e.g=b("span"),e.g.classList.add("shaka-auto-span"),t.appendChild(e.g)}function gv(e){e.player.Nb()?(e.icon.textContent="closed_caption",e.button.ariaPressed="true"):(e.icon.textContent="closed_caption_disabled",e.button.ariaPressed="false"),e.controls.dispatchEvent(new U("captionselectionupdated"))}function di(e){var t=e.player.yb();iv(t,e.menu,function(n){return tw(e,n)},e.player.Nb(),e.currentSelection,e.localization,e.controls.i.trackLabelFormat),t=Be(),t.classList.add("shaka-turn-captions-off-button"),e.eventManager.o(t,"click",function(){e.player.Se(!1),di(e)}),t.appendChild(e.g),e.menu.appendChild(t),e.player.Nb()||(t.ariaSelected="true",t.appendChild(er()),e.g.classList.add("shaka-chosen-item"),e.currentSelection.textContent=e.localization.resolve("OFF")),e.button.setAttribute("shaka-status",e.currentSelection.textContent),ao(e.menu),e.controls.dispatchEvent(new U("captionselectionupdated"))}function tw(e,t){return I(function(n){return e.player.Je(t),m(n,e.player.Se(!0),0)})}function uh(e){e.button.ariaLabel=e.localization.resolve("CAPTIONS"),e.backButton.ariaLabel=e.localization.resolve("BACK"),e.nameSpan.textContent=e.localization.resolve("CAPTIONS"),e.backSpan.textContent=e.localization.resolve("CAPTIONS"),e.g.textContent=e.localization.resolve("OFF")}function mv(e){var t=0<e.player.yb().length;$(e.button,t),di(e)}R("shaka.ui.TextSelection",oh);function sh(){}sh.prototype.create=function(e,t){return new oh(e,t)},on("captions",new sh),Je("captions",new sh);function As(e,t){be.call(this,e,t,["shaka-volume-bar-container"],["shaka-volume-bar"]);var n=this;this.h=this.controls.i,this.eventManager.o(this.video,"volumechange",function(){return ah(n)}),this.eventManager.o(this.adManager,"ad-volume-changed",function(){return vv(n)}),this.eventManager.o(this.adManager,"ad-muted",function(){return vv(n)}),this.eventManager.o(this.adManager,"ad-stopped",function(){return ah(n)}),this.eventManager.o(this.localization,"locale-updated",function(){return lh(n)}),this.eventManager.o(this.localization,"locale-changed",function(){return lh(n)}),ah(this),lh(this),this.ad&&this.onChange()}K(As,be),As.prototype.onChange=function(){this.ad&&this.ad.isLinear()?this.ad.setVolume(this.getValue()):(this.video.volume=this.getValue(),this.video.muted=this.video.volume==0)};function ah(e){e.video.muted?e.setValue(0):e.setValue(e.video.volume),yv(e)}function vv(e){var t=e.ad.getVolume();e.setValue(t),yv(e)}function yv(e){var t=e.h.volumeBarColors,n=["to right"];n.push(t.level+100*e.getValue()+"%"),n.push(t.base+100*e.getValue()+"%"),n.push(t.base+"100%"),e.container.style.background="linear-gradient("+n.join(",")+")"}function lh(e){e.bar.ariaLabel=e.localization.resolve("VOLUME")}R("shaka.ui.VolumeBar",As);function Ev(){}Ev.prototype.create=function(e,t){return new As(e,t)},Je("volume",new Ev)}).call(F,j,j,void 0);for(var J in F.shaka)Ee[J]=F.shaka[J]})()})(Sn);function Iv(Ee,j,F){const J=Ee.slice();return J[9]=j[F],J}function xv(Ee){let j,F;return{c(){j=Wt("source"),this.h()},l(J){j=Yt(J,"SOURCE",{src:!0}),this.h()},h(){ws(j.src,F=Ee[9])||tt(j,"src",F)},m(J,M){Is(J,j,M)},p(J,M){M&1&&!ws(j.src,F=J[9])&&tt(j,"src",F)},d(J){J&&Et(j)}}}function gw(Ee){let j,F,J=Ee[0],M=[];for(let z=0;z<J.length;z+=1)M[z]=xv(Iv(Ee,J,z));return{c(){j=Wt("div"),F=Wt("video");for(let z=0;z<M.length;z+=1)M[z].c();this.h()},l(z){j=Yt(z,"DIV",{class:!0});var de=wn(j);F=Yt(de,"VIDEO",{poster:!0});var d=wn(F);for(let We=0;We<M.length;We+=1)M[We].l(d);d.forEach(Et),de.forEach(Et),this.h()},h(){tt(F,"poster",Ee[1]),tt(j,"class","w-full h-full")},m(z,de){Is(z,j,de),Dt(j,F);for(let d=0;d<M.length;d+=1)M[d]&&M[d].m(F,null);Ee[7](F),Ee[8](j)},p(z,[de]){if(de&1){J=z[0];let d;for(d=0;d<J.length;d+=1){const We=Iv(z,J,d);M[d]?M[d].p(We,de):(M[d]=xv(We),M[d].c(),M[d].m(F,null))}for(;d<M.length;d+=1)M[d].d(1);M.length=J.length}de&2&&tt(F,"poster",z[1])},i:Ss,o:Ss,d(z){z&&Et(j),nw(M,z),Ee[7](null),Ee[8](null)}}}function mw(Ee,j,F){let J,M,{source:z=[]}=j,{poster:de=""}=j,{shakaPlayer:d}=j,{shakaUi:We}=j,{onError:st=Y=>{console.log(z,de.length),console.error(Y)}}=j;iw(()=>{document.addEventListener("shaka-ui-loaded",()=>{console.log("UI loaded")}),z.length===0&&st(new Sn.util.Error(Sn.util.Error.Severity.CRITICAL,Sn.util.Error.Category.PLAYER,Sn.util.Error.Code.INVALID_STREAMS_OBJECT)),Sn.polyfill.installAll(),Sn.Player.isBrowserSupported()?(F(4,d=new Sn.Player(M)),F(5,We=new Sn.ui.Overlay(d,J,M)),d.addEventListener("error",Y=>{st(Y.detail)}),d.load(z[0]).then(()=>{}).catch(st)):alert("Browser not supported!")});function Pt(Y){Av[Y?"unshift":"push"](()=>{M=Y,F(3,M)})}function je(Y){Av[Y?"unshift":"push"](()=>{J=Y,F(2,J)})}return Ee.$$set=Y=>{"source"in Y&&F(0,z=Y.source),"poster"in Y&&F(1,de=Y.poster),"shakaPlayer"in Y&&F(4,d=Y.shakaPlayer),"shakaUi"in Y&&F(5,We=Y.shakaUi),"onError"in Y&&F(6,st=Y.onError)},[z,de,J,M,d,We,st,Pt,je]}class vw extends Cv{constructor(j){super(),Mv(this,j,mw,gw,kv,{source:0,poster:1,shakaPlayer:4,shakaUi:5,onError:6})}}function yw(Ee){let j,F,J,M;return{c(){j=Wt("div"),F=Wt("img"),this.h()},l(z){j=Yt(z,"DIV",{class:!0});var de=wn(j);F=Yt(de,"IMG",{src:!0,class:!0,alt:!0}),de.forEach(Et),this.h()},h(){var z;ws(F.src,J=(z=Ee[0].media.media)==null?void 0:z.thumbnailDataUrl)||tt(F,"src",J),tt(F,"class","w-full h-full object-contain"),tt(F,"alt",M=Ee[0].media.title),tt(j,"class","bg-gray-900 w-full h-full flex items-center justify-center")},m(z,de){Is(z,j,de),Dt(j,F)},p(z,de){var d;de&1&&!ws(F.src,J=(d=z[0].media.media)==null?void 0:d.thumbnailDataUrl)&&tt(F,"src",J),de&1&&M!==(M=z[0].media.title)&&tt(F,"alt",M)},i:Ss,o:Ss,d(z){z&&Et(j)}}}function Ew(Ee){var J;let j,F;return j=new vw({props:{source:Ee[2],poster:(J=Ee[0].media.media)==null?void 0:J.thumbnailDataUrl}}),{c(){lw(j.$$.fragment)},l(M){cw(j.$$.fragment,M)},m(M,z){hw(j,M,z),F=!0},p(M,z){var d;const de={};z&1&&(de.poster=(d=M[0].media.media)==null?void 0:d.thumbnailDataUrl),j.$set(de)},i(M){F||(fh(j.$$.fragment,M),F=!0)},o(M){dh(j.$$.fragment,M),F=!1},d(M){dw(j,M)}}}function Tw(Ee){let j,F,J,M,z,de,d=Ee[0].media.title+"",We,st,Pt,je,Y,fi,p,se,nr,pi;const gi=[Ew,yw],Jt=[];function ir(He,K){return He[2].length>0&&He[0].media.media?0:1}return F=ir(Ee),J=Jt[F]=gi[F](Ee),{c(){j=Wt("div"),J.c(),M=Sv(),z=Wt("div"),de=Wt("h1"),We=ch(d),st=Sv(),Pt=Wt("p"),je=Wt("button"),Y=Wt("i"),fi=ch(" Copy stream link"),p=ch(`\r
\r
			The stream link can be opened in VLC or any other media player. Use this if the video player\r
			above doesn't work.`),this.h()},l(He){j=Yt(He,"DIV",{class:!0});var K=wn(j);J.l(K),M=wv(K),z=Yt(K,"DIV",{class:!0});var dt=wn(z);de=Yt(dt,"H1",{class:!0});var mi=wn(de);We=hh(mi,d),mi.forEach(Et),st=wv(dt),Pt=Yt(dt,"P",{class:!0});var Un=wn(Pt);je=Yt(Un,"BUTTON",{class:!0});var m=wn(je);Y=Yt(m,"I",{class:!0}),wn(Y).forEach(Et),fi=hh(m," Copy stream link"),m.forEach(Et),p=hh(Un,`\r
\r
			The stream link can be opened in VLC or any other media player. Use this if the video player\r
			above doesn't work.`),Un.forEach(Et),dt.forEach(Et),K.forEach(Et),this.h()},h(){tt(de,"class","text-3xl font-bold"),tt(Y,"class","fa-solid fa-copy"),tt(je,"class","btn btn-sm btn-primary gap-2"),tt(Pt,"class","text-gray-500 mt-2"),tt(z,"class","mt-4"),tt(j,"class","container mx-auto p-8")},m(He,K){Is(He,j,K),Jt[F].m(j,null),Dt(j,M),Dt(j,z),Dt(z,de),Dt(de,We),Dt(z,st),Dt(z,Pt),Dt(Pt,je),Dt(je,Y),Dt(je,fi),Dt(Pt,p),se=!0,nr||(pi=rw(je,"click",Ee[3]),nr=!0)},p(He,[K]){let dt=F;F=ir(He),F===dt?Jt[F].p(He,K):(aw(),dh(Jt[dt],1,1,()=>{Jt[dt]=null}),ow(),J=Jt[F],J?J.p(He,K):(J=Jt[F]=gi[F](He),J.c()),fh(J,1),J.m(j,M)),(!se||K&1)&&d!==(d=He[0].media.title+"")&&uw(We,d)},i(He){se||(fh(J),se=!0)},o(He){dh(J),se=!1},d(He){He&&Et(j),Jt[F].d(),nr=!1,pi()}}}function Aw(Ee,j,F){let J;sw(Ee,fw,d=>F(1,J=d));let{data:M}=j,z=[`/api/medias/${M.media.uid}/stream`];const de=()=>{navigator.clipboard.writeText(`${J.url.origin}${z[0]}`)};return Ee.$$set=d=>{"data"in d&&F(0,M=d.data)},[M,J,z,de]}class Mw extends Cv{constructor(j){super(),Mv(this,j,Aw,Tw,kv,{data:0})}}export{Mw as default};
