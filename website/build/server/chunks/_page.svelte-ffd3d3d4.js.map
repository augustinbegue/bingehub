{"version":3,"file":"_page.svelte-ffd3d3d4.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/admin/users/_page.svelte.js"],"sourcesContent":["import { c as create_ssr_component, a as subscribe, v as validate_component, e as each, f as add_attribute, d as escape } from \"../../../../chunks/index3.js\";\nimport { p as page } from \"../../../../chunks/stores.js\";\nimport { P as Pagination, M as Modal } from \"../../../../chunks/pagination.js\";\nconst Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $page, $$unsubscribe_page;\n  $$unsubscribe_page = subscribe(page, (value) => $page = value);\n  let createUserModal;\n  let editUserModal;\n  let modalUser;\n  let { data } = $$props;\n  let newUser = {\n    username: \"\",\n    password: \"\",\n    confirmPassword: \"\"\n  };\n  if ($$props.data === void 0 && $$bindings.data && data !== void 0)\n    $$bindings.data(data);\n  let $$settled;\n  let $$rendered;\n  do {\n    $$settled = true;\n    $$rendered = `<div class=\"overflow-x-auto flex flex-col\"><div class=\"flex flex-row mb-4\"><button class=\"btn btn-primary\">Create </button></div>\n\n\t${validate_component(Pagination, \"Pagination\").$$render(\n      $$result,\n      {\n        pagination: data.pagination,\n        url: $page.url.href\n      },\n      {},\n      {}\n    )}\n\n\t<table class=\"table table-zebra w-full\"><thead><tr><th></th>\n\t\t\t\t<th>Username</th>\n\t\t\t\t<th>Created @</th>\n\t\t\t\t<th>Updated @</th>\n\t\t\t\t<th>Active</th>\n\t\t\t\t<th>Actions</th></tr></thead>\n\t\t<tbody>${each(data.users, (user, i) => {\n      return `<tr><td>${escape(i + 1)}</td>\n\t\t\t\t\t<td>${escape(user.username)}</td>\n\t\t\t\t\t<td>${escape(user.createdAt.toLocaleString())}</td>\n\t\t\t\t\t<td>${escape(user.updatedAt.toLocaleString())}</td>\n\t\t\t\t\t<td><input class=\"toggle\" type=\"checkbox\"${add_attribute(\"checked\", user.isActive, 1)}></td>\n\t\t\t\t\t<td><button class=\"btn btn-sm btn-primary\">Edit\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<button class=\"btn btn-sm btn-error\">Delete</button></td>\n\t\t\t\t</tr>`;\n    })}</tbody></table></div>\n\n${validate_component(Modal, \"Modal\").$$render(\n      $$result,\n      { this: createUserModal },\n      {\n        this: ($$value) => {\n          createUserModal = $$value;\n          $$settled = false;\n        }\n      },\n      {\n        default: () => {\n          return `<div class=\"card-body\"><h1 class=\"text-2xl\">New user</h1>\n\t\t<div class=\"form-control\"><label class=\"label\"><span class=\"label-text\">username</span></label>\n\t\t\t<input type=\"text\" placeholder=\"username\" class=\"input input-bordered\"${add_attribute(\"value\", newUser.username, 0)}></div>\n\t\t<div class=\"form-control\"><label class=\"label\"><span class=\"label-text\">password</span></label>\n\t\t\t<input type=\"password\" placeholder=\"password\" class=\"input input-bordered\"${add_attribute(\"value\", newUser.password, 0)}></div>\n\t\t<div class=\"form-control\"><label class=\"label\"><span class=\"label-text\">confirm password</span></label>\n\t\t\t<input type=\"password\" placeholder=\"confirm password\" class=\"input input-bordered\"${add_attribute(\"value\", newUser.confirmPassword, 0)}></div>\n\t\t<div class=\"form-control mt-6\"><button class=\"btn btn-primary\">Create</button></div></div>`;\n        }\n      }\n    )}\n\n${validate_component(Modal, \"Modal\").$$render(\n      $$result,\n      { this: editUserModal },\n      {\n        this: ($$value) => {\n          editUserModal = $$value;\n          $$settled = false;\n        }\n      },\n      {\n        default: () => {\n          return `<div class=\"card-body\"><h1 class=\"text-2xl\">Edit User @${escape(modalUser.username)}</h1>\n\t\t<div class=\"form-control\"><label class=\"label\"><span class=\"label-text\">username</span></label>\n\t\t\t<input type=\"text\" placeholder=\"username\" class=\"input input-bordered\"${add_attribute(\"value\", modalUser.username, 0)}></div>\n\t\t<div class=\"form-controls\"><label class=\"label\"><span class=\"label-text\">Roles</span></label>\n\t\t\t<div class=\"flex flex-col flex-wrap\">${each(data.roles, (role) => {\n            return `<label class=\"label cursor-pointer\"><span class=\"label-text\">${escape(role.name)}</span>\n\t\t\t\t\t\t<input type=\"checkbox\" class=\"checkbox\" ${!!modalUser.roles.find((r) => r.uid === role.uid) ? \"checked\" : \"\"}>\n\t\t\t\t\t</label>`;\n          })}</div>\n\t\t\t<div class=\"form-control mt-6\"><button class=\"btn btn-primary\">Save</button></div></div></div>`;\n        }\n      }\n    )}`;\n  } while (!$$settled);\n  $$unsubscribe_page();\n  return $$rendered;\n});\nexport {\n  Page as default\n};\n"],"names":[],"mappings":"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"}