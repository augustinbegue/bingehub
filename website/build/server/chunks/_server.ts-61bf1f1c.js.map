{"version":3,"file":"_server.ts-61bf1f1c.js","sources":["../../../.svelte-kit/adapter-node/entries/endpoints/api/users/edit/_server.ts.js"],"sourcesContent":["import { e as error, j as json } from \"../../../../../chunks/index.js\";\nimport { p as prisma } from \"../../../../../chunks/prisma.js\";\nconst PATCH = async ({ locals, request }) => {\n  const userBody = await request.json();\n  if (!userBody.uid) {\n    throw error(400, \"Missing user UID\");\n  }\n  const updatedUser = await prisma.user.update({\n    where: {\n      uid: userBody.uid\n    },\n    data: {\n      username: userBody.username,\n      isActive: userBody.isActive,\n      roles: {\n        connect: userBody.roles\n      }\n    }\n  });\n  return json({\n    success: true,\n    user: updatedUser\n  });\n};\nexport {\n  PATCH\n};\n"],"names":[],"mappings":";;;;AAEK,MAAC,KAAK,GAAG,OAAO,EAAE,MAAM,EAAE,OAAO,EAAE,KAAK;AAC7C,EAAE,MAAM,QAAQ,GAAG,MAAM,OAAO,CAAC,IAAI,EAAE,CAAC;AACxC,EAAE,IAAI,CAAC,QAAQ,CAAC,GAAG,EAAE;AACrB,IAAI,MAAM,KAAK,CAAC,GAAG,EAAE,kBAAkB,CAAC,CAAC;AACzC,GAAG;AACH,EAAE,MAAM,WAAW,GAAG,MAAM,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC;AAC/C,IAAI,KAAK,EAAE;AACX,MAAM,GAAG,EAAE,QAAQ,CAAC,GAAG;AACvB,KAAK;AACL,IAAI,IAAI,EAAE;AACV,MAAM,QAAQ,EAAE,QAAQ,CAAC,QAAQ;AACjC,MAAM,QAAQ,EAAE,QAAQ,CAAC,QAAQ;AACjC,MAAM,KAAK,EAAE;AACb,QAAQ,OAAO,EAAE,QAAQ,CAAC,KAAK;AAC/B,OAAO;AACP,KAAK;AACL,GAAG,CAAC,CAAC;AACL,EAAE,OAAO,IAAI,CAAC;AACd,IAAI,OAAO,EAAE,IAAI;AACjB,IAAI,IAAI,EAAE,WAAW;AACrB,GAAG,CAAC,CAAC;AACL;;;;"}