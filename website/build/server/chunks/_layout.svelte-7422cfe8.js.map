{"version":3,"file":"_layout.svelte-7422cfe8.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/_layout.svelte.js"],"sourcesContent":["import { c as create_ssr_component, a as subscribe, e as each, b as add_classes, d as escape, v as validate_component } from \"../../chunks/index3.js\";\nimport { p as page } from \"../../chunks/stores.js\";\nimport { w as writable } from \"../../chunks/index2.js\";\nimport { c as currentUser } from \"../../chunks/index5.js\";\nimport { h as hasRole } from \"../../chunks/utils.js\";\nconst alerts = writable([]);\nconst Alerter = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $alerts, $$unsubscribe_alerts;\n  $$unsubscribe_alerts = subscribe(alerts, (value) => $alerts = value);\n  $$unsubscribe_alerts();\n  return `<div class=\"absolute bottom-0 p-4 w-full z-[1000]\"><div class=\"container mx-auto\">${each($alerts, (alert, i) => {\n    return `<div class=\"${[\n      \"alert shadow-lg m-2\",\n      (alert.type === \"info\" ? \"alert-info\" : \"\") + \" \" + (alert.type === \"success\" ? \"alert-success\" : \"\") + \" \" + (alert.type === \"warning\" ? \"alert-warning\" : \"\") + \" \" + (alert.type === \"error\" ? \"alert-error\" : \"\")\n    ].join(\" \").trim()}\"><div>${alert.type === \"info\" ? `<i class=\"fas fa-info-circle\"></i>` : ``}\n\t\t\t\t\t${alert.type === \"success\" ? `<i class=\"fas fa-check-circle\"></i>` : ``}\n\t\t\t\t\t${alert.type === \"warning\" ? `<i class=\"fas fa-exclamation-circle\"></i>` : ``}\n\t\t\t\t\t${alert.type === \"error\" ? `<i class=\"fas fa-exclamation-triangle\"></i>` : ``}\n\t\t\t\t\t<span><!-- HTML_TAG_START -->${alert.message}<!-- HTML_TAG_END --></span></div>\n\t\t\t\t<div class=\"flex-none\"><button class=\"btn btn-sm btn-ghost btn-primary\"><i class=\"fas fa-times\"></i>\n\t\t\t\t\t</button></div>\n\t\t\t</div>`;\n  })}</div></div>`;\n});\nconst Footer = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let { url } = $$props;\n  if ($$props.url === void 0 && $$bindings.url && url !== void 0)\n    $$bindings.url(url);\n  return `<footer class=\"hidden md:flex footer h-16 p-2 bg-base-300 flex-row items-center shrink-0\"><a class=\"footer-title link link-hover m-0\" href=\"https://begue.cc\">Augustin BÉGUÉ</a></footer>\n\n<div class=\"p-6 md:hidden\"></div>\n\n<div class=\"z-50 btm-nav flex btm-nav-sm md:hidden\"><a href=\"/new\"${add_classes((url?.toString().indexOf(\"/new\") != -1 ? \"active\" : \"\").trim())}><span class=\"material-icons-outlined\">add </span></a>\n\t<a href=\"/\"${add_classes((url?.toString().indexOf(\"/search\") === -1 && url?.toString().indexOf(\"/new\") === -1 ? \"active\" : \"\").trim())}><span class=\"material-icons-outlined\">home </span></a>\n\t<a href=\"/search\"${add_classes((url?.toString().indexOf(\"/search\") != -1 ? \"active\" : \"\").trim())}><span class=\"material-icons-outlined\">search </span></a></div>`;\n});\nconst Header = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $currentUser, $$unsubscribe_currentUser;\n  $$unsubscribe_currentUser = subscribe(currentUser, (value) => $currentUser = value);\n  let isAdmin = false;\n  {\n    (() => {\n      isAdmin = hasRole(\"admin\");\n    })();\n  }\n  $$unsubscribe_currentUser();\n  return `<header class=\"navbar bg-base-300 shrink-0\"><div class=\"navbar-start\"><a class=\"btn btn-ghost lowercase font-bold text-lg\" href=\"/\"><span class=\"mr-1\">binge</span>\n\t\t\t<span class=\"px-2 py-1 bg-primary rounded-md\">hub</span></a></div>\n\t<div class=\"hidden md:flex navbar-center\"><ul class=\"menu menu-horizontal px-1\"><li><a href=\"/search\">search</a></li>\n\t\t\t<li><a href=\"/requests\">requests</a></li></ul></div>\n\t<div class=\"navbar-end\">${$currentUser != null ? `<div class=\"dropdown dropdown-end\"><button tabindex=\"0\" class=\"btn lowercase\"><span class=\"text-base\">@${escape($currentUser.username)}</span></button>\n\t\t\t\t<ul class=\"menu bg-base-200 dropdown-content p-2 shadow rounded-box w-52 mt-4\"><li><a href=\"/settings\">settings</a></li>\n\t\t\t\t\t${isAdmin ? `<li><a href=\"/admin\">admin settings</a></li>` : ``}\n\n\t\t\t\t\t<div class=\"divider my-0 py-0\"></div>\n\t\t\t\t\t<li><button>logout\n\t\t\t\t\t\t</button></li></ul></div>` : `<a class=\"btn btn-ghost lowercase text-base font-bold\" href=\"/auth/login\">login</a>`}</div></header>`;\n});\nconst app = \"\";\nconst Layout = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $$unsubscribe_currentUser;\n  let $page, $$unsubscribe_page;\n  $$unsubscribe_currentUser = subscribe(currentUser, (value) => value);\n  $$unsubscribe_page = subscribe(page, (value) => $page = value);\n  let { data } = $$props;\n  if ($$props.data === void 0 && $$bindings.data && data !== void 0)\n    $$bindings.data(data);\n  $$unsubscribe_currentUser();\n  $$unsubscribe_page();\n  return `${validate_component(Alerter, \"Alerter\").$$render($$result, {}, {}, {})}\n<div class=\"min-h-screen flex flex-col justify-between\">${validate_component(Header, \"Header\").$$render($$result, {}, {}, {})}\n\n\t<main class=\"flex flex-col grow\">${slots.default ? slots.default({}) : ``}</main>\n\n\t${validate_component(Footer, \"Footer\").$$render($$result, { url: $page.url }, {}, {})}</div>`;\n});\nexport {\n  Layout as default\n};\n"],"names":[],"mappings":"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"}